import{f as Z,r as p,e as Te,u as Oe,j as h,b as ae,m as X,Z as me,d as ft}from"./index-VyhKji2U.js";import{H as Le}from"./Holocard-CqMMM66H.js";import{c as A,a as Me,u as $e,b as mt,s as ue,i as O,d as xt,e as R,f as re,g as vt,h as _t,j as yt,k as gt,l as De,m as bt,n as ze,o as J,p as he,q as Nt,r as At,t as Re,v as Be,w as wt,x as We,y as xe,z as jt,A as kt,B as Pt,C as de,D as Et,E as Ke,F as It,S as Ct,G as St,H as Tt,I as Xe,J as Ot,K as Lt,L as Mt,M as $t,Z as Dt,N as Y,O as ve,P as _e,Q as ye,T as zt,U as Rt,V as Bt,W as D,X as Wt,Y as Kt,_ as Xt,$ as Gt,a0 as Yt,a1 as Ht,a2 as Ut,a3 as Ft,a4 as Vt,a5 as qt,a6 as Zt,a7 as Jt,a8 as Qt,R as ei}from"./CategoricalChart-kx1i0unR.js";import"./with-selector-BwKRMBZb.js";import"./ordinal-C42Khp9f.js";const ti=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ge=Z("circle-alert",ti);const ii=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ni=Z("target",ii);const ai=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ri=Z("trending-up",ai);const si=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],oi=Z("trophy",si),se=Math.PI,oe=2*se,M=1e-6,li=oe-M;function Ge(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function ci(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ge;const i=10**t;return function(n){this._+=n[0];for(let a=1,r=n.length;a<r;++a)this._+=Math.round(arguments[a]*i)/i+n[a]}}class ui{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ge:ci(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,n,a){this._append`Q${+t},${+i},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,i,n,a,r,o){this._append`C${+t},${+i},${+n},${+a},${this._x1=+r},${this._y1=+o}`}arcTo(t,i,n,a,r){if(t=+t,i=+i,n=+n,a=+a,r=+r,r<0)throw new Error(`negative radius: ${r}`);let o=this._x1,s=this._y1,l=n-t,c=a-i,d=o-t,u=s-i,f=d*d+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(f>M)if(!(Math.abs(u*l-c*d)>M)||!r)this._append`L${this._x1=t},${this._y1=i}`;else{let m=n-o,x=a-s,y=l*l+c*c,_=m*m+x*x,g=Math.sqrt(y),N=Math.sqrt(f),b=r*Math.tan((se-Math.acos((y+f-_)/(2*g*N)))/2),v=b/N,w=b/g;Math.abs(v-1)>M&&this._append`L${t+v*d},${i+v*u}`,this._append`A${r},${r},0,0,${+(u*m>d*x)},${this._x1=t+w*l},${this._y1=i+w*c}`}}arc(t,i,n,a,r,o){if(t=+t,i=+i,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,d=i+l,u=1^o,f=o?a-r:r-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>M||Math.abs(this._y1-d)>M)&&this._append`L${c},${d}`,n&&(f<0&&(f=f%oe+oe),f>li?this._append`A${n},${n},0,1,${u},${t-s},${i-l}A${n},${n},0,1,${u},${this._x1=c},${this._y1=d}`:f>M&&this._append`A${n},${n},0,${+(f>=se)},${u},${this._x1=t+n*Math.cos(r)},${this._y1=i+n*Math.sin(r)}`)}rect(t,i,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ye(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const n=Math.floor(i);if(!(n>=0))throw new RangeError(`invalid digits: ${i}`);t=n}return e},()=>new ui(t)}function He(e){this._context=e}He.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Q(e){return new He(e)}function Ue(e){return e[0]}function Fe(e){return e[1]}function Ve(e,t){var i=A(!0),n=null,a=Q,r=null,o=Ye(s);e=typeof e=="function"?e:e===void 0?Ue:A(e),t=typeof t=="function"?t:t===void 0?Fe:A(t);function s(l){var c,d=(l=Me(l)).length,u,f=!1,m;for(n==null&&(r=a(m=o())),c=0;c<=d;++c)!(c<d&&i(u=l[c],c,l))===f&&((f=!f)?r.lineStart():r.lineEnd()),f&&r.point(+e(u,c,l),+t(u,c,l));if(m)return r=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:A(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:A(+l),s):t},s.defined=function(l){return arguments.length?(i=typeof l=="function"?l:A(!!l),s):i},s.curve=function(l){return arguments.length?(a=l,n!=null&&(r=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=r=null:r=a(n=l),s):n},s}function G(e,t,i){var n=null,a=A(!0),r=null,o=Q,s=null,l=Ye(c);e=typeof e=="function"?e:e===void 0?Ue:A(+e),t=typeof t=="function"?t:t===void 0?A(0):A(+t),i=typeof i=="function"?i:i===void 0?Fe:A(+i);function c(u){var f,m,x,y=(u=Me(u)).length,_,g=!1,N,b=new Array(y),v=new Array(y);for(r==null&&(s=o(N=l())),f=0;f<=y;++f){if(!(f<y&&a(_=u[f],f,u))===g)if(g=!g)m=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=f-1;x>=m;--x)s.point(b[x],v[x]);s.lineEnd(),s.areaEnd()}g&&(b[f]=+e(_,f,u),v[f]=+t(_,f,u),s.point(n?+n(_,f,u):b[f],i?+i(_,f,u):v[f]))}if(N)return s=null,N+""||null}function d(){return Ve().defined(a).curve(o).context(r)}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:A(+u),n=null,c):e},c.x0=function(u){return arguments.length?(e=typeof u=="function"?u:A(+u),c):e},c.x1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:A(+u),c):n},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:A(+u),i=null,c):t},c.y0=function(u){return arguments.length?(t=typeof u=="function"?u:A(+u),c):t},c.y1=function(u){return arguments.length?(i=u==null?null:typeof u=="function"?u:A(+u),c):i},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(i)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(u){return arguments.length?(a=typeof u=="function"?u:A(!!u),c):a},c.curve=function(u){return arguments.length?(o=u,r!=null&&(s=o(r)),c):o},c.context=function(u){return arguments.length?(u==null?r=s=null:s=o(r=u),c):r},c}class qe{constructor(t,i){this._context=t,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,i){switch(t=+t,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,i,t,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,t,this._y0,t,i);break}}this._x0=t,this._y0=i}}function hi(e){return new qe(e,!0)}function di(e){return new qe(e,!1)}function H(){}function U(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function Ze(e){this._context=e}Ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:U(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:U(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pi(e){return new Ze(e)}function Je(e){this._context=e}Je.prototype={areaStart:H,areaEnd:H,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:U(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fi(e){return new Je(e)}function Qe(e){this._context=e}Qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:U(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mi(e){return new Qe(e)}function et(e){this._context=e}et.prototype={areaStart:H,areaEnd:H,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xi(e){return new et(e)}function be(e){return e<0?-1:1}function Ne(e,t,i){var n=e._x1-e._x0,a=t-e._x1,r=(e._y1-e._y0)/(n||a<0&&-0),o=(i-e._y1)/(a||n<0&&-0),s=(r*a+o*n)/(n+a);return(be(r)+be(o))*Math.min(Math.abs(r),Math.abs(o),.5*Math.abs(s))||0}function Ae(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function te(e,t,i){var n=e._x0,a=e._y0,r=e._x1,o=e._y1,s=(r-n)/3;e._context.bezierCurveTo(n+s,a+s*t,r-s,o-s*i,r,o)}function F(e){this._context=e}F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:te(this,this._t0,Ae(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,te(this,Ae(this,i=Ne(this,e,t)),i);break;default:te(this,this._t0,i=Ne(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}};function tt(e){this._context=new it(e)}(tt.prototype=Object.create(F.prototype)).point=function(e,t){F.prototype.point.call(this,t,e)};function it(e){this._context=e}it.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,n,a,r){this._context.bezierCurveTo(t,e,n,i,r,a)}};function vi(e){return new F(e)}function _i(e){return new tt(e)}function nt(e){this._context=e}nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),i===2)this._context.lineTo(e[1],t[1]);else for(var n=we(e),a=we(t),r=0,o=1;o<i;++r,++o)this._context.bezierCurveTo(n[0][r],a[0][r],n[1][r],a[1][r],e[o],t[o]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function we(e){var t,i=e.length-1,n,a=new Array(i),r=new Array(i),o=new Array(i);for(a[0]=0,r[0]=2,o[0]=e[0]+2*e[1],t=1;t<i-1;++t)a[t]=1,r[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[i-1]=2,r[i-1]=7,o[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=a[t]/r[t-1],r[t]-=n,o[t]-=n*o[t-1];for(a[i-1]=o[i-1]/r[i-1],t=i-2;t>=0;--t)a[t]=(o[t]-a[t+1])/r[t];for(r[i-1]=(e[i]+a[i-1])/2,t=0;t<i-1;++t)r[t]=2*e[t+1]-a[t+1];return[a,r]}function yi(e){return new nt(e)}function ee(e,t){this._context=e,this._t=t}ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=e,this._y=t}};function gi(e){return new ee(e,.5)}function bi(e){return new ee(e,0)}function Ni(e){return new ee(e,1)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},le.apply(null,arguments)}function je(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,n)}return i}function ke(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?je(Object(i),!0).forEach(function(n){Ai(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):je(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Ai(e,t,i){return(t=wi(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function wi(e){var t=ji(e,"string");return typeof t=="symbol"?t:t+""}function ji(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pe={curveBasisClosed:fi,curveBasisOpen:mi,curveBasis:pi,curveBumpX:hi,curveBumpY:di,curveLinearClosed:xi,curveLinear:Q,curveMonotoneX:vi,curveMonotoneY:_i,curveNatural:yi,curveStep:gi,curveStepAfter:Ni,curveStepBefore:bi},V=e=>R(e.x)&&R(e.y),Ee=e=>e.base!=null&&V(e.base)&&V(e),W=e=>e.x,K=e=>e.y,ki=(e,t)=>{if(typeof e=="function")return e;var i="curve".concat(xt(e));if((i==="curveMonotone"||i==="curveBump")&&t){var n=Pe["".concat(i).concat(t==="vertical"?"Y":"X")];if(n)return n}return Pe[i]||Q},Ie={connectNulls:!1,type:"linear"},Pi=e=>{var{type:t=Ie.type,points:i=[],baseLine:n,layout:a,connectNulls:r=Ie.connectNulls}=e,o=ki(t,a),s=r?i.filter(V):i;if(Array.isArray(n)){var l,c=i.map((x,y)=>ke(ke({},x),{},{base:n[y]}));a==="vertical"?l=G().y(K).x1(W).x0(x=>x.base.x):l=G().x(W).y1(K).y0(x=>x.base.y);var d=l.defined(Ee).curve(o),u=r?c.filter(Ee):c;return d(u)}var f;a==="vertical"&&O(n)?f=G().y(K).x1(W).x0(n):O(n)?f=G().x(W).y1(K).y0(n):f=Ve().x(W).y(K);var m=f.defined(V).curve(o);return m(s)},ie=e=>{var{className:t,points:i,path:n,pathRef:a}=e,r=$e();if((!i||!i.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||r,connectNulls:e.connectNulls},s=i&&i.length?Pi(o):n;return p.createElement("path",le({},ue(e),mt(e),{className:Te("recharts-curve",t),d:s===null?void 0:s,ref:a}))};function at(e,t){var i,n,a=re(c=>vt(c,e)),r=re(c=>_t(c,t)),o=(i=a?.allowDataOverflow)!==null&&i!==void 0?i:yt.allowDataOverflow,s=(n=r?.allowDataOverflow)!==null&&n!==void 0?n:gt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Ei(e){var{xAxisId:t,yAxisId:i,clipPathId:n}=e,a=De(),{needClipX:r,needClipY:o,needClip:s}=at(t,i);if(!s||!a)return null;var{x:l,y:c,width:d,height:u}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:r?l:l-d/2,y:o?c:c-u/2,width:r?d:d*2,height:o?u:u*2}))}function Ii(e){var t=bt(e),i=3,n=2;if(t!=null){var{r:a,strokeWidth:r}=t,o=Number(a),s=Number(r);return(Number.isNaN(o)||o<0)&&(o=i),(Number.isNaN(s)||s<0)&&(s=n),{r:o,strokeWidth:s}}return{r:i,strokeWidth:n}}function pe(e,t){var i,n;return(i=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&i!==void 0?i:ze}function fe(e,t){var i,n;return(i=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&i!==void 0?i:ze}var rt=(e,t,i)=>Re(e,"xAxis",pe(e,t),i),st=(e,t,i)=>Be(e,"xAxis",pe(e,t),i),ot=(e,t,i)=>Re(e,"yAxis",fe(e,t),i),lt=(e,t,i)=>Be(e,"yAxis",fe(e,t),i),Ci=J([he,rt,ot,st,lt],(e,t,i,n,a)=>We(e,"xAxis")?xe(t,n,!1):xe(i,a,!1)),Si=(e,t)=>t,ct=J([jt,Si],(e,t)=>e.filter(i=>i.type==="area").find(i=>i.id===t)),ut=e=>{var t=he(e),i=We(t,"xAxis");return i?"yAxis":"xAxis"},Ti=(e,t)=>{var i=ut(e);return i==="yAxis"?fe(e,t):pe(e,t)},Oi=(e,t,i)=>kt(e,ut(e),Ti(e,t),i),Li=J([ct,Oi],(e,t)=>{var i;if(!(e==null||t==null)){var{stackId:n}=e,a=wt(e);if(!(n==null||a==null)){var r=(i=t[n])===null||i===void 0?void 0:i.stackedData,o=r?.find(s=>s.key===a);if(o!=null)return o.map(s=>[s[0],s[1]])}}}),Mi=J([he,rt,ot,st,lt,Li,Nt,Ci,ct,At],(e,t,i,n,a,r,o,s,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:f}=o;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||i==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{data:m}=l,x;if(m&&m.length>0?x=m:x=d?.slice(u,f+1),x!=null)return en({layout:e,xAxis:t,yAxis:i,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:r,displayedData:x,chartBaseValue:c,bandSize:s})}}),$i=["id"],Di=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$.apply(null,arguments)}function ht(e,t){if(e==null)return{};var i,n,a=zi(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function zi(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function Ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,n)}return i}function z(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ce(Object(i),!0).forEach(function(n){Ri(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ce(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Ri(e,t,i){return(t=Bi(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Bi(e){var t=Wi(e,"string");return typeof t=="symbol"?t:t+""}function Wi(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q(e,t){return e&&e!=="none"?e:t}var Ki=e=>{var{dataKey:t,name:i,stroke:n,fill:a,legendType:r,hide:o}=e;return[{inactive:o,dataKey:t,type:r,color:q(n,a),value:Xe(i,t),payload:e}]},Xi=p.memo(e=>{var{dataKey:t,data:i,stroke:n,strokeWidth:a,fill:r,name:o,hide:s,unit:l,tooltipType:c,id:d}=e,u={dataDefinedOnItem:i,getPosition:Lt,settings:{stroke:n,strokeWidth:a,fill:r,dataKey:t,nameKey:void 0,name:Xe(o,t),hide:s,type:c,color:q(n,r),unit:l,graphicalItemId:d}};return p.createElement(Ot,{tooltipEntrySettings:u})});function Gi(e){var{clipPathId:t,points:i,props:n}=e,{needClip:a,dot:r,dataKey:o}=n,s=ue(n);return p.createElement(Ht,{points:i,dot:r,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:a,clipPathId:t})}function Yi(e){var{showLabels:t,children:i,points:n}=e,a=n.map(r=>{var o,s,l={x:(o=r.x)!==null&&o!==void 0?o:0,y:(s=r.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return z(z({},l),{},{value:r.value,payload:r.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return p.createElement(Gt,{value:t?a:void 0},i)}function Se(e){var{points:t,baseLine:i,needClip:n,clipPathId:a,props:r}=e,{layout:o,type:s,stroke:l,connectNulls:c,isRange:d}=r,{id:u}=r,f=ht(r,$i),m=ue(f),x=Yt(f);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(Y,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},p.createElement(ie,$({},x,{id:u,points:t,connectNulls:c,type:s,baseLine:i,layout:o,stroke:"none",className:"recharts-area-area"})),l!=="none"&&p.createElement(ie,$({},m,{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:t})),l!=="none"&&d&&p.createElement(ie,$({},m,{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:i}))),p.createElement(Gi,{points:t,props:f,clipPathId:a}))}function Hi(e){var t,i,{alpha:n,baseLine:a,points:r,strokeWidth:o}=e,s=(t=r[0])===null||t===void 0?void 0:t.y,l=(i=r[r.length-1])===null||i===void 0?void 0:i.y;if(!R(s)||!R(l))return null;var c=n*Math.abs(s-l),d=Math.max(...r.map(u=>u.x||0));return O(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(u=>u.x||0),d)),O(d)?p.createElement("rect",{x:0,y:s<l?s:s-c,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(c)}):null}function Ui(e){var t,i,{alpha:n,baseLine:a,points:r,strokeWidth:o}=e,s=(t=r[0])===null||t===void 0?void 0:t.x,l=(i=r[r.length-1])===null||i===void 0?void 0:i.x;if(!R(s)||!R(l))return null;var c=n*Math.abs(s-l),d=Math.max(...r.map(u=>u.y||0));return O(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(u=>u.y||0),d)),O(d)?p.createElement("rect",{x:s<l?s:s-c,y:0,width:c,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}function Fi(e){var{alpha:t,layout:i,points:n,baseLine:a,strokeWidth:r}=e;return i==="vertical"?p.createElement(Hi,{alpha:t,points:n,baseLine:a,strokeWidth:r}):p.createElement(Ui,{alpha:t,points:n,baseLine:a,strokeWidth:r})}function Vi(e){var{needClip:t,clipPathId:i,props:n,previousPointsRef:a,previousBaselineRef:r}=e,{points:o,baseLine:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:u,onAnimationStart:f,onAnimationEnd:m}=n,x=p.useMemo(()=>({points:o,baseLine:s}),[o,s]),y=zt(x,"recharts-area-"),_=Rt(),[g,N]=p.useState(!1),b=!g,v=p.useCallback(()=>{typeof m=="function"&&m(),N(!1)},[m]),w=p.useCallback(()=>{typeof f=="function"&&f(),N(!0)},[f]);if(_==null)return null;var j=a.current,P=r.current;return p.createElement(Yi,{showLabels:b,points:o},n.children,p.createElement(Bt,{animationId:y,begin:c,duration:d,isActive:l,easing:u,onAnimationEnd:v,onAnimationStart:w,key:y},k=>{if(j){var I=j.length/o.length,T=k===1?o:o.map((E,S)=>{var L=Math.floor(S*I);if(j[L]){var B=j[L];return z(z({},E),{},{x:D(B.x,E.x,k),y:D(B.y,E.y,k)})}return E}),C;return O(s)?C=D(P,s,k):Wt(s)||Kt(s)?C=D(P,0,k):C=s.map((E,S)=>{var L=Math.floor(S*I);if(Array.isArray(P)&&P[L]){var B=P[L];return z(z({},E),{},{x:D(B.x,E.x,k),y:D(B.y,E.y,k)})}return E}),k>0&&(a.current=T,r.current=C),p.createElement(Se,{points:T,baseLine:C,needClip:t,clipPathId:i,props:n})}return k>0&&(a.current=o,r.current=s),p.createElement(Y,null,l&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(i)},p.createElement(Fi,{alpha:k,points:o,baseLine:s,layout:_,strokeWidth:n.strokeWidth}))),p.createElement(Y,{clipPath:"url(#animationClipPath-".concat(i,")")},p.createElement(Se,{points:o,baseLine:s,needClip:t,clipPathId:i,props:n})))}),p.createElement(Xt,{label:n.label}))}function qi(e){var{needClip:t,clipPathId:i,props:n}=e,a=p.useRef(null),r=p.useRef();return p.createElement(Vi,{needClip:t,clipPathId:i,props:n,previousPointsRef:a,previousBaselineRef:r})}class Zi extends p.PureComponent{render(){var{hide:t,dot:i,points:n,className:a,top:r,left:o,needClip:s,xAxisId:l,yAxisId:c,width:d,height:u,id:f,baseLine:m,zIndex:x}=this.props;if(t)return null;var y=Te("recharts-area",a),_=f,{r:g,strokeWidth:N}=Ii(i),b=$t(i),v=g*2+N,w=s?"url(#clipPath-".concat(b?"":"dots-").concat(_,")"):void 0;return p.createElement(Dt,{zIndex:x},p.createElement(Y,{className:y},s&&p.createElement("defs",null,p.createElement(Ei,{clipPathId:_,xAxisId:l,yAxisId:c}),!b&&p.createElement("clipPath",{id:"clipPath-dots-".concat(_)},p.createElement("rect",{x:o-v/2,y:r-v/2,width:d+v,height:u+v}))),p.createElement(qi,{needClip:s,clipPathId:_,props:this.props})),p.createElement(ve,{points:n,mainColor:q(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}),this.props.isRange&&Array.isArray(m)&&p.createElement(ve,{points:m,mainColor:q(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}))}}var dt={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Et.area};function Ji(e){var t,i=de(e,dt),{activeDot:n,animationBegin:a,animationDuration:r,animationEasing:o,connectNulls:s,dot:l,fill:c,fillOpacity:d,hide:u,isAnimationActive:f,legendType:m,stroke:x,xAxisId:y,yAxisId:_}=i,g=ht(i,Di),N=$e(),b=Mt(),{needClip:v}=at(y,_),w=Ke(),{points:j,isRange:P,baseLine:k}=(t=re(L=>Mi(L,e.id,w)))!==null&&t!==void 0?t:{},I=De();if(N!=="horizontal"&&N!=="vertical"||I==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:T,width:C,x:E,y:S}=I;return!j||!j.length?null:p.createElement(Zi,$({},g,{activeDot:n,animationBegin:a,animationDuration:r,animationEasing:o,baseLine:k,connectNulls:s,dot:l,fill:c,fillOpacity:d,height:T,hide:u,layout:N,isAnimationActive:f==="auto"?!Ut.isSsr:f,isRange:P,legendType:m,needClip:v,points:j,stroke:x,width:C,left:E,top:S,xAxisId:y,yAxisId:_}))}var Qi=(e,t,i,n,a)=>{var r=i??t;if(O(r))return r;var o=e==="horizontal"?a:n,s=o.scale.domain();if(o.type==="number"){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return r==="dataMin"?c:r==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return r==="dataMin"?s[0]:r==="dataMax"?s[1]:s[0]};function en(e){var{areaSettings:{connectNulls:t,baseValue:i,dataKey:n},stackedData:a,layout:r,chartBaseValue:o,xAxis:s,yAxis:l,displayedData:c,dataStartIndex:d,xAxisTicks:u,yAxisTicks:f,bandSize:m}=e,x=a&&a.length,y=Qi(r,o,i,s,l),_=r==="horizontal",g=!1,N=c.map((v,w)=>{var j,P,k,I;if(x)I=a[d+w];else{var T=_e(v,n);Array.isArray(T)?(I=T,g=!0):I=[y,T]}var C=(j=(P=I)===null||P===void 0?void 0:P[1])!==null&&j!==void 0?j:null,E=C==null||x&&!t&&_e(v,n)==null;if(_){var S;return{x:ye({axis:s,ticks:u,bandSize:m,entry:v,index:w}),y:E?null:(S=l.scale.map(C))!==null&&S!==void 0?S:null,value:I,payload:v}}return{x:E?null:(k=s.scale.map(C))!==null&&k!==void 0?k:null,y:ye({axis:l,ticks:f,bandSize:m,entry:v,index:w}),value:I,payload:v}}),b;return x||g?b=N.map(v=>{var w,j=Array.isArray(v.value)?v.value[0]:null;if(_){var P;return{x:v.x,y:j!=null&&v.y!=null&&(P=l.scale.map(j))!==null&&P!==void 0?P:null,payload:v.payload}}return{x:j!=null&&(w=s.scale.map(j))!==null&&w!==void 0?w:null,y:v.y,payload:v.payload}}):b=_?l.scale.map(y):s.scale.map(y),{points:N,baseLine:b??0,isRange:g}}function tn(e){var t=de(e,dt),i=Ke();return p.createElement(It,{id:t.id,type:"area"},n=>p.createElement(p.Fragment,null,p.createElement(Ct,{legendPayload:Ki(t)}),p.createElement(Xi,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),p.createElement(St,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Tt(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:i,connectNulls:t.connectNulls}),p.createElement(Ji,$({},t,{id:n}))))}var pt=p.memo(tn,Pt);pt.displayName="Area";function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ce.apply(null,arguments)}var nn={top:5,right:5,bottom:5,left:5},an={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:nn,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},rn=p.forwardRef(function(t,i){var n,a=de(t.categoricalChartProps,an),{chartName:r,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:r,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return p.createElement(Ft,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:r},p.createElement(Vt,{chartData:c.data}),p.createElement(qt,{layout:a.layout,margin:a.margin}),p.createElement(Zt,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(Jt,ce({},a,{ref:i})))}),sn=["axis"],on=p.forwardRef((e,t)=>p.createElement(rn,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sn,tooltipPayloadSearcher:Qt,categoricalChartProps:e,ref:t}));const ne=[{label:"7-12",min:7,max:12,stage:"ДЕТИ"},{label:"13-17",min:13,max:17,stage:"ПОДРОСТКИ"},{label:"18-35",min:18,max:35,stage:"МОЛОДЕЖЬ"}],ln=()=>{const{logs:e,selectableUsers:t}=Oe(),{matrix:i,debugStats:n}=p.useMemo(()=>{if(!t||!e)return{matrix:ne.map(l=>({group:l.label,clusters:[]})),debugStats:{totalLogs:0,matchedUsers:0,matchedAge:0,unmatchedIds:[]}};const a=t.reduce((l,c)=>(c&&(c.id&&(l[c.id.toLowerCase().trim()]=c),c.name&&(l[c.name.toLowerCase().trim()]=c)),l),{}),r={totalLogs:e.length,matchedUsers:0,matchedAge:0,unmatchedIds:new Set},o=["Education","Science","Labor","Culture","Volunteering","Patriotism","Sports","HealthyLifestyle","Media","Diplomacy","Ecology","Tourism"];return{matrix:ne.map(l=>{const c=e.filter(d=>{if(!d.userId)return!1;const u=d.userId.toLowerCase().trim(),f=a[u];if(f){r.matchedUsers++;const m=f.age||0;if(m>=l.min&&m<=l.max)return r.matchedAge++,!0}else r.unmatchedIds.size<5&&r.unmatchedIds.add(d.userId);return!1});return{group:l.label,clusters:o.map(d=>{const u=c.filter(g=>g.cluster===d),f=u.length,m=u.filter(g=>(g.cognitiveLoad||0)>6),x=u.filter(g=>g.evidenceLevel!=="High"),y=m.length>0?m.length/Math.max(f,1)*100:0,_=f>2&&x.length/f>.5;return{name:d,interest:f,potential:Math.round(y),deficit:_}})}}),debugStats:{...r,unmatchedIds:Array.from(r.unmatchedIds)}}},[e,t]);return h.jsx(Le,{className:"flex flex-col h-full",header:h.jsxs("div",{className:"flex justify-between items-center w-full",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("h3",{className:"text-[10px] font-orbitron font-black text-blue-400/60 uppercase tracking-[0.4em] flex items-center gap-2",children:[h.jsx(ni,{size:14,className:"text-blue-500"}),"ДЕМОГРАФИЧЕСКАЯ_МАТРИЦА"]}),h.jsxs("div",{className:"flex gap-3 text-[9px] font-mono text-red-300 bg-red-950/80 px-3 py-1.5 rounded border border-red-500/30 items-center shadow-lg shadow-red-900/20",children:[h.jsxs("span",{className:"text-red-200",children:["Users: ",h.jsx("span",{className:"text-white font-bold",children:t?.length})]}),h.jsxs("span",{className:"text-red-200",children:["Logs: ",h.jsx("span",{className:"text-white font-bold",children:e?.length})]}),h.jsxs("span",{className:"text-emerald-300",children:["Match: ",h.jsx("span",{className:"font-bold",children:n.matchedUsers})]}),h.jsxs("span",{className:"text-emerald-300",children:["Age: ",h.jsx("span",{className:"font-bold",children:n.matchedAge})]}),h.jsxs("span",{title:n.unmatchedIds.join(`
`),className:"cursor-help border-b border-dashed border-red-400/50 text-red-400 hover:text-red-300 transition-colors",children:["Unmatched: ",n.unmatchedIds.length]})]})]}),h.jsxs("div",{className:"flex gap-4 p-1.5 bg-white/[0.01] border border-white/5 rounded-sm",children:[h.jsxs("div",{className:"flex items-center gap-1.5 px-2",children:[h.jsx(me,{size:10,className:"text-emerald-400"}),h.jsx("span",{className:"text-[8px] text-white/40 uppercase font-orbitron font-black",children:"ПОТ"})]}),h.jsxs("div",{className:"flex items-center gap-1.5 px-2 border-l border-white/5",children:[h.jsx(ge,{size:10,className:"text-red-400"}),h.jsx("span",{className:"text-[8px] text-white/40 uppercase font-orbitron font-black",children:"ДЕФ"})]})]})]}),children:h.jsxs("div",{className:"flex-1 flex flex-col p-4 min-h-0 overflow-hidden",children:[h.jsxs("div",{className:"flex flex-col gap-4 min-h-0",children:[h.jsxs("div",{className:"grid grid-cols-[64px_1fr] gap-4",children:[h.jsx("div",{}),h.jsx("div",{className:"grid grid-cols-6 gap-2",children:i[0].clusters.slice(0,6).map(a=>h.jsx("div",{className:"text-[7px] font-orbitron font-black text-white/20 uppercase text-center truncate tracking-widest",children:ae[a.name]?.slice(0,3)||a.name.slice(0,3)},a.name))})]}),h.jsx("div",{className:"flex-1 flex flex-col gap-6 overflow-y-auto pr-2 custom-scrollbar",children:i.map((a,r)=>h.jsxs("div",{className:"grid grid-cols-[64px_1fr] gap-4",children:[h.jsxs("div",{className:"flex flex-col items-end justify-center py-2 border-r border-white/5 pr-4 h-full",children:[h.jsx("span",{className:"text-[11px] font-orbitron font-black text-white tracking-tighter tabular-nums leading-none mb-1",children:a.group}),h.jsx("span",{className:"text-[7px] font-bold text-cyan-400/60 uppercase tracking-[0.2em] font-orbitron text-right",children:ne[r].stage})]}),h.jsx("div",{className:"grid grid-cols-6 gap-2",children:a.clusters.map((o,s)=>{const l=Math.min(o.interest/20,1),c=o.potential>30,d=o.deficit;return h.jsxs(X.div,{whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.05)"},className:"relative bg-white/[0.01] border border-white/[0.05] rounded-[2px] flex flex-col items-center justify-center gap-1 group/cell cursor-crosshair min-h-[48px]",children:[l>.5&&h.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.03] animate-pulse"}),h.jsx(X.div,{initial:{height:0},animate:{height:`${l*100}%`},className:"absolute bottom-0 left-0 right-0 bg-blue-500/[0.05] border-t border-blue-500/10"}),h.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-1",children:[h.jsx("span",{className:`text-[10px] font-mono-data font-bold tabular-nums transition-colors ${l>.7?"text-white":"text-white/40"}`,children:o.interest}),h.jsxs("div",{className:"flex gap-1 h-3 items-center",children:[c&&h.jsx(X.div,{animate:{opacity:[.5,1,.5]},transition:{repeat:1/0,duration:1.5},children:h.jsx(me,{size:9,className:"text-emerald-400 fill-emerald-400/20"})}),d&&h.jsx(X.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},children:h.jsx(ge,{size:9,className:"text-red-500"})})]})]}),h.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover/cell:opacity-100 transition-opacity bg-black/95 backdrop-blur-md z-30 flex-col gap-0.5 p-1 text-center",children:[h.jsx("span",{className:"text-[6px] font-orbitron font-black text-white/60 uppercase leading-tight",children:ae[o.name]}),c&&h.jsxs("span",{className:"text-[7px] text-emerald-400 font-bold shrink-0",children:["+",o.potential,"%"]}),d&&h.jsx("span",{className:"text-[7px] text-red-400 font-bold shrink-0",children:"CRIT"})]})]},`${r}-${s}`)})})]},a.group))})]}),h.jsxs("div",{className:"mt-4 p-2.5 bg-blue-500/[0.02] border border-blue-500/10 rounded flex items-center gap-3 shrink-0",children:[h.jsx("div",{className:"w-6 h-6 rounded-sm bg-blue-500/10 flex items-center justify-center shrink-0",children:h.jsx(ri,{size:12,className:"text-blue-400"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-[7px] font-orbitron font-black text-blue-400/80 uppercase tracking-widest mb-0.5",children:"АНАЛИЗ_СТРАТ"}),h.jsxs("p",{className:"text-[8px] text-white/30 leading-tight uppercase font-mono-data",children:["Critical yield detected in ",h.jsx("span",{className:"text-emerald-400/80 font-bold",children:"26-35"})," cohort. Recommended shift: ",h.jsx("span",{className:"text-white/60",children:"+15% TECH_STRACK"}),"."]})]})]})]})})},cn=({data:e,color:t})=>h.jsx(ei,{width:"100%",height:24,children:h.jsx(on,{data:e,children:h.jsx(pt,{type:"monotone",dataKey:"val",stroke:t,strokeWidth:1,fill:t,fillOpacity:.05,isAnimationActive:!1})})}),mn=()=>{const{logs:e}=Oe(),t=p.useMemo(()=>{const i=e.reduce((n,a)=>{n[a.cluster]||(n[a.cluster]={score:0,count:0,users:new Set});let r=1;return a.evidenceLevel==="High"&&(r+=2),a.action==="Тест пройден"&&(r+=5),a.cognitiveLoad&&(r+=a.cognitiveLoad*.5),n[a.cluster].score+=r,n[a.cluster].count+=1,n[a.cluster].users.add(a.userId),n},{});return Object.entries(ft).map(([n,a])=>({name:n,color:a,score:Math.round(i[n]?.score||0),users:i[n]?.users.size||0,count:i[n]?.count||0,trend:Array.from({length:12}).map(()=>({val:10+Math.random()*40}))})).sort((n,a)=>a.score-n.score)},[e.length]);return h.jsxs("div",{className:"h-full w-full flex gap-10 overflow-hidden px-2",children:[h.jsxs("div",{className:"flex-[1.5] flex flex-col gap-6",children:[h.jsxs("div",{className:"flex justify-between items-end border-b border-prism/30 pb-3",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("h3",{className:"text-[10px] font-orbitron font-black text-blue-400 uppercase tracking-[0.4em] flex items-center gap-2",children:[h.jsx(oi,{size:14,className:"text-blue-500 shadow-[0_0_10px_#3b82f6]"}),"РЕЙТИНГ_СТРАТ"]}),h.jsx("p",{className:"text-[7px] text-blue-300/30 font-mono-data uppercase tracking-[0.1em]",children:"Матрица распределения компетенций"})]}),h.jsx("div",{className:"text-[8px] text-white/20 font-mono-data opacity-40 uppercase tracking-[0.2em] border border-white/5 px-2 py-0.5 rounded-[1px] bg-white/[0.02]",children:"ОКНО_ДАННЫХ: 24Ч"})]}),h.jsx("div",{className:"grid grid-cols-2 gap-4 overflow-y-auto no-scrollbar pr-2 pb-4",children:t.map((i,n)=>h.jsxs(Le,{className:"p-4 bg-void/40 hover:bg-white/[0.03] border-prism/20 transition-all duration-300 group ring-1 ring-white/5",gloss:!0,corners:{tl:!0,tr:!1,bl:!1,br:!0},children:[h.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 border-t border-l border-blue-500/50"}),h.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 border-b border-r border-blue-500/50"}),h.jsx("div",{className:"absolute top-2 right-3 opacity-[0.03] group-hover:opacity-[0.08] transition-opacity",children:h.jsxs("span",{className:"text-[28px] font-black italic font-orbitron",children:["#",n+1]})}),h.jsxs("div",{className:"flex justify-between items-start relative z-10 mb-4",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] font-orbitron font-black uppercase tracking-widest transition-colors group-hover:text-white",style:{color:i.color},children:ae[i.name]||i.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-1 h-1 rounded-full animate-pulse",style:{backgroundColor:i.color}}),h.jsxs("span",{className:"text-[7px] text-white/30 font-mono-data uppercase tracking-tighter",children:[i.users," активных_узлов"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-[14px] font-mono-data font-bold text-white tabular-nums tracking-tighter block leading-none",children:i.score}),h.jsx("span",{className:"text-[6px] text-blue-400/40 font-orbitron font-black uppercase tracking-widest",children:"очков"})]})]}),h.jsxs("div",{className:"h-8 relative group-hover:scale-y-110 transition-transform origin-bottom mt-auto",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-transparent to-white/[0.02] pointer-events-none"}),h.jsx(cn,{data:i.trend,color:i.color})]})]},i.name))})]}),h.jsx("div",{className:"flex-1 flex flex-col gap-6 border-l border-prism/30 pl-10 min-w-0 overflow-hidden relative",children:h.jsx(ln,{})})]})};export{mn as KPIBento};
