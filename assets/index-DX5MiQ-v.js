const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/KPIBento-CuIHXj3w.js","assets/trending-up-dR9ox6Ak.js","assets/DemographicMatrix-Dwv-f3ZD.js"])))=>i.map(i=>d[i]);
function LG(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function lf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qE={exports:{}},_v={};var VO;function IG(){if(VO)return _v;VO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:s,ref:r!==void 0?r:null,props:a}}return _v.Fragment=e,_v.jsx=n,_v.jsxs=n,_v}var jO;function UG(){return jO||(jO=1,qE.exports=IG()),qE.exports}var G=UG(),YE={exports:{}},rn={};var GO;function kG(){if(GO)return rn;GO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function M(V,ee,re){this.props=V,this.context=ee,this.refs=S,this.updater=re||_}M.prototype.isReactComponent={},M.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function R(){}R.prototype=M.prototype;function T(V,ee,re){this.props=V,this.context=ee,this.refs=S,this.updater=re||_}var P=T.prototype=new R;P.constructor=T,w(P,M.prototype),P.isPureReactComponent=!0;var O=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function I(V,ee,re){var pe=re.ref;return{$$typeof:t,type:V,key:ee,ref:pe!==void 0?pe:null,props:re}}function U(V,ee){return I(V.type,ee,V.props)}function W(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function H(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(re){return ee[re]})}var Y=/\/+/g;function J(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?H(""+V.key):ee.toString(36)}function ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,ee,re,pe,ye){var se=typeof V;(se==="undefined"||se==="boolean")&&(V=null);var ce=!1;if(V===null)ce=!0;else switch(se){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(V.$$typeof){case t:case e:ce=!0;break;case p:return ce=V._init,X(ce(V._payload),ee,re,pe,ye)}}if(ce)return ye=ye(V),ce=pe===""?"."+J(V,0):pe,O(ye)?(re="",ce!=null&&(re=ce.replace(Y,"$&/")+"/"),X(ye,ee,re,"",function(Oe){return Oe})):ye!=null&&(W(ye)&&(ye=U(ye,re+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(Y,"$&/")+"/")+ce)),ee.push(ye)),1;ce=0;var Se=pe===""?".":pe+":";if(O(V))for(var fe=0;fe<V.length;fe++)pe=V[fe],se=Se+J(pe,fe),ce+=X(pe,ee,re,se,ye);else if(fe=y(V),typeof fe=="function")for(V=fe.call(V),fe=0;!(pe=V.next()).done;)pe=pe.value,se=Se+J(pe,fe++),ce+=X(pe,ee,re,se,ye);else if(se==="object"){if(typeof V.then=="function")return X(ie(V),ee,re,pe,ye);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ce}function te(V,ee,re){if(V==null)return V;var pe=[],ye=0;return X(V,pe,"","",function(se){return ee.call(re,se,ye++)}),pe}function de(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(re){(V._status===0||V._status===-1)&&(V._status=1,V._result=re)},function(re){(V._status===0||V._status===-1)&&(V._status=2,V._result=re)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var he=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},le={map:te,forEach:function(V,ee,re){te(V,function(){ee.apply(this,arguments)},re)},count:function(V){var ee=0;return te(V,function(){ee++}),ee},toArray:function(V){return te(V,function(ee){return ee})||[]},only:function(V){if(!W(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return rn.Activity=g,rn.Children=le,rn.Component=M,rn.Fragment=n,rn.Profiler=r,rn.PureComponent=T,rn.StrictMode=i,rn.Suspense=u,rn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,rn.__COMPILER_RUNTIME={__proto__:null,c:function(V){return k.H.useMemoCache(V)}},rn.cache=function(V){return function(){return V.apply(null,arguments)}},rn.cacheSignal=function(){return null},rn.cloneElement=function(V,ee,re){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var pe=w({},V.props),ye=V.key;if(ee!=null)for(se in ee.key!==void 0&&(ye=""+ee.key),ee)!z.call(ee,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&ee.ref===void 0||(pe[se]=ee[se]);var se=arguments.length-2;if(se===1)pe.children=re;else if(1<se){for(var ce=Array(se),Se=0;Se<se;Se++)ce[Se]=arguments[Se+2];pe.children=ce}return I(V.type,ye,pe)},rn.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},rn.createElement=function(V,ee,re){var pe,ye={},se=null;if(ee!=null)for(pe in ee.key!==void 0&&(se=""+ee.key),ee)z.call(ee,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(ye[pe]=ee[pe]);var ce=arguments.length-2;if(ce===1)ye.children=re;else if(1<ce){for(var Se=Array(ce),fe=0;fe<ce;fe++)Se[fe]=arguments[fe+2];ye.children=Se}if(V&&V.defaultProps)for(pe in ce=V.defaultProps,ce)ye[pe]===void 0&&(ye[pe]=ce[pe]);return I(V,se,ye)},rn.createRef=function(){return{current:null}},rn.forwardRef=function(V){return{$$typeof:l,render:V}},rn.isValidElement=W,rn.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:de}},rn.memo=function(V,ee){return{$$typeof:f,type:V,compare:ee===void 0?null:ee}},rn.startTransition=function(V){var ee=k.T,re={};k.T=re;try{var pe=V(),ye=k.S;ye!==null&&ye(re,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(N,he)}catch(se){he(se)}finally{ee!==null&&re.types!==null&&(ee.types=re.types),k.T=ee}},rn.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},rn.use=function(V){return k.H.use(V)},rn.useActionState=function(V,ee,re){return k.H.useActionState(V,ee,re)},rn.useCallback=function(V,ee){return k.H.useCallback(V,ee)},rn.useContext=function(V){return k.H.useContext(V)},rn.useDebugValue=function(){},rn.useDeferredValue=function(V,ee){return k.H.useDeferredValue(V,ee)},rn.useEffect=function(V,ee){return k.H.useEffect(V,ee)},rn.useEffectEvent=function(V){return k.H.useEffectEvent(V)},rn.useId=function(){return k.H.useId()},rn.useImperativeHandle=function(V,ee,re){return k.H.useImperativeHandle(V,ee,re)},rn.useInsertionEffect=function(V,ee){return k.H.useInsertionEffect(V,ee)},rn.useLayoutEffect=function(V,ee){return k.H.useLayoutEffect(V,ee)},rn.useMemo=function(V,ee){return k.H.useMemo(V,ee)},rn.useOptimistic=function(V,ee){return k.H.useOptimistic(V,ee)},rn.useReducer=function(V,ee,re){return k.H.useReducer(V,ee,re)},rn.useRef=function(V){return k.H.useRef(V)},rn.useState=function(V){return k.H.useState(V)},rn.useSyncExternalStore=function(V,ee,re){return k.H.useSyncExternalStore(V,ee,re)},rn.useTransition=function(){return k.H.useTransition()},rn.version="19.2.4",rn}var HO;function zg(){return HO||(HO=1,YE.exports=kG()),YE.exports}var F=zg();const So=lf(F),zG=LG({__proto__:null,default:So},[F]);var KE={exports:{}},Sv={},ZE={exports:{}},$E={};var WO;function FG(){return WO||(WO=1,(function(t){function e(X,te){var de=X.length;X.push(te);e:for(;0<de;){var he=de-1>>>1,le=X[he];if(0<r(le,te))X[he]=te,X[de]=le,de=he;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var te=X[0],de=X.pop();if(de!==te){X[0]=de;e:for(var he=0,le=X.length,V=le>>>1;he<V;){var ee=2*(he+1)-1,re=X[ee],pe=ee+1,ye=X[pe];if(0>r(re,de))pe<le&&0>r(ye,re)?(X[he]=ye,X[pe]=de,he=pe):(X[he]=re,X[ee]=de,he=ee);else if(pe<le&&0>r(ye,de))X[he]=ye,X[pe]=de,he=pe;else break e}}return te}function r(X,te){var de=X.sortIndex-te.sortIndex;return de!==0?de:X.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],f=[],p=1,g=null,v=3,y=!1,_=!1,w=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var te=n(f);te!==null;){if(te.callback===null)i(f);else if(te.startTime<=X)i(f),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(f)}}function O(X){if(w=!1,P(X),!_)if(n(u)!==null)_=!0,N||(N=!0,H());else{var te=n(f);te!==null&&ie(O,te.startTime-X)}}var N=!1,k=-1,z=5,I=-1;function U(){return S?!0:!(t.unstable_now()-I<z)}function W(){if(S=!1,N){var X=t.unstable_now();I=X;var te=!0;try{e:{_=!1,w&&(w=!1,R(k),k=-1),y=!0;var de=v;try{t:{for(P(X),g=n(u);g!==null&&!(g.expirationTime>X&&U());){var he=g.callback;if(typeof he=="function"){g.callback=null,v=g.priorityLevel;var le=he(g.expirationTime<=X);if(X=t.unstable_now(),typeof le=="function"){g.callback=le,P(X),te=!0;break t}g===n(u)&&i(u),P(X)}else i(u);g=n(u)}if(g!==null)te=!0;else{var V=n(f);V!==null&&ie(O,V.startTime-X),te=!1}}break e}finally{g=null,v=de,y=!1}te=void 0}}finally{te?H():N=!1}}}var H;if(typeof T=="function")H=function(){T(W)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,J=Y.port2;Y.port1.onmessage=W,H=function(){J.postMessage(null)}}else H=function(){M(W,0)};function ie(X,te){k=M(function(){X(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var de=v;v=te;try{return X()}finally{v=de}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(X,te){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=v;v=X;try{return te()}finally{v=de}},t.unstable_scheduleCallback=function(X,te,de){var he=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?he+de:he):de=he,X){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=de+le,X={id:p++,callback:te,priorityLevel:X,startTime:de,expirationTime:le,sortIndex:-1},de>he?(X.sortIndex=de,e(f,X),n(u)===null&&X===n(f)&&(w?(R(k),k=-1):w=!0,ie(O,de-he))):(X.sortIndex=le,e(u,X),_||y||(_=!0,N||(N=!0,H()))),X},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(X){var te=v;return function(){var de=v;v=te;try{return X.apply(this,arguments)}finally{v=de}}}})($E)),$E}var XO;function X2(){return XO||(XO=1,ZE.exports=FG()),ZE.exports}var QE={exports:{}},Ia={};var qO;function BG(){if(qO)return Ia;qO=1;var t=zg();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:f,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ia.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ia.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,p)},Ia.flushSync=function(u){var f=s.T,p=i.p;try{if(s.T=null,i.p=2,u)return u()}finally{s.T=f,i.p=p,i.d.f()}},Ia.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},Ia.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Ia.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):p==="script"&&i.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ia.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},Ia.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ia.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},Ia.requestFormReset=function(u){i.d.r(u)},Ia.unstable_batchedUpdates=function(u,f){return u(f)},Ia.useFormState=function(u,f,p){return s.H.useFormState(u,f,p)},Ia.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ia.version="19.2.4",Ia}var YO;function q2(){if(YO)return QE.exports;YO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),QE.exports=BG(),QE.exports}var KO;function VG(){if(KO)return Sv;KO=1;var t=X2(),e=zg(),n=q2();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(i(188))}function f(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(i(188));return c!==o?null:o}for(var m=o,x=c;;){var A=m.return;if(A===null)break;var C=A.alternate;if(C===null){if(x=A.return,x!==null){m=x;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===m)return u(A),o;if(C===x)return u(A),c;C=C.sibling}throw Error(i(188))}if(m.return!==x.return)m=A,x=C;else{for(var B=!1,Q=A.child;Q;){if(Q===m){B=!0,m=A,x=C;break}if(Q===x){B=!0,x=A,m=C;break}Q=Q.sibling}if(!B){for(Q=C.child;Q;){if(Q===m){B=!0,m=C,x=A;break}if(Q===x){B=!0,x=C,m=A;break}Q=Q.sibling}if(!B)throw Error(i(189))}}if(m.alternate!==x)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Symbol.for("react.client.reference");function J(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Y?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case M:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case N:return"SuspenseList";case I:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case T:return o.displayName||"Context";case R:return(o._context.displayName||"Context")+".Consumer";case P:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return c=o.displayName||null,c!==null?c:J(o.type)||"Memo";case z:c=o._payload,o=o._init;try{return J(o(c))}catch{}}return null}var ie=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},he=[],le=-1;function V(o){return{current:o}}function ee(o){0>le||(o.current=he[le],he[le]=null,le--)}function re(o,c){le++,he[le]=o.current,o.current=c}var pe=V(null),ye=V(null),se=V(null),ce=V(null);function Se(o,c){switch(re(se,c),re(ye,o),re(pe,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?cO(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=cO(c),o=fO(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ee(pe),re(pe,o)}function fe(){ee(pe),ee(ye),ee(se)}function Oe(o){o.memoizedState!==null&&re(ce,o);var c=pe.current,m=fO(c,o.type);c!==m&&(re(ye,o),re(pe,m))}function ke(o){ye.current===o&&(ee(pe),ee(ye)),ce.current===o&&(ee(ce),vv._currentValue=de)}var me,ut;function _e(o){if(me===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);me=c&&c[1]||"",ut=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+o+ut}var Ae=!1;function Me(o,c){if(!o||Ae)return"";Ae=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Ke){var je=Ke}Reflect.construct(o,[],lt)}else{try{lt.call()}catch(Ke){je=Ke}o.call(lt.prototype)}}else{try{throw Error()}catch(Ke){je=Ke}(lt=o())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(Ke){if(Ke&&je&&typeof Ke.stack=="string")return[Ke.stack,je.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=x.DetermineComponentFrameRoot(),B=C[0],Q=C[1];if(B&&Q){var ge=B.split(`
`),Fe=Q.split(`
`);for(A=x=0;x<ge.length&&!ge[x].includes("DetermineComponentFrameRoot");)x++;for(;A<Fe.length&&!Fe[A].includes("DetermineComponentFrameRoot");)A++;if(x===ge.length||A===Fe.length)for(x=ge.length-1,A=Fe.length-1;1<=x&&0<=A&&ge[x]!==Fe[A];)A--;for(;1<=x&&0<=A;x--,A--)if(ge[x]!==Fe[A]){if(x!==1||A!==1)do if(x--,A--,0>A||ge[x]!==Fe[A]){var it=`
`+ge[x].replace(" at new "," at ");return o.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",o.displayName)),it}while(1<=x&&0<=A);break}}}finally{Ae=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?_e(m):""}function Ge(o,c){switch(o.tag){case 26:case 27:case 5:return _e(o.type);case 16:return _e("Lazy");case 13:return o.child!==c&&c!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Me(o.type,!1);case 11:return Me(o.type.render,!1);case 1:return Me(o.type,!0);case 31:return _e("Activity");default:return""}}function Z(o){try{var c="",m=null;do c+=Ge(o,m),m=o,o=o.return;while(o);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var at=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,Ne=t.unstable_cancelCallback,Ze=t.unstable_shouldYield,q=t.unstable_requestPaint,j=t.unstable_now,oe=t.unstable_getCurrentPriorityLevel,De=t.unstable_ImmediatePriority,Re=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,nt=t.unstable_LowPriority,Je=t.unstable_IdlePriority,pt=t.log,St=t.unstable_setDisableYieldValue,Xe=null,$e=null;function tt(o){if(typeof pt=="function"&&St(o),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Xe,o)}catch{}}var ae=Math.clz32?Math.clz32:ue,Ee=Math.log,ft=Math.LN2;function ue(o){return o>>>=0,o===0?32:31-(Ee(o)/ft|0)|0}var He=256,Qe=262144,mt=4194304;function et(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ze(o,c,m){var x=o.pendingLanes;if(x===0)return 0;var A=0,C=o.suspendedLanes,B=o.pingedLanes;o=o.warmLanes;var Q=x&134217727;return Q!==0?(x=Q&~C,x!==0?A=et(x):(B&=Q,B!==0?A=et(B):m||(m=Q&~o,m!==0&&(A=et(m))))):(Q=x&~C,Q!==0?A=et(Q):B!==0?A=et(B):m||(m=x&~o,m!==0&&(A=et(m)))),A===0?0:c!==0&&c!==A&&(c&C)===0&&(C=A&-A,m=c&-c,C>=m||C===32&&(m&4194048)!==0)?c:A}function st(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function bt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(){var o=mt;return mt<<=1,(mt&62914560)===0&&(mt=4194304),o}function Nt(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function hn(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Sn(o,c,m,x,A,C){var B=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var Q=o.entanglements,ge=o.expirationTimes,Fe=o.hiddenUpdates;for(m=B&~m;0<m;){var it=31-ae(m),lt=1<<it;Q[it]=0,ge[it]=-1;var je=Fe[it];if(je!==null)for(Fe[it]=null,it=0;it<je.length;it++){var Ke=je[it];Ke!==null&&(Ke.lane&=-536870913)}m&=~lt}x!==0&&Yn(o,x,0),C!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=C&~(B&~c))}function Yn(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var x=31-ae(c);o.entangledLanes|=c,o.entanglements[x]=o.entanglements[x]|1073741824|m&261930}function Zi(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var x=31-ae(m),A=1<<x;A&c|o[x]&c&&(o[x]|=c),m&=~A}}function jr(o,c){var m=c&-c;return m=(m&42)!==0?1:pr(m),(m&(o.suspendedLanes|c))!==0?0:m}function pr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function mr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ra(){var o=te.p;return o!==0?o:(o=window.event,o===void 0?32:LO(o.type))}function ei(o,c){var m=te.p;try{return te.p=o,c()}finally{te.p=m}}var Hn=Math.random().toString(36).slice(2),In="__reactFiber$"+Hn,Ri="__reactProps$"+Hn,Cr="__reactContainer$"+Hn,aa="__reactEvents$"+Hn,Gr="__reactListeners$"+Hn,Ya="__reactHandles$"+Hn,to="__reactResources$"+Hn,Ka="__reactMarker$"+Hn;function bs(o){delete o[In],delete o[Ri],delete o[aa],delete o[Gr],delete o[Ya]}function wa(o){var c=o[In];if(c)return c;for(var m=o.parentNode;m;){if(c=m[Cr]||m[In]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=yO(o);o!==null;){if(m=o[In])return m;o=yO(o)}return c}o=m,m=o.parentNode}return null}function Za(o){if(o=o[In]||o[Cr]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function _s(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function Dt(o){var c=o[to];return c||(c=o[to]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function $(o){o[Ka]=!0}var we=new Set,Ve={};function Le(o,c){Te(o,c),Te(o+"Capture",c)}function Te(o,c){for(Ve[o]=c,o=0;o<c.length;o++)we.add(c[o])}var gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mt={},dt={};function Ct(o){return at.call(dt,o)?!0:at.call(Mt,o)?!1:gt.test(o)?dt[o]=!0:(Mt[o]=!0,!1)}function Rt(o,c,m){if(Ct(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function Bt(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function Pt(o,c,m,x){if(x===null)o.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+x)}}function jt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function pn(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Bn(o,c,m){var x=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,C=x.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return A.call(this)},set:function(B){m=""+B,C.call(this,B)}}),Object.defineProperty(o,c,{enumerable:x.enumerable}),{getValue:function(){return m},setValue:function(B){m=""+B},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function An(o){if(!o._valueTracker){var c=pn(o)?"checked":"value";o._valueTracker=Bn(o,c,""+o[c])}}function Kt(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return o&&(x=pn(o)?o.checked?"true":"false":o.value),o=x,o!==m?(c.setValue(o),!0):!1}function _t(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var gn=/[\n"\\]/g;function kt(o){return o.replace(gn,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Pi(o,c,m,x,A,C,B,Q){o.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?o.type=B:o.removeAttribute("type"),c!=null?B==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+jt(c)):o.value!==""+jt(c)&&(o.value=""+jt(c)):B!=="submit"&&B!=="reset"||o.removeAttribute("value"),c!=null?Un(o,B,jt(c)):m!=null?Un(o,B,jt(m)):x!=null&&o.removeAttribute("value"),A==null&&C!=null&&(o.defaultChecked=!!C),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?o.name=""+jt(Q):o.removeAttribute("name")}function Hr(o,c,m,x,A,C,B,Q){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),c!=null||m!=null){if(!(C!=="submit"&&C!=="reset"||c!=null)){An(o);return}m=m!=null?""+jt(m):"",c=c!=null?""+jt(c):m,Q||c===o.value||(o.value=c),o.defaultValue=c}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=Q?o.checked:!!x,o.defaultChecked=!!x,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(o.name=B),An(o)}function Un(o,c,m){c==="number"&&_t(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function gr(o,c,m,x){if(o=o.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<o.length;m++)A=c.hasOwnProperty("$"+o[m].value),o[m].selected!==A&&(o[m].selected=A),A&&x&&(o[m].defaultSelected=!0)}else{for(m=""+jt(m),c=null,A=0;A<o.length;A++){if(o[A].value===m){o[A].selected=!0,x&&(o[A].defaultSelected=!0);return}c!==null||o[A].disabled||(c=o[A])}c!==null&&(c.selected=!0)}}function Mn(o,c,m){if(c!=null&&(c=""+jt(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+jt(m):""}function fi(o,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(i(92));if(ie(x)){if(1<x.length)throw Error(i(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=jt(c),o.defaultValue=m,x=o.textContent,x===m&&x!==""&&x!==null&&(o.value=x),An(o)}function di(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fi(o,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":x?o.setProperty(c,m):typeof m!="number"||m===0||zi.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function no(o,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var A in c)x=c[A],c.hasOwnProperty(A)&&m[A]!==x&&Fi(o,A,x)}else for(var C in c)c.hasOwnProperty(C)&&Fi(o,C,c[C])}function vr(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(o){return Zl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Wr(){}var Mo=null;function tc(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $a=null,Ms=null;function nc(o){var c=Za(o);if(c&&(o=c.stateNode)){var m=o[Ri]||null;e:switch(o=c.stateNode,c.type){case"input":if(Pi(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+kt(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==o&&x.form===o.form){var A=x[Ri]||null;if(!A)throw Error(i(90));Pi(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===o.form&&Kt(x)}break e;case"textarea":Mn(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&gr(o,!!m.multiple,c,!1)}}}var ic=!1;function $l(o,c,m){if(ic)return o(c,m);ic=!0;try{var x=o(c);return x}finally{if(ic=!1,($a!==null||Ms!==null)&&(co(),$a&&(c=$a,o=Ms,Ms=$a=null,nc(c),o)))for(c=0;c<o.length;c++)nc(o[c])}}function wo(o,c){var m=o.stateNode;if(m===null)return null;var x=m[Ri]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(Qa)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{sa=!1}var Xr=null,rc=null,io=null;function Ql(){if(io)return io;var o,c=rc,m=c.length,x,A="value"in Xr?Xr.value:Xr.textContent,C=A.length;for(o=0;o<m&&c[o]===A[o];o++);var B=m-o;for(x=1;x<=B&&c[m-x]===A[C-x];x++);return io=A.slice(o,1<x?1-x:void 0)}function Jl(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function ws(){return!0}function eu(){return!1}function hi(o){function c(m,x,A,C,B){this._reactName=m,this._targetInst=A,this.type=x,this.nativeEvent=C,this.target=B,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(m=o[Q],this[Q]=m?m(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ws:eu,this.isPropagationStopped=eu,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),c}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=hi(ro),Ao=g({},ro,{view:0,detail:0}),tu=hi(Ao),nu,To,Co,$i=g({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Co&&(Co&&o.type==="mousemove"?(nu=o.screenX-Co.screenX,To=o.screenY-Co.screenY):To=nu=0,Co=o),nu)},movementY:function(o){return"movementY"in o?o.movementY:To}}),Bd=hi($i),ac=g({},$i,{dataTransfer:0}),sc=hi(ac),gf=g({},Ao,{relatedTarget:0}),vf=hi(gf),Rr=g({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),Ja=hi(Rr),qr=g({},ro,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ao=hi(qr),iu=g({},ro,{data:0}),Np=hi(iu),Lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Vx[o])?!!c[o]:!1}function Ip(){return i0}var jx=g({},Ao,{key:function(o){if(o.key){var c=Lp[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Jl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Bx[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(o){return o.type==="keypress"?Jl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Jl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),oc=hi(jx),Up=g({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r0=hi(Up),a0=g({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),Gx=hi(a0),Hx=g({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),mE=hi(Hx),Pr=g({},$i,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Wx=hi(Pr),Xx=g({},ro,{newState:0,oldState:0}),qx=hi(Xx),Yx=[9,13,27,32],lc=Qa&&"CompositionEvent"in window,yf=null;Qa&&"documentMode"in document&&(yf=document.documentMode);var kp=Qa&&"TextEvent"in window&&!yf,s0=Qa&&(!lc||yf&&8<yf&&11>=yf),Kx=" ",Vd=!1;function zp(o,c){switch(o){case"keyup":return Yx.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var uc=!1;function Zx(o,c){switch(o){case"compositionend":return o0(c);case"keypress":return c.which!==32?null:(Vd=!0,Kx);case"textInput":return o=c.data,o===Kx&&Vd?null:o;default:return null}}function l0(o,c){if(uc)return o==="compositionend"||!lc&&zp(o,c)?(o=Ql(),io=rc=Xr=null,uc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return s0&&c.locale!=="ko"?null:c.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!u0[o.type]:c==="textarea"}function Fp(o,c,m,x){$a?Ms?Ms.push(x):Ms=[x]:$a=x,c=t1(c,"onChange"),0<c.length&&(m=new pl("onChange","change",null,m,x),o.push({event:m,listeners:c}))}var ru=null,cc=null;function $x(o){rO(o,0)}function xf(o){var c=_s(o);if(Kt(c))return o}function f0(o,c){if(o==="change")return c}var Ro=!1;if(Qa){var jd;if(Qa){var d0="oninput"in document;if(!d0){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),d0=typeof h0.oninput=="function"}jd=d0}else jd=!1;Ro=jd&&(!document.documentMode||9<document.documentMode)}function Es(){ru&&(ru.detachEvent("onpropertychange",Gd),cc=ru=null)}function Gd(o){if(o.propertyName==="value"&&xf(cc)){var c=[];Fp(c,cc,o,tc(o)),$l($x,c)}}function Qx(o,c,m){o==="focusin"?(Es(),ru=c,cc=m,ru.attachEvent("onpropertychange",Gd)):o==="focusout"&&Es()}function p0(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xf(cc)}function Jx(o,c){if(o==="click")return xf(c)}function eb(o,c){if(o==="input"||o==="change")return xf(c)}function m0(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var oa=typeof Object.is=="function"?Object.is:m0;function bf(o,c){if(oa(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var A=m[x];if(!at.call(c,A)||!oa(o[A],c[A]))return!1}return!0}function Hd(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function _f(o,c){var m=Hd(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=c&&x>=c)return{node:m,offset:c-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Hd(m)}}function ti(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?ti(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function tb(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=_t(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=_t(o.document)}return c}function g0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var nb=Qa&&"documentMode"in document&&11>=document.documentMode,Po=null,Do=null,Sf=null,Bp=!1;function Mf(o,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Bp||Po==null||Po!==_t(x)||(x=Po,"selectionStart"in x&&g0(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Sf&&bf(Sf,x)||(Sf=x,x=t1(Do,"onSelect"),0<x.length&&(c=new pl("onSelect","select",null,c,m),o.push({event:c,listeners:x}),c.target=Po)))}function Yr(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var fc={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Wd={},v0={};Qa&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function ml(o){if(Wd[o])return Wd[o];if(!fc[o])return o;var c=fc[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in v0)return Wd[o]=c[m];return o}var Vp=ml("animationend"),Xd=ml("animationiteration"),y0=ml("animationstart"),ib=ml("transitionrun"),gE=ml("transitionstart"),rb=ml("transitioncancel"),x0=ml("transitionend"),As=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function Ts(o,c){As.set(o,c),Le(c,[o])}var Yd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Cs=[],gl=0,yr=0;function Kd(){for(var o=gl,c=yr=gl=0;c<o;){var m=Cs[c];Cs[c++]=null;var x=Cs[c];Cs[c++]=null;var A=Cs[c];Cs[c++]=null;var C=Cs[c];if(Cs[c++]=null,x!==null&&A!==null){var B=x.pending;B===null?A.next=A:(A.next=B.next,B.next=A),x.pending=A}C!==0&&au(m,A,C)}}function xr(o,c,m,x){Cs[gl++]=o,Cs[gl++]=c,Cs[gl++]=m,Cs[gl++]=x,yr|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function jp(o,c,m,x){return xr(o,c,m,x),Rs(o)}function la(o,c){return xr(o,null,null,c),Rs(o)}function au(o,c,m){o.lanes|=m;var x=o.alternate;x!==null&&(x.lanes|=m);for(var A=!1,C=o.return;C!==null;)C.childLanes|=m,x=C.alternate,x!==null&&(x.childLanes|=m),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(A=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,A&&c!==null&&(A=31-ae(m),o=C.hiddenUpdates,x=o[A],x===null?o[A]=[c]:x.push(c),c.lane=m|536870912),C):null}function Rs(o){if(50<wu)throw wu=0,Pc=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var su={};function b0(o,c,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(o,c,m,x){return new b0(o,c,m,x)}function Gp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ea(o,c){var m=o.alternate;return m===null?(m=_i(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function wf(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Oo(o,c,m,x,A,C){var B=0;if(x=o,typeof o=="function")Gp(o)&&(B=1);else if(typeof o=="string")B=SG(o,m,pe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case I:return o=_i(31,m,c,A),o.elementType=I,o.lanes=C,o;case w:return ou(m.children,A,C,c);case S:B=8,A|=24;break;case M:return o=_i(12,m,c,A|2),o.elementType=M,o.lanes=C,o;case O:return o=_i(13,m,c,A),o.elementType=O,o.lanes=C,o;case N:return o=_i(19,m,c,A),o.elementType=N,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:B=10;break e;case R:B=9;break e;case P:B=11;break e;case k:B=14;break e;case z:B=16,x=null;break e}B=29,m=Error(i(130,o===null?"null":typeof o,"")),x=null}return c=_i(B,m,c,A),c.elementType=o,c.type=x,c.lanes=C,c}function ou(o,c,m,x){return o=_i(7,o,x,c),o.lanes=m,o}function Hp(o,c,m){return o=_i(6,o,null,c),o.lanes=m,o}function Ef(o){var c=_i(18,null,null,0);return c.stateNode=o,c}function Wp(o,c,m){return c=_i(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Zd=new WeakMap;function es(o,c){if(typeof o=="object"&&o!==null){var m=Zd.get(o);return m!==void 0?m:(c={value:o,source:c,stack:Z(c)},Zd.set(o,c),c)}return{value:o,source:c,stack:Z(c)}}var lu=[],uu=0,Af=null,Tf=0,Aa=[],pi=0,vl=null,Si=1,so="";function No(o,c){lu[uu++]=Tf,lu[uu++]=Af,Af=o,Tf=c}function ab(o,c,m){Aa[pi++]=Si,Aa[pi++]=so,Aa[pi++]=vl,vl=o;var x=Si;o=so;var A=32-ae(x)-1;x&=~(1<<A),m+=1;var C=32-ae(c)+A;if(30<C){var B=A-A%5;C=(x&(1<<B)-1).toString(32),x>>=B,A-=B,Si=1<<32-ae(c)+A|m<<A|x,so=C+o}else Si=1<<C|m<<A|x,so=o}function Lo(o){o.return!==null&&(No(o,1),ab(o,1,0))}function Xp(o){for(;o===Af;)Af=lu[--uu],lu[uu]=null,Tf=lu[--uu],lu[uu]=null;for(;o===vl;)vl=Aa[--pi],Aa[pi]=null,so=Aa[--pi],Aa[pi]=null,Si=Aa[--pi],Aa[pi]=null}function qp(o,c){Aa[pi++]=Si,Aa[pi++]=so,Aa[pi++]=vl,Si=c.id,so=c.overflow,vl=o}var Di=null,ni=null,wn=!1,yl=null,ts=!1,Cf=Error(i(519));function Io(o){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(es(c,o)),Cf}function sb(o){var c=o.stateNode,m=o.type,x=o.memoizedProps;switch(c[In]=o,c[Ri]=x,m){case"dialog":Cn("cancel",c),Cn("close",c);break;case"iframe":case"object":case"embed":Cn("load",c);break;case"video":case"audio":for(m=0;m<js.length;m++)Cn(js[m],c);break;case"source":Cn("error",c);break;case"img":case"image":case"link":Cn("error",c),Cn("load",c);break;case"details":Cn("toggle",c);break;case"input":Cn("invalid",c),Hr(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Cn("invalid",c);break;case"textarea":Cn("invalid",c),fi(c,x.value,x.defaultValue,x.children)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||lO(c.textContent,m)?(x.popover!=null&&(Cn("beforetoggle",c),Cn("toggle",c)),x.onScroll!=null&&Cn("scroll",c),x.onScrollEnd!=null&&Cn("scrollend",c),x.onClick!=null&&(c.onclick=Wr),c=!0):c=!1,c||Io(o,!0)}function ob(o){for(Di=o.return;Di;)switch(Di.tag){case 5:case 31:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:Di=Di.return}}function Rf(o){if(o!==Di)return!1;if(!wn)return ob(o),wn=!0,!1;var c=o.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||OE(o.type,o.memoizedProps)),m=!m),m&&ni&&Io(o),ob(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));ni=vO(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));ni=vO(o)}else c===27?(c=ni,Kf(o.type)?(o=kE,kE=null,ni=o):ni=c):ni=Di?Zo(o.stateNode.nextSibling):null;return!0}function cu(){ni=Di=null,wn=!1}function Yp(){var o=yl;return o!==null&&(Ni===null?Ni=o:Ni.push.apply(Ni,o),yl=null),o}function Uo(o){yl===null?yl=[o]:yl.push(o)}var Pf=V(null),fu=null,ko=null;function xl(o,c,m){re(Pf,c._currentValue),c._currentValue=m}function zo(o){o._currentValue=Pf.current,ee(Pf)}function Kp(o,c,m){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===m)break;o=o.return}}function Zp(o,c,m,x){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var C=A.dependencies;if(C!==null){var B=A.child;C=C.firstContext;e:for(;C!==null;){var Q=C;C=A;for(var ge=0;ge<c.length;ge++)if(Q.context===c[ge]){C.lanes|=m,Q=C.alternate,Q!==null&&(Q.lanes|=m),Kp(C.return,m,o),x||(B=null);break e}C=Q.next}}else if(A.tag===18){if(B=A.return,B===null)throw Error(i(341));B.lanes|=m,C=B.alternate,C!==null&&(C.lanes|=m),Kp(B,m,o),B=null}else B=A.child;if(B!==null)B.return=A;else for(B=A;B!==null;){if(B===o){B=null;break}if(A=B.sibling,A!==null){A.return=B.return,B=A;break}B=B.return}A=B}}function Fo(o,c,m,x){o=null;for(var A=c,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var B=A.alternate;if(B===null)throw Error(i(387));if(B=B.memoizedProps,B!==null){var Q=A.type;oa(A.pendingProps.value,B.value)||(o!==null?o.push(Q):o=[Q])}}else if(A===ce.current){if(B=A.alternate,B===null)throw Error(i(387));B.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(vv):o=[vv])}A=A.return}o!==null&&Zp(c,o,m,x),c.flags|=262144}function $d(o){for(o=o.firstContext;o!==null;){if(!oa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function du(o){fu=o,ko=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Zt(o){return lb(fu,o)}function Df(o,c){return fu===null&&du(o),lb(o,c)}function lb(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},ko===null){if(o===null)throw Error(i(308));ko=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ko=ko.next=c;return m}var ub=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,x){o.push(x)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},vE=t.unstable_scheduleCallback,yE=t.unstable_NormalPriority,Qi={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _0(){return{controller:new ub,data:new Map,refCount:0}}function dc(o){o.refCount--,o.refCount===0&&vE(yE,function(){o.controller.abort()})}var ns=null,$p=0,bl=0,Ps=null;function S0(o,c){if(ns===null){var m=ns=[];$p=0,bl=We(),Ps={status:"pending",value:void 0,then:function(x){m.push(x)}}}return $p++,c.then(M0,M0),c}function M0(){if(--$p===0&&ns!==null){Ps!==null&&(Ps.status="fulfilled");var o=ns;ns=null,bl=0,Ps=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function w0(o,c){var m=[],x={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return o.then(function(){x.status="fulfilled",x.value=c;for(var A=0;A<m.length;A++)(0,m[A])(c)},function(A){for(x.status="rejected",x.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),x}var cb=X.S;X.S=function(o,c){fv=j(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&S0(o,c),cb!==null&&cb(o,c)};var hu=V(null);function Qp(){var o=hu.current;return o!==null?o:Jt.pooledCache}function Qd(o,c){c===null?re(hu,hu.current):re(hu,c.pool)}function E0(){var o=Qp();return o===null?null:{parent:Qi._currentValue,pool:o}}var hc=Error(i(460)),Jd=Error(i(474)),ln=Error(i(542)),Jp={then:function(){}};function Ta(o){return o=o.status,o==="fulfilled"||o==="rejected"}function em(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(Wr,Wr),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,gc(o),o;default:if(typeof c.status=="string")c.then(Wr,Wr);else{if(o=Jt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(x){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=x}},function(x){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,gc(o),o}throw Bo=c,hc}}function pc(o){try{var c=o._init;return c(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Bo=m,hc):m}}var Bo=null;function mc(){if(Bo===null)throw Error(i(459));var o=Bo;return Bo=null,o}function gc(o){if(o===hc||o===ln)throw Error(i(483))}var vc=null,yc=0;function eh(o){var c=yc;return yc+=1,vc===null&&(vc=[]),em(vc,o,c)}function Ds(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Of(o,c){throw c.$$typeof===v?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function tm(o){function c(Ce,xe){if(o){var Ue=Ce.deletions;Ue===null?(Ce.deletions=[xe],Ce.flags|=16):Ue.push(xe)}}function m(Ce,xe){if(!o)return null;for(;xe!==null;)c(Ce,xe),xe=xe.sibling;return null}function x(Ce){for(var xe=new Map;Ce!==null;)Ce.key!==null?xe.set(Ce.key,Ce):xe.set(Ce.index,Ce),Ce=Ce.sibling;return xe}function A(Ce,xe){return Ce=Ea(Ce,xe),Ce.index=0,Ce.sibling=null,Ce}function C(Ce,xe,Ue){return Ce.index=Ue,o?(Ue=Ce.alternate,Ue!==null?(Ue=Ue.index,Ue<xe?(Ce.flags|=67108866,xe):Ue):(Ce.flags|=67108866,xe)):(Ce.flags|=1048576,xe)}function B(Ce){return o&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function Q(Ce,xe,Ue,ot){return xe===null||xe.tag!==6?(xe=Hp(Ue,Ce.mode,ot),xe.return=Ce,xe):(xe=A(xe,Ue),xe.return=Ce,xe)}function ge(Ce,xe,Ue,ot){var Ht=Ue.type;return Ht===w?it(Ce,xe,Ue.props.children,ot,Ue.key):xe!==null&&(xe.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===z&&pc(Ht)===xe.type)?(xe=A(xe,Ue.props),Ds(xe,Ue),xe.return=Ce,xe):(xe=Oo(Ue.type,Ue.key,Ue.props,null,Ce.mode,ot),Ds(xe,Ue),xe.return=Ce,xe)}function Fe(Ce,xe,Ue,ot){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Ue.containerInfo||xe.stateNode.implementation!==Ue.implementation?(xe=Wp(Ue,Ce.mode,ot),xe.return=Ce,xe):(xe=A(xe,Ue.children||[]),xe.return=Ce,xe)}function it(Ce,xe,Ue,ot,Ht){return xe===null||xe.tag!==7?(xe=ou(Ue,Ce.mode,ot,Ht),xe.return=Ce,xe):(xe=A(xe,Ue),xe.return=Ce,xe)}function lt(Ce,xe,Ue){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=Hp(""+xe,Ce.mode,Ue),xe.return=Ce,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case y:return Ue=Oo(xe.type,xe.key,xe.props,null,Ce.mode,Ue),Ds(Ue,xe),Ue.return=Ce,Ue;case _:return xe=Wp(xe,Ce.mode,Ue),xe.return=Ce,xe;case z:return xe=pc(xe),lt(Ce,xe,Ue)}if(ie(xe)||H(xe))return xe=ou(xe,Ce.mode,Ue,null),xe.return=Ce,xe;if(typeof xe.then=="function")return lt(Ce,eh(xe),Ue);if(xe.$$typeof===T)return lt(Ce,Df(Ce,xe),Ue);Of(Ce,xe)}return null}function je(Ce,xe,Ue,ot){var Ht=xe!==null?xe.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ht!==null?null:Q(Ce,xe,""+Ue,ot);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case y:return Ue.key===Ht?ge(Ce,xe,Ue,ot):null;case _:return Ue.key===Ht?Fe(Ce,xe,Ue,ot):null;case z:return Ue=pc(Ue),je(Ce,xe,Ue,ot)}if(ie(Ue)||H(Ue))return Ht!==null?null:it(Ce,xe,Ue,ot,null);if(typeof Ue.then=="function")return je(Ce,xe,eh(Ue),ot);if(Ue.$$typeof===T)return je(Ce,xe,Df(Ce,Ue),ot);Of(Ce,Ue)}return null}function Ke(Ce,xe,Ue,ot,Ht){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Ce=Ce.get(Ue)||null,Q(xe,Ce,""+ot,Ht);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case y:return Ce=Ce.get(ot.key===null?Ue:ot.key)||null,ge(xe,Ce,ot,Ht);case _:return Ce=Ce.get(ot.key===null?Ue:ot.key)||null,Fe(xe,Ce,ot,Ht);case z:return ot=pc(ot),Ke(Ce,xe,Ue,ot,Ht)}if(ie(ot)||H(ot))return Ce=Ce.get(Ue)||null,it(xe,Ce,ot,Ht,null);if(typeof ot.then=="function")return Ke(Ce,xe,Ue,eh(ot),Ht);if(ot.$$typeof===T)return Ke(Ce,xe,Ue,Df(xe,ot),Ht);Of(xe,ot)}return null}function It(Ce,xe,Ue,ot){for(var Ht=null,Vn=null,zt=xe,mn=xe=0,Pn=null;zt!==null&&mn<Ue.length;mn++){zt.index>mn?(Pn=zt,zt=null):Pn=zt.sibling;var jn=je(Ce,zt,Ue[mn],ot);if(jn===null){zt===null&&(zt=Pn);break}o&&zt&&jn.alternate===null&&c(Ce,zt),xe=C(jn,xe,mn),Vn===null?Ht=jn:Vn.sibling=jn,Vn=jn,zt=Pn}if(mn===Ue.length)return m(Ce,zt),wn&&No(Ce,mn),Ht;if(zt===null){for(;mn<Ue.length;mn++)zt=lt(Ce,Ue[mn],ot),zt!==null&&(xe=C(zt,xe,mn),Vn===null?Ht=zt:Vn.sibling=zt,Vn=zt);return wn&&No(Ce,mn),Ht}for(zt=x(zt);mn<Ue.length;mn++)Pn=Ke(zt,Ce,mn,Ue[mn],ot),Pn!==null&&(o&&Pn.alternate!==null&&zt.delete(Pn.key===null?mn:Pn.key),xe=C(Pn,xe,mn),Vn===null?Ht=Pn:Vn.sibling=Pn,Vn=Pn);return o&&zt.forEach(function(ed){return c(Ce,ed)}),wn&&No(Ce,mn),Ht}function Yt(Ce,xe,Ue,ot){if(Ue==null)throw Error(i(151));for(var Ht=null,Vn=null,zt=xe,mn=xe=0,Pn=null,jn=Ue.next();zt!==null&&!jn.done;mn++,jn=Ue.next()){zt.index>mn?(Pn=zt,zt=null):Pn=zt.sibling;var ed=je(Ce,zt,jn.value,ot);if(ed===null){zt===null&&(zt=Pn);break}o&&zt&&ed.alternate===null&&c(Ce,zt),xe=C(ed,xe,mn),Vn===null?Ht=ed:Vn.sibling=ed,Vn=ed,zt=Pn}if(jn.done)return m(Ce,zt),wn&&No(Ce,mn),Ht;if(zt===null){for(;!jn.done;mn++,jn=Ue.next())jn=lt(Ce,jn.value,ot),jn!==null&&(xe=C(jn,xe,mn),Vn===null?Ht=jn:Vn.sibling=jn,Vn=jn);return wn&&No(Ce,mn),Ht}for(zt=x(zt);!jn.done;mn++,jn=Ue.next())jn=Ke(zt,Ce,mn,jn.value,ot),jn!==null&&(o&&jn.alternate!==null&&zt.delete(jn.key===null?mn:jn.key),xe=C(jn,xe,mn),Vn===null?Ht=jn:Vn.sibling=jn,Vn=jn);return o&&zt.forEach(function(NG){return c(Ce,NG)}),wn&&No(Ce,mn),Ht}function ai(Ce,xe,Ue,ot){if(typeof Ue=="object"&&Ue!==null&&Ue.type===w&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case y:e:{for(var Ht=Ue.key;xe!==null;){if(xe.key===Ht){if(Ht=Ue.type,Ht===w){if(xe.tag===7){m(Ce,xe.sibling),ot=A(xe,Ue.props.children),ot.return=Ce,Ce=ot;break e}}else if(xe.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===z&&pc(Ht)===xe.type){m(Ce,xe.sibling),ot=A(xe,Ue.props),Ds(ot,Ue),ot.return=Ce,Ce=ot;break e}m(Ce,xe);break}else c(Ce,xe);xe=xe.sibling}Ue.type===w?(ot=ou(Ue.props.children,Ce.mode,ot,Ue.key),ot.return=Ce,Ce=ot):(ot=Oo(Ue.type,Ue.key,Ue.props,null,Ce.mode,ot),Ds(ot,Ue),ot.return=Ce,Ce=ot)}return B(Ce);case _:e:{for(Ht=Ue.key;xe!==null;){if(xe.key===Ht)if(xe.tag===4&&xe.stateNode.containerInfo===Ue.containerInfo&&xe.stateNode.implementation===Ue.implementation){m(Ce,xe.sibling),ot=A(xe,Ue.children||[]),ot.return=Ce,Ce=ot;break e}else{m(Ce,xe);break}else c(Ce,xe);xe=xe.sibling}ot=Wp(Ue,Ce.mode,ot),ot.return=Ce,Ce=ot}return B(Ce);case z:return Ue=pc(Ue),ai(Ce,xe,Ue,ot)}if(ie(Ue))return It(Ce,xe,Ue,ot);if(H(Ue)){if(Ht=H(Ue),typeof Ht!="function")throw Error(i(150));return Ue=Ht.call(Ue),Yt(Ce,xe,Ue,ot)}if(typeof Ue.then=="function")return ai(Ce,xe,eh(Ue),ot);if(Ue.$$typeof===T)return ai(Ce,xe,Df(Ce,Ue),ot);Of(Ce,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,xe!==null&&xe.tag===6?(m(Ce,xe.sibling),ot=A(xe,Ue),ot.return=Ce,Ce=ot):(m(Ce,xe),ot=Hp(Ue,Ce.mode,ot),ot.return=Ce,Ce=ot),B(Ce)):m(Ce,xe)}return function(Ce,xe,Ue,ot){try{yc=0;var Ht=ai(Ce,xe,Ue,ot);return vc=null,Ht}catch(zt){if(zt===hc||zt===ln)throw zt;var Vn=_i(29,zt,null,Ce.mode);return Vn.lanes=ot,Vn.return=Ce,Vn}}}var _l=tm(!0),nm=tm(!1),ua=!1;function th(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Sl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function pu(o,c,m){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(Ft&2)!==0){var A=x.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),x.pending=c,c=Rs(o),au(o,null,m),c}return xr(o,x,c,m),Rs(o)}function mu(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=o.pendingLanes,m|=x,c.lanes=m,Zi(o,m)}}function Gt(o,c){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var A=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var B={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};C===null?A=C=B:C=C.next=B,m=m.next}while(m!==null);C===null?A=C=c:C=C.next=c}else A=C=c;m={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:x.shared,callbacks:x.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var T0=!1;function nh(){if(T0){var o=Ps;if(o!==null)throw o}}function Nf(o,c,m,x){T0=!1;var A=o.updateQueue;ua=!1;var C=A.firstBaseUpdate,B=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var ge=Q,Fe=ge.next;ge.next=null,B===null?C=Fe:B.next=Fe,B=ge;var it=o.alternate;it!==null&&(it=it.updateQueue,Q=it.lastBaseUpdate,Q!==B&&(Q===null?it.firstBaseUpdate=Fe:Q.next=Fe,it.lastBaseUpdate=ge))}if(C!==null){var lt=A.baseState;B=0,it=Fe=ge=null,Q=C;do{var je=Q.lane&-536870913,Ke=je!==Q.lane;if(Ke?(on&je)===je:(x&je)===je){je!==0&&je===bl&&(T0=!0),it!==null&&(it=it.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var It=o,Yt=Q;je=c;var ai=m;switch(Yt.tag){case 1:if(It=Yt.payload,typeof It=="function"){lt=It.call(ai,lt,je);break e}lt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Yt.payload,je=typeof It=="function"?It.call(ai,lt,je):It,je==null)break e;lt=g({},lt,je);break e;case 2:ua=!0}}je=Q.callback,je!==null&&(o.flags|=64,Ke&&(o.flags|=8192),Ke=A.callbacks,Ke===null?A.callbacks=[je]:Ke.push(je))}else Ke={lane:je,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},it===null?(Fe=it=Ke,ge=lt):it=it.next=Ke,B|=je;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;Ke=Q,Q=Ke.next,Ke.next=null,A.lastBaseUpdate=Ke,A.shared.pending=null}}while(!0);it===null&&(ge=lt),A.baseState=ge,A.firstBaseUpdate=Fe,A.lastBaseUpdate=it,C===null&&(A.shared.lanes=0),qo|=B,o.lanes=B,o.memoizedState=lt}}function Lf(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function fb(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Lf(m[o],c)}var If=V(null),im=V(0);function db(o,c){o=ss,re(im,o),re(If,c),ss=o|c.baseLanes}function C0(){re(im,ss),re(If,If.current)}function ih(){ss=im.current,ee(If),ee(im)}var Ca=V(null),ca=null;function Ml(o){var c=o.alternate;re(En,En.current&1),re(Ca,o),ca===null&&(c===null||If.current!==null||c.memoizedState!==null)&&(ca=o)}function R0(o){re(En,En.current),re(Ca,o),ca===null&&(ca=o)}function hb(o){o.tag===22?(re(En,En.current),re(Ca,o),ca===null&&(ca=o)):Ra()}function Ra(){re(En,En.current),re(Ca,Ca.current)}function Bi(o){ee(Ca),ca===o&&(ca=null),ee(En)}var En=V(0);function is(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||IE(m)||UE(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var mi=0,tn=null,Kn=null,xn=null,Os=!1,Uf=!1,xc=!1,rm=0,rh=0,kf=null,P0=0;function Mi(){throw Error(i(321))}function D0(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!oa(o[m],c[m]))return!1;return!0}function am(o,c,m,x,A,C){return mi=C,tn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,X.H=o===null||o.memoizedState===null?Wb:$0,xc=!1,C=m(x,A),xc=!1,Uf&&(C=bc(c,m,x,A)),pb(o),C}function pb(o){X.H=zf;var c=Kn!==null&&Kn.next!==null;if(mi=0,xn=Kn=tn=null,Os=!1,rh=0,kf=null,c)throw Error(i(300));o===null||Ji||(o=o.dependencies,o!==null&&$d(o)&&(Ji=!0))}function bc(o,c,m,x){tn=o;var A=0;do{if(Uf&&(kf=null),rh=0,Uf=!1,25<=A)throw Error(i(301));if(A+=1,xn=Kn=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}X.H=Ns,C=c(m,x)}while(Uf);return C}function _c(){var o=X.H,c=o.useState()[0];return c=typeof c.then=="function"?ah(c):c,o=o.useState()[0],(Kn!==null?Kn.memoizedState:null)!==o&&(tn.flags|=1024),c}function O0(){var o=rm!==0;return rm=0,o}function N0(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function L0(o){if(Os){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Os=!1}mi=0,xn=Kn=tn=null,Uf=!1,rh=rm=0,kf=null}function ar(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?tn.memoizedState=xn=o:xn=xn.next=o,xn}function Vi(){if(Kn===null){var o=tn.alternate;o=o!==null?o.memoizedState:null}else o=Kn.next;var c=xn===null?tn.memoizedState:xn.next;if(c!==null)xn=c,Kn=o;else{if(o===null)throw tn.alternate===null?Error(i(467)):Error(i(310));Kn=o,o={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},xn===null?tn.memoizedState=xn=o:xn=xn.next=o}return xn}function sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ah(o){var c=rh;return rh+=1,kf===null&&(kf=[]),o=em(kf,o,c),c=tn,(xn===null?c.memoizedState:xn.next)===null&&(c=c.alternate,X.H=c===null||c.memoizedState===null?Wb:$0),o}function gu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ah(o);if(o.$$typeof===T)return Zt(o)}throw Error(i(438,String(o)))}function I0(o){var c=null,m=tn.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=tn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=sm(),tn.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),x=0;x<o;x++)m[x]=U;return c.index++,m}function wl(o,c){return typeof c=="function"?c(o):c}function om(o){var c=Vi();return U0(c,Kn,o)}function U0(o,c,m){var x=o.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=m;var A=o.baseQueue,C=x.pending;if(C!==null){if(A!==null){var B=A.next;A.next=C.next,C.next=B}c.baseQueue=A=C,x.pending=null}if(C=o.baseState,A===null)o.memoizedState=C;else{c=A.next;var Q=B=null,ge=null,Fe=c,it=!1;do{var lt=Fe.lane&-536870913;if(lt!==Fe.lane?(on&lt)===lt:(mi&lt)===lt){var je=Fe.revertLane;if(je===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),lt===bl&&(it=!0);else if((mi&je)===je){Fe=Fe.next,je===bl&&(it=!0);continue}else lt={lane:0,revertLane:Fe.revertLane,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},ge===null?(Q=ge=lt,B=C):ge=ge.next=lt,tn.lanes|=je,qo|=je;lt=Fe.action,xc&&m(C,lt),C=Fe.hasEagerState?Fe.eagerState:m(C,lt)}else je={lane:lt,revertLane:Fe.revertLane,gesture:Fe.gesture,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},ge===null?(Q=ge=je,B=C):ge=ge.next=je,tn.lanes|=lt,qo|=lt;Fe=Fe.next}while(Fe!==null&&Fe!==c);if(ge===null?B=C:ge.next=Q,!oa(C,o.memoizedState)&&(Ji=!0,it&&(m=Ps,m!==null)))throw m;o.memoizedState=C,o.baseState=B,o.baseQueue=ge,x.lastRenderedState=C}return A===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function k0(o){var c=Vi(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var x=m.dispatch,A=m.pending,C=c.memoizedState;if(A!==null){m.pending=null;var B=A=A.next;do C=o(C,B.action),B=B.next;while(B!==A);oa(C,c.memoizedState)||(Ji=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),m.lastRenderedState=C}return[C,x]}function mb(o,c,m){var x=tn,A=Vi(),C=wn;if(C){if(m===void 0)throw Error(i(407));m=m()}else m=c();var B=!oa((Kn||A).memoizedState,m);if(B&&(A.memoizedState=m,Ji=!0),A=A.queue,W0(yb.bind(null,x,A,o),[o]),A.getSnapshot!==c||B||xn!==null&&xn.memoizedState.tag&1){if(x.flags|=2048,vu(9,{destroy:void 0},vb.bind(null,x,A,m,c),null),Jt===null)throw Error(i(349));C||(mi&127)!==0||gb(x,c,m)}return m}function gb(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=tn.updateQueue,c===null?(c=sm(),tn.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function vb(o,c,m,x){c.value=m,c.getSnapshot=x,xb(c)&&bb(o)}function yb(o,c,m){return m(function(){xb(c)&&bb(o)})}function xb(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!oa(o,m)}catch{return!0}}function bb(o){var c=la(o,2);c!==null&&cn(c,o,2)}function z0(o){var c=ar();if(typeof o=="function"){var m=o;if(o=m(),xc){tt(!0);try{m()}finally{tt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:o},c}function F0(o,c,m,x){return o.baseState=m,U0(o,Kn,typeof x=="function"?x:wl)}function xE(o,c,m,x,A){if(fm(o))throw Error(i(485));if(o=c.action,o!==null){var C={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){C.listeners.push(B)}};X.T!==null?m(!0):C.isTransition=!1,x(C),m=c.pending,m===null?(C.next=c.pending=C,_b(c,C)):(C.next=m.next,c.pending=m.next=C)}}function _b(o,c){var m=c.action,x=c.payload,A=o.state;if(c.isTransition){var C=X.T,B={};X.T=B;try{var Q=m(A,x),ge=X.S;ge!==null&&ge(B,Q),Sb(o,c,Q)}catch(Fe){B0(o,c,Fe)}finally{C!==null&&B.types!==null&&(C.types=B.types),X.T=C}}else try{C=m(A,x),Sb(o,c,C)}catch(Fe){B0(o,c,Fe)}}function Sb(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){Mb(o,c,x)},function(x){return B0(o,c,x)}):Mb(o,c,m)}function Mb(o,c,m){c.status="fulfilled",c.value=m,wb(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,_b(o,m)))}function B0(o,c,m){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,wb(c),c=c.next;while(c!==x)}o.action=null}function wb(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function V0(o,c){return c}function j0(o,c){if(wn){var m=Jt.formState;if(m!==null){e:{var x=tn;if(wn){if(ni){t:{for(var A=ni,C=ts;A.nodeType!==8;){if(!C){A=null;break t}if(A=Zo(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){ni=Zo(A.nextSibling),x=A.data==="F!";break e}}Io(x)}x=!1}x&&(c=m[0])}}return m=ar(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:c},m.queue=x,m=jb.bind(null,tn,x),x.dispatch=m,x=z0(!1),C=Z0.bind(null,tn,!1,x.queue),x=ar(),A={state:c,dispatch:null,action:o,pending:null},x.queue=A,m=xE.bind(null,tn,A,C,m),A.dispatch=m,x.memoizedState=o,[c,m,!1]}function Eb(o){var c=Vi();return G0(c,Kn,o)}function G0(o,c,m){if(c=U0(o,c,V0)[0],o=om(wl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=ah(c)}catch(B){throw B===hc?ln:B}else x=c;c=Vi();var A=c.queue,C=A.dispatch;return m!==c.memoizedState&&(tn.flags|=2048,vu(9,{destroy:void 0},Ab.bind(null,A,m),null)),[x,C,o]}function Ab(o,c){o.action=c}function H0(o){var c=Vi(),m=Kn;if(m!==null)return G0(c,m,o);Vi(),c=c.memoizedState,m=Vi();var x=m.queue.dispatch;return m.memoizedState=o,[c,x,!1]}function vu(o,c,m,x){return o={tag:o,create:m,deps:x,inst:c,next:null},c=tn.updateQueue,c===null&&(c=sm(),tn.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,c.lastEffect=o),o}function lm(){return Vi().memoizedState}function um(o,c,m,x){var A=ar();tn.flags|=o,A.memoizedState=vu(1|c,{destroy:void 0},m,x===void 0?null:x)}function cm(o,c,m,x){var A=Vi();x=x===void 0?null:x;var C=A.memoizedState.inst;Kn!==null&&x!==null&&D0(x,Kn.memoizedState.deps)?A.memoizedState=vu(c,C,m,x):(tn.flags|=o,A.memoizedState=vu(1|c,C,m,x))}function Tb(o,c){um(8390656,8,o,c)}function W0(o,c){cm(2048,8,o,c)}function Cb(o){tn.flags|=4;var c=tn.updateQueue;if(c===null)c=sm(),tn.updateQueue=c,c.events=[o];else{var m=c.events;m===null?c.events=[o]:m.push(o)}}function Rb(o){var c=Vi().memoizedState;return Cb({ref:c,nextImpl:o}),function(){if((Ft&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function Pb(o,c){return cm(4,2,o,c)}function Db(o,c){return cm(4,4,o,c)}function Ob(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Nb(o,c,m){m=m!=null?m.concat([o]):null,cm(4,4,Ob.bind(null,c,o),m)}function X0(){}function Lb(o,c){var m=Vi();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&D0(c,x[1])?x[0]:(m.memoizedState=[o,c],o)}function Ib(o,c){var m=Vi();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&D0(c,x[1]))return x[0];if(x=o(),xc){tt(!0);try{o()}finally{tt(!1)}}return m.memoizedState=[x,c],x}function q0(o,c,m){return m===void 0||(mi&1073741824)!==0&&(on&261930)===0?o.memoizedState=c:(o.memoizedState=m,o=vn(),tn.lanes|=o,qo|=o,m)}function Ub(o,c,m,x){return oa(m,c)?m:If.current!==null?(o=q0(o,m,x),oa(o,c)||(Ji=!0),o):(mi&42)===0||(mi&1073741824)!==0&&(on&261930)===0?(Ji=!0,o.memoizedState=m):(o=vn(),tn.lanes|=o,qo|=o,c)}function kb(o,c,m,x,A){var C=te.p;te.p=C!==0&&8>C?C:8;var B=X.T,Q={};X.T=Q,Z0(o,!1,c,m);try{var ge=A(),Fe=X.S;if(Fe!==null&&Fe(Q,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var it=w0(ge,x);sh(o,c,it,ls(o))}else sh(o,c,x,ls(o))}catch(lt){sh(o,c,{then:function(){},status:"rejected",reason:lt},ls())}finally{te.p=C,B!==null&&Q.types!==null&&(B.types=Q.types),X.T=B}}function bE(){}function Y0(o,c,m,x){if(o.tag!==5)throw Error(i(476));var A=zb(o).queue;kb(o,A,c,de,m===null?bE:function(){return Fb(o),m(x)})}function zb(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:de},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Fb(o){var c=zb(o);c.next===null&&(c=o.alternate.memoizedState),sh(o,c.next.queue,{},ls())}function K0(){return Zt(vv)}function Bb(){return Vi().memoizedState}function Vb(){return Vi().memoizedState}function _E(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=ls();o=Sl(m);var x=pu(c,o,m);x!==null&&(cn(x,c,m),mu(x,c,m)),c={cache:_0()},o.payload=c;return}c=c.return}}function SE(o,c,m){var x=ls();m={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},fm(o)?Gb(c,m):(m=jp(o,c,m,x),m!==null&&(cn(m,o,x),Hb(m,c,x)))}function jb(o,c,m){var x=ls();sh(o,c,m,x)}function sh(o,c,m,x){var A={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(fm(o))Gb(c,A);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var B=c.lastRenderedState,Q=C(B,m);if(A.hasEagerState=!0,A.eagerState=Q,oa(Q,B))return xr(o,c,A,0),Jt===null&&Kd(),!1}catch{}if(m=jp(o,c,A,x),m!==null)return cn(m,o,x),Hb(m,c,x),!0}return!1}function Z0(o,c,m,x){if(x={lane:2,revertLane:We(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},fm(o)){if(c)throw Error(i(479))}else c=jp(o,m,x,2),c!==null&&cn(c,o,2)}function fm(o){var c=o.alternate;return o===tn||c!==null&&c===tn}function Gb(o,c){Uf=Os=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function Hb(o,c,m){if((m&4194048)!==0){var x=c.lanes;x&=o.pendingLanes,m|=x,c.lanes=m,Zi(o,m)}}var zf={readContext:Zt,use:gu,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useLayoutEffect:Mi,useInsertionEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useSyncExternalStore:Mi,useId:Mi,useHostTransitionStatus:Mi,useFormState:Mi,useActionState:Mi,useOptimistic:Mi,useMemoCache:Mi,useCacheRefresh:Mi};zf.useEffectEvent=Mi;var Wb={readContext:Zt,use:gu,useCallback:function(o,c){return ar().memoizedState=[o,c===void 0?null:c],o},useContext:Zt,useEffect:Tb,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,um(4194308,4,Ob.bind(null,c,o),m)},useLayoutEffect:function(o,c){return um(4194308,4,o,c)},useInsertionEffect:function(o,c){um(4,2,o,c)},useMemo:function(o,c){var m=ar();c=c===void 0?null:c;var x=o();if(xc){tt(!0);try{o()}finally{tt(!1)}}return m.memoizedState=[x,c],x},useReducer:function(o,c,m){var x=ar();if(m!==void 0){var A=m(c);if(xc){tt(!0);try{m(c)}finally{tt(!1)}}}else A=c;return x.memoizedState=x.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},x.queue=o,o=o.dispatch=SE.bind(null,tn,o),[x.memoizedState,o]},useRef:function(o){var c=ar();return o={current:o},c.memoizedState=o},useState:function(o){o=z0(o);var c=o.queue,m=jb.bind(null,tn,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:X0,useDeferredValue:function(o,c){var m=ar();return q0(m,o,c)},useTransition:function(){var o=z0(!1);return o=kb.bind(null,tn,o.queue,!0,!1),ar().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var x=tn,A=ar();if(wn){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),Jt===null)throw Error(i(349));(on&127)!==0||gb(x,c,m)}A.memoizedState=m;var C={value:m,getSnapshot:c};return A.queue=C,Tb(yb.bind(null,x,C,o),[o]),x.flags|=2048,vu(9,{destroy:void 0},vb.bind(null,x,C,m,c),null),m},useId:function(){var o=ar(),c=Jt.identifierPrefix;if(wn){var m=so,x=Si;m=(x&~(1<<32-ae(x)-1)).toString(32)+m,c="_"+c+"R_"+m,m=rm++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=P0++,c="_"+c+"r_"+m.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:K0,useFormState:j0,useActionState:j0,useOptimistic:function(o){var c=ar();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Z0.bind(null,tn,!0,m),m.dispatch=c,[o,c]},useMemoCache:I0,useCacheRefresh:function(){return ar().memoizedState=_E.bind(null,tn)},useEffectEvent:function(o){var c=ar(),m={impl:o};return c.memoizedState=m,function(){if((Ft&2)!==0)throw Error(i(440));return m.impl.apply(void 0,arguments)}}},$0={readContext:Zt,use:gu,useCallback:Lb,useContext:Zt,useEffect:W0,useImperativeHandle:Nb,useInsertionEffect:Pb,useLayoutEffect:Db,useMemo:Ib,useReducer:om,useRef:lm,useState:function(){return om(wl)},useDebugValue:X0,useDeferredValue:function(o,c){var m=Vi();return Ub(m,Kn.memoizedState,o,c)},useTransition:function(){var o=om(wl)[0],c=Vi().memoizedState;return[typeof o=="boolean"?o:ah(o),c]},useSyncExternalStore:mb,useId:Bb,useHostTransitionStatus:K0,useFormState:Eb,useActionState:Eb,useOptimistic:function(o,c){var m=Vi();return F0(m,Kn,o,c)},useMemoCache:I0,useCacheRefresh:Vb};$0.useEffectEvent=Rb;var Ns={readContext:Zt,use:gu,useCallback:Lb,useContext:Zt,useEffect:W0,useImperativeHandle:Nb,useInsertionEffect:Pb,useLayoutEffect:Db,useMemo:Ib,useReducer:k0,useRef:lm,useState:function(){return k0(wl)},useDebugValue:X0,useDeferredValue:function(o,c){var m=Vi();return Kn===null?q0(m,o,c):Ub(m,Kn.memoizedState,o,c)},useTransition:function(){var o=k0(wl)[0],c=Vi().memoizedState;return[typeof o=="boolean"?o:ah(o),c]},useSyncExternalStore:mb,useId:Bb,useHostTransitionStatus:K0,useFormState:H0,useActionState:H0,useOptimistic:function(o,c){var m=Vi();return Kn!==null?F0(m,Kn,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:I0,useCacheRefresh:Vb};Ns.useEffectEvent=Rb;function dm(o,c,m,x){c=o.memoizedState,m=m(x,c),m=m==null?c:g({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var oh={enqueueSetState:function(o,c,m){o=o._reactInternals;var x=ls(),A=Sl(x);A.payload=c,m!=null&&(A.callback=m),c=pu(o,A,x),c!==null&&(cn(c,o,x),mu(c,o,x))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var x=ls(),A=Sl(x);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=pu(o,A,x),c!==null&&(cn(c,o,x),mu(c,o,x))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=ls(),x=Sl(m);x.tag=2,c!=null&&(x.callback=c),c=pu(o,x,m),c!==null&&(cn(c,o,m),mu(c,o,m))}};function Q0(o,c,m,x,A,C,B){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,C,B):c.prototype&&c.prototype.isPureReactComponent?!bf(m,x)||!bf(A,C):!0}function J0(o,c,m,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==o&&oh.enqueueReplaceState(c,c.state,null)}function yu(o,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(o=o.defaultProps){m===c&&(m=g({},m));for(var A in o)m[A]===void 0&&(m[A]=o[A])}return m}function Xb(o){Yd(o)}function ev(o){console.error(o)}function tv(o){Yd(o)}function hm(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function qb(o,c,m){try{var x=o.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function nv(o,c,m){return m=Sl(m),m.tag=3,m.payload={element:null},m.callback=function(){hm(o,c)},m}function iv(o){return o=Sl(o),o.tag=3,o}function Yb(o,c,m,x){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var C=x.value;o.payload=function(){return A(C)},o.callback=function(){qb(c,m,x)}}var B=m.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(o.callback=function(){qb(c,m,x),typeof A!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var Q=x.stack;this.componentDidCatch(x.value,{componentStack:Q!==null?Q:""})})}function sr(o,c,m,x,A){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&Fo(c,m,A,!0),m=Ca.current,m!==null){switch(m.tag){case 31:case 13:return ca===null?Wf():m.alternate===null&&wi===0&&(wi=3),m.flags&=-257,m.flags|=65536,m.lanes=A,x===Jp?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),xh(o,x,A)),!1;case 22:return m.flags|=65536,x===Jp?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),xh(o,x,A)),!1}throw Error(i(435,m.tag))}return xh(o,x,A),Wf(),!1}if(wn)return c=Ca.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,x!==Cf&&(o=Error(i(422),{cause:x}),Uo(es(o,m)))):(x!==Cf&&(c=Error(i(423),{cause:x}),Uo(es(c,m))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,x=es(x,m),A=nv(o.stateNode,x,A),Gt(o,A),wi!==4&&(wi=2)),!1;var C=Error(i(520),{cause:x});if(C=es(C,m),Rc===null?Rc=[C]:Rc.push(C),wi!==4&&(wi=2),c===null)return!0;x=es(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=A&-A,m.lanes|=o,o=nv(m.stateNode,x,o),Gt(m,o),!1;case 1:if(c=m.type,C=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Hi===null||!Hi.has(C))))return m.flags|=65536,A&=-A,m.lanes|=A,A=iv(A),Yb(A,o,m,x),Gt(m,A),!1}m=m.return}while(m!==null);return!1}var pm=Error(i(461)),Ji=!1;function br(o,c,m,x){c.child=o===null?nm(c,null,m,x):_l(c,o.child,m,x)}function rv(o,c,m,x,A){m=m.render;var C=c.ref;if("ref"in x){var B={};for(var Q in x)Q!=="ref"&&(B[Q]=x[Q])}else B=x;return du(c),x=am(o,c,m,B,C,A),Q=O0(),o!==null&&!Ji?(N0(o,c,A),ji(o,c,A)):(wn&&Q&&Lo(c),c.flags|=1,br(o,c,x,A),c.child)}function Sc(o,c,m,x,A){if(o===null){var C=m.type;return typeof C=="function"&&!Gp(C)&&C.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=C,mm(o,c,C,x,A)):(o=Oo(m.type,null,x,c,c.mode,A),o.ref=c.ref,o.return=c,c.child=o)}if(C=o.child,!_m(o,A)){var B=C.memoizedProps;if(m=m.compare,m=m!==null?m:bf,m(B,x)&&o.ref===c.ref)return ji(o,c,A)}return c.flags|=1,o=Ea(C,x),o.ref=c.ref,o.return=c,c.child=o}function mm(o,c,m,x,A){if(o!==null){var C=o.memoizedProps;if(bf(C,x)&&o.ref===c.ref)if(Ji=!1,c.pendingProps=x=C,_m(o,A))(o.flags&131072)!==0&&(Ji=!0);else return c.lanes=o.lanes,ji(o,c,A)}return Ff(o,c,m,x,A)}function Mc(o,c,m,x){var A=x.children,C=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(C=C!==null?C.baseLanes|m:m,o!==null){for(x=c.child=o.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;x=A&~C}else x=0,c.child=null;return Pa(o,c,C,m,x)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Qd(c,C!==null?C.cachePool:null),C!==null?db(c,C):C0(),hb(c);else return x=c.lanes=536870912,Pa(o,c,C!==null?C.baseLanes|m:m,m,x)}else C!==null?(Qd(c,C.cachePool),db(c,C),Ra(),c.memoizedState=null):(o!==null&&Qd(c,null),C0(),Ra());return br(o,c,A,m),c.child}function Vo(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Pa(o,c,m,x,A){var C=Qp();return C=C===null?null:{parent:Qi._currentValue,pool:C},c.memoizedState={baseLanes:m,cachePool:C},o!==null&&Qd(c,null),C0(),hb(c),o!==null&&Fo(o,c,x,!0),c.childLanes=A,null}function gm(o,c){return c=bm({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function Kb(o,c,m){return _l(c,o.child,null,m),o=gm(c,c.pendingProps),o.flags|=2,Bi(c),c.memoizedState=null,o}function vm(o,c,m){var x=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(wn){if(x.mode==="hidden")return o=gm(c,x),c.lanes=536870912,Vo(null,o);if(R0(c),(o=ni)?(o=gO(o,ts),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:vl!==null?{id:Si,overflow:so}:null,retryLane:536870912,hydrationErrors:null},m=Ef(o),m.return=c,c.child=m,Di=c,ni=null)):o=null,o===null)throw Io(c);return c.lanes=536870912,null}return gm(c,x)}var C=o.memoizedState;if(C!==null){var B=C.dehydrated;if(R0(c),A)if(c.flags&256)c.flags&=-257,c=Kb(o,c,m);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(i(558));else if(Ji||Fo(o,c,m,!1),A=(m&o.childLanes)!==0,Ji||A){if(x=Jt,x!==null&&(B=jr(x,m),B!==0&&B!==C.retryLane))throw C.retryLane=B,la(o,B),cn(x,o,B),pm;Wf(),c=Kb(o,c,m)}else o=C.treeContext,ni=Zo(B.nextSibling),Di=c,wn=!0,yl=null,ts=!1,o!==null&&qp(c,o),c=gm(c,x),c.flags|=4096;return c}return o=Ea(o.child,{mode:x.mode,children:x.children}),o.ref=c.ref,c.child=o,o.return=c,o}function wc(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function Ff(o,c,m,x,A){return du(c),m=am(o,c,m,x,void 0,A),x=O0(),o!==null&&!Ji?(N0(o,c,A),ji(o,c,A)):(wn&&x&&Lo(c),c.flags|=1,br(o,c,m,A),c.child)}function lh(o,c,m,x,A,C){return du(c),c.updateQueue=null,m=bc(c,x,m,A),pb(o),x=O0(),o!==null&&!Ji?(N0(o,c,C),ji(o,c,C)):(wn&&x&&Lo(c),c.flags|=1,br(o,c,m,C),c.child)}function ym(o,c,m,x,A){if(du(c),c.stateNode===null){var C=su,B=m.contextType;typeof B=="object"&&B!==null&&(C=Zt(B)),C=new m(x,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=oh,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=x,C.state=c.memoizedState,C.refs={},th(c),B=m.contextType,C.context=typeof B=="object"&&B!==null?Zt(B):su,C.state=c.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(dm(c,m,B,x),C.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(B=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),B!==C.state&&oh.enqueueReplaceState(C,C.state,null),Nf(c,x,C,A),nh(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(o===null){C=c.stateNode;var Q=c.memoizedProps,ge=yu(m,Q);C.props=ge;var Fe=C.context,it=m.contextType;B=su,typeof it=="object"&&it!==null&&(B=Zt(it));var lt=m.getDerivedStateFromProps;it=typeof lt=="function"||typeof C.getSnapshotBeforeUpdate=="function",Q=c.pendingProps!==Q,it||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Q||Fe!==B)&&J0(c,C,x,B),ua=!1;var je=c.memoizedState;C.state=je,Nf(c,x,C,A),nh(),Fe=c.memoizedState,Q||je!==Fe||ua?(typeof lt=="function"&&(dm(c,m,lt,x),Fe=c.memoizedState),(ge=ua||Q0(c,m,ge,x,je,Fe,B))?(it||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=Fe),C.props=x,C.state=Fe,C.context=B,x=ge):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{C=c.stateNode,A0(o,c),B=c.memoizedProps,it=yu(m,B),C.props=it,lt=c.pendingProps,je=C.context,Fe=m.contextType,ge=su,typeof Fe=="object"&&Fe!==null&&(ge=Zt(Fe)),Q=m.getDerivedStateFromProps,(Fe=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==lt||je!==ge)&&J0(c,C,x,ge),ua=!1,je=c.memoizedState,C.state=je,Nf(c,x,C,A),nh();var Ke=c.memoizedState;B!==lt||je!==Ke||ua||o!==null&&o.dependencies!==null&&$d(o.dependencies)?(typeof Q=="function"&&(dm(c,m,Q,x),Ke=c.memoizedState),(it=ua||Q0(c,m,it,x,je,Ke,ge)||o!==null&&o.dependencies!==null&&$d(o.dependencies))?(Fe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(x,Ke,ge),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(x,Ke,ge)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||B===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Ke),C.props=x,C.state=Ke,C.context=ge,x=it):(typeof C.componentDidUpdate!="function"||B===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),x=!1)}return C=x,wc(o,c),x=(c.flags&128)!==0,C||x?(C=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,o!==null&&x?(c.child=_l(c,o.child,null,A),c.child=_l(c,null,m,A)):br(o,c,m,A),c.memoizedState=C.state,o=c.child):o=ji(o,c,A),o}function Zb(o,c,m,x){return cu(),c.flags|=256,br(o,c,m,x),c.child}var av={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kr(o){return{baseLanes:o,cachePool:E0()}}function xm(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=ha),o}function $b(o,c,m){var x=c.pendingProps,A=!1,C=(c.flags&128)!==0,B;if((B=C)||(B=o!==null&&o.memoizedState===null?!1:(En.current&2)!==0),B&&(A=!0,c.flags&=-129),B=(c.flags&32)!==0,c.flags&=-33,o===null){if(wn){if(A?Ml(c):Ra(),(o=ni)?(o=gO(o,ts),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:vl!==null?{id:Si,overflow:so}:null,retryLane:536870912,hydrationErrors:null},m=Ef(o),m.return=c,c.child=m,Di=c,ni=null)):o=null,o===null)throw Io(c);return UE(o)?c.lanes=32:c.lanes=536870912,null}var Q=x.children;return x=x.fallback,A?(Ra(),A=c.mode,Q=bm({mode:"hidden",children:Q},A),x=ou(x,A,m,null),Q.return=c,x.return=c,Q.sibling=x,c.child=Q,x=c.child,x.memoizedState=Kr(m),x.childLanes=xm(o,B,m),c.memoizedState=av,Vo(null,x)):(Ml(c),uh(c,Q))}var ge=o.memoizedState;if(ge!==null&&(Q=ge.dehydrated,Q!==null)){if(C)c.flags&256?(Ml(c),c.flags&=-257,c=sv(o,c,m)):c.memoizedState!==null?(Ra(),c.child=o.child,c.flags|=128,c=null):(Ra(),Q=x.fallback,A=c.mode,x=bm({mode:"visible",children:x.children},A),Q=ou(Q,A,m,null),Q.flags|=2,x.return=c,Q.return=c,x.sibling=Q,c.child=x,_l(c,o.child,null,m),x=c.child,x.memoizedState=Kr(m),x.childLanes=xm(o,B,m),c.memoizedState=av,c=Vo(null,x));else if(Ml(c),UE(Q)){if(B=Q.nextSibling&&Q.nextSibling.dataset,B)var Fe=B.dgst;B=Fe,x=Error(i(419)),x.stack="",x.digest=B,Uo({value:x,source:null,stack:null}),c=sv(o,c,m)}else if(Ji||Fo(o,c,m,!1),B=(m&o.childLanes)!==0,Ji||B){if(B=Jt,B!==null&&(x=jr(B,m),x!==0&&x!==ge.retryLane))throw ge.retryLane=x,la(o,x),cn(B,o,x),pm;IE(Q)||Wf(),c=sv(o,c,m)}else IE(Q)?(c.flags|=192,c.child=o.child,c=null):(o=ge.treeContext,ni=Zo(Q.nextSibling),Di=c,wn=!0,yl=null,ts=!1,o!==null&&qp(c,o),c=uh(c,x.children),c.flags|=4096);return c}return A?(Ra(),Q=x.fallback,A=c.mode,ge=o.child,Fe=ge.sibling,x=Ea(ge,{mode:"hidden",children:x.children}),x.subtreeFlags=ge.subtreeFlags&65011712,Fe!==null?Q=Ea(Fe,Q):(Q=ou(Q,A,m,null),Q.flags|=2),Q.return=c,x.return=c,x.sibling=Q,c.child=x,Vo(null,x),x=c.child,Q=o.child.memoizedState,Q===null?Q=Kr(m):(A=Q.cachePool,A!==null?(ge=Qi._currentValue,A=A.parent!==ge?{parent:ge,pool:ge}:A):A=E0(),Q={baseLanes:Q.baseLanes|m,cachePool:A}),x.memoizedState=Q,x.childLanes=xm(o,B,m),c.memoizedState=av,Vo(o.child,x)):(Ml(c),m=o.child,o=m.sibling,m=Ea(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,o!==null&&(B=c.deletions,B===null?(c.deletions=[o],c.flags|=16):B.push(o)),c.child=m,c.memoizedState=null,m)}function uh(o,c){return c=bm({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function bm(o,c){return o=_i(22,o,null,c),o.lanes=0,o}function sv(o,c,m){return _l(c,o.child,null,m),o=uh(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Qb(o,c,m){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),Kp(o.return,c,m)}function Ec(o,c,m,x,A,C){var B=o.memoizedState;B===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:A,treeForkCount:C}:(B.isBackwards=c,B.rendering=null,B.renderingStartTime=0,B.last=x,B.tail=m,B.tailMode=A,B.treeForkCount=C)}function Da(o,c,m){var x=c.pendingProps,A=x.revealOrder,C=x.tail;x=x.children;var B=En.current,Q=(B&2)!==0;if(Q?(B=B&1|2,c.flags|=128):B&=1,re(En,B),br(o,c,x,m),x=wn?Tf:0,!Q&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Qb(o,m,c);else if(o.tag===19)Qb(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(A){case"forwards":for(m=c.child,A=null;m!==null;)o=m.alternate,o!==null&&is(o)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),Ec(c,!1,A,m,C,x);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(o=A.alternate,o!==null&&is(o)===null){c.child=A;break}o=A.sibling,A.sibling=m,m=A,A=o}Ec(c,!0,m,null,C,x);break;case"together":Ec(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function ji(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),qo|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(Fo(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,m=Ea(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Ea(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function _m(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&$d(o)))}function ME(o,c,m){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),xl(c,Qi,o.memoizedState.cache),cu();break;case 27:case 5:Oe(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:xl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,R0(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(Ml(c),c.flags|=128,null):(m&c.child.childLanes)!==0?$b(o,c,m):(Ml(c),o=ji(o,c,m),o!==null?o.sibling:null);Ml(c);break;case 19:var A=(o.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(Fo(o,c,m,!1),x=(m&c.childLanes)!==0),A){if(x)return Da(o,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),re(En,En.current),x)break;return null;case 22:return c.lanes=0,Mc(o,c,m,c.pendingProps);case 24:xl(c,Qi,o.memoizedState.cache)}return ji(o,c,m)}function Sm(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)Ji=!0;else{if(!_m(o,m)&&(c.flags&128)===0)return Ji=!1,ME(o,c,m);Ji=(o.flags&131072)!==0}else Ji=!1,wn&&(c.flags&1048576)!==0&&ab(c,Tf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(o=pc(c.elementType),c.type=o,typeof o=="function")Gp(o)?(x=yu(o,x),c.tag=1,c=ym(null,c,o,x,m)):(c.tag=0,c=Ff(null,c,o,x,m));else{if(o!=null){var A=o.$$typeof;if(A===P){c.tag=11,c=rv(null,c,o,x,m);break e}else if(A===k){c.tag=14,c=Sc(null,c,o,x,m);break e}}throw c=J(o)||o,Error(i(306,c,""))}}return c;case 0:return Ff(o,c,c.type,c.pendingProps,m);case 1:return x=c.type,A=yu(x,c.pendingProps),ym(o,c,x,A,m);case 3:e:{if(Se(c,c.stateNode.containerInfo),o===null)throw Error(i(387));x=c.pendingProps;var C=c.memoizedState;A=C.element,A0(o,c),Nf(c,x,null,m);var B=c.memoizedState;if(x=B.cache,xl(c,Qi,x),x!==C.cache&&Zp(c,[Qi],m,!0),nh(),x=B.element,C.isDehydrated)if(C={element:x,isDehydrated:!1,cache:B.cache},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){c=Zb(o,c,x,m);break e}else if(x!==A){A=es(Error(i(424)),c),Uo(A),c=Zb(o,c,x,m);break e}else for(o=c.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,ni=Zo(o.firstChild),Di=c,wn=!0,yl=null,ts=!0,m=nm(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(cu(),x===A){c=ji(o,c,m);break e}br(o,c,x,m)}c=c.child}return c;case 26:return wc(o,c),o===null?(m=SO(c.type,null,c.pendingProps,null))?c.memoizedState=m:wn||(m=c.type,o=c.pendingProps,x=n1(se.current).createElement(m),x[In]=c,x[Ri]=o,ma(x,m,o),$(x),c.stateNode=x):c.memoizedState=SO(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Oe(c),o===null&&wn&&(x=c.stateNode=xO(c.type,c.pendingProps,se.current),Di=c,ts=!0,A=ni,Kf(c.type)?(kE=A,ni=Zo(x.firstChild)):ni=A),br(o,c,c.pendingProps.children,m),wc(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&wn&&((A=x=ni)&&(x=uG(x,c.type,c.pendingProps,ts),x!==null?(c.stateNode=x,Di=c,ni=Zo(x.firstChild),ts=!1,A=!0):A=!1),A||Io(c)),Oe(c),A=c.type,C=c.pendingProps,B=o!==null?o.memoizedProps:null,x=C.children,OE(A,C)?x=null:B!==null&&OE(A,B)&&(c.flags|=32),c.memoizedState!==null&&(A=am(o,c,_c,null,null,m),vv._currentValue=A),wc(o,c),br(o,c,x,m),c.child;case 6:return o===null&&wn&&((o=m=ni)&&(m=cG(m,c.pendingProps,ts),m!==null?(c.stateNode=m,Di=c,ni=null,o=!0):o=!1),o||Io(c)),null;case 13:return $b(o,c,m);case 4:return Se(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=_l(c,null,x,m):br(o,c,x,m),c.child;case 11:return rv(o,c,c.type,c.pendingProps,m);case 7:return br(o,c,c.pendingProps,m),c.child;case 8:return br(o,c,c.pendingProps.children,m),c.child;case 12:return br(o,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,xl(c,c.type,x.value),br(o,c,x.children,m),c.child;case 9:return A=c.type._context,x=c.pendingProps.children,du(c),A=Zt(A),x=x(A),c.flags|=1,br(o,c,x,m),c.child;case 14:return Sc(o,c,c.type,c.pendingProps,m);case 15:return mm(o,c,c.type,c.pendingProps,m);case 19:return Da(o,c,m);case 31:return vm(o,c,m);case 22:return Mc(o,c,m,c.pendingProps);case 24:return du(c),x=Zt(Qi),o===null?(A=Qp(),A===null&&(A=Jt,C=_0(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=m),A=C),c.memoizedState={parent:x,cache:A},th(c),xl(c,Qi,A)):((o.lanes&m)!==0&&(A0(o,c),Nf(c,null,null,m),nh()),A=o.memoizedState,C=c.memoizedState,A.parent!==x?(A={parent:x,cache:x},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),xl(c,Qi,x)):(x=C.cache,xl(c,Qi,x),x!==A.cache&&Zp(c,[Qi],m,!0))),br(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function jo(o){o.flags|=4}function ch(o,c,m,x,A){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(A&335544128)===A)if(o.stateNode.complete)o.flags|=8192;else if(Ai())o.flags|=8192;else throw Bo=Jp,Jd}else o.flags&=-16777217}function ov(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!TO(c))if(Ai())o.flags|=8192;else throw Bo=Jp,Jd}function El(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?xt():536870912,o.lanes|=c,ui|=c)}function Go(o,c){if(!wn)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Zn(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,x=0;if(c)for(var A=o.child;A!==null;)m|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)m|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=x,o.childLanes=m,c}function fh(o,c,m){var x=c.pendingProps;switch(Xp(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(c),null;case 1:return Zn(c),null;case 3:return m=c.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),zo(Qi),fe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Rf(c)?jo(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Yp())),Zn(c),null;case 26:var A=c.type,C=c.memoizedState;return o===null?(jo(c),C!==null?(Zn(c),ov(c,C)):(Zn(c),ch(c,A,null,x,m))):C?C!==o.memoizedState?(jo(c),Zn(c),ov(c,C)):(Zn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==x&&jo(c),Zn(c),ch(c,A,o,x,m)),null;case 27:if(ke(c),m=se.current,A=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==x&&jo(c);else{if(!x){if(c.stateNode===null)throw Error(i(166));return Zn(c),null}o=pe.current,Rf(c)?sb(c):(o=xO(A,x,m),c.stateNode=o,jo(c))}return Zn(c),null;case 5:if(ke(c),A=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==x&&jo(c);else{if(!x){if(c.stateNode===null)throw Error(i(166));return Zn(c),null}if(C=pe.current,Rf(c))sb(c);else{var B=n1(se.current);switch(C){case 1:C=B.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=B.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=B.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=B.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=B.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof x.is=="string"?B.createElement("select",{is:x.is}):B.createElement("select"),x.multiple?C.multiple=!0:x.size&&(C.size=x.size);break;default:C=typeof x.is=="string"?B.createElement(A,{is:x.is}):B.createElement(A)}}C[In]=c,C[Ri]=x;e:for(B=c.child;B!==null;){if(B.tag===5||B.tag===6)C.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===c)break e;for(;B.sibling===null;){if(B.return===null||B.return===c)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}c.stateNode=C;e:switch(ma(C,A,x),A){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&jo(c)}}return Zn(c),ch(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,m),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==x&&jo(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(i(166));if(o=se.current,Rf(c)){if(o=c.stateNode,m=c.memoizedProps,x=null,A=Di,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}o[In]=c,o=!!(o.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||lO(o.nodeValue,m)),o||Io(c,!0)}else o=n1(o).createTextNode(x),o[In]=c,c.stateNode=o}return Zn(c),null;case 31:if(m=c.memoizedState,o===null||o.memoizedState!==null){if(x=Rf(c),m!==null){if(o===null){if(!x)throw Error(i(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[In]=c}else cu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zn(c),o=!1}else m=Yp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return c.flags&256?(Bi(c),c):(Bi(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Zn(c),null;case 13:if(x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=Rf(c),x!==null&&x.dehydrated!==null){if(o===null){if(!A)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[In]=c}else cu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zn(c),A=!1}else A=Yp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Bi(c),c):(Bi(c),null)}return Bi(c),(c.flags&128)!==0?(c.lanes=m,c):(m=x!==null,o=o!==null&&o.memoizedState!==null,m&&(x=c.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool),C=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==A&&(x.flags|=2048)),m!==o&&m&&(c.child.flags|=8192),El(c,c.updateQueue),Zn(c),null);case 4:return fe(),o===null&&TE(c.stateNode.containerInfo),Zn(c),null;case 10:return zo(c.type),Zn(c),null;case 19:if(ee(En),x=c.memoizedState,x===null)return Zn(c),null;if(A=(c.flags&128)!==0,C=x.rendering,C===null)if(A)Go(x,!1);else{if(wi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(C=is(o),C!==null){for(c.flags|=128,Go(x,!1),o=C.updateQueue,c.updateQueue=o,El(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)wf(m,o),m=m.sibling;return re(En,En.current&1|2),wn&&No(c,x.treeForkCount),c.child}o=o.sibling}x.tail!==null&&j()>Gi&&(c.flags|=128,A=!0,Go(x,!1),c.lanes=4194304)}else{if(!A)if(o=is(C),o!==null){if(c.flags|=128,A=!0,o=o.updateQueue,c.updateQueue=o,El(c,o),Go(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!wn)return Zn(c),null}else 2*j()-x.renderingStartTime>Gi&&m!==536870912&&(c.flags|=128,A=!0,Go(x,!1),c.lanes=4194304);x.isBackwards?(C.sibling=c.child,c.child=C):(o=x.last,o!==null?o.sibling=C:c.child=C,x.last=C)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=j(),o.sibling=null,m=En.current,re(En,A?m&1|2:m&1),wn&&No(c,x.treeForkCount),o):(Zn(c),null);case 22:case 23:return Bi(c),ih(),x=c.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(Zn(c),c.subtreeFlags&6&&(c.flags|=8192)):Zn(c),m=c.updateQueue,m!==null&&El(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),o!==null&&ee(hu),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),zo(Qi),Zn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Ls(o,c){switch(Xp(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return zo(Qi),fe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ke(c),null;case 31:if(c.memoizedState!==null){if(Bi(c),c.alternate===null)throw Error(i(340));cu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Bi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));cu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ee(En),null;case 4:return fe(),null;case 10:return zo(c.type),null;case 22:case 23:return Bi(c),ih(),o!==null&&ee(hu),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return zo(Qi),null;case 25:return null;default:return null}}function rs(o,c){switch(Xp(c),c.tag){case 3:zo(Qi),fe();break;case 26:case 27:case 5:ke(c);break;case 4:fe();break;case 31:c.memoizedState!==null&&Bi(c);break;case 13:Bi(c);break;case 19:ee(En);break;case 10:zo(c.type);break;case 22:case 23:Bi(c),ih(),o!==null&&ee(hu);break;case 24:zo(Qi)}}function Is(o,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var A=x.next;m=A;do{if((m.tag&o)===o){x=void 0;var C=m.create,B=m.inst;x=C(),B.destroy=x}m=m.next}while(m!==A)}}catch(Q){On(c,c.return,Q)}}function Dr(o,c,m){try{var x=c.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var C=A.next;x=C;do{if((x.tag&o)===o){var B=x.inst,Q=B.destroy;if(Q!==void 0){B.destroy=void 0,A=c;var ge=m,Fe=Q;try{Fe()}catch(it){On(A,ge,it)}}}x=x.next}while(x!==C)}}catch(it){On(c,c.return,it)}}function oo(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{fb(c,m)}catch(x){On(o,o.return,x)}}}function _r(o,c,m){m.props=yu(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(x){On(o,c,x)}}function Al(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof m=="function"?o.refCleanup=m(x):m.current=x}}catch(A){On(o,c,A)}}function Or(o,c){var m=o.ref,x=o.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(A){On(o,c,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){On(o,c,A)}else m.current=null}function dh(o){var c=o.type,m=o.memoizedProps,x=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(A){On(o,o.return,A)}}function or(o,c,m){try{var x=o.stateNode;iG(x,o.type,m,c),x[Ri]=c}catch(A){On(o,o.return,A)}}function gi(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Kf(o.type)||o.tag===4}function bn(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||gi(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Kf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ho(o,c,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(o),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Wr));else if(x!==4&&(x===27&&Kf(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(Ho(o,c,m),o=o.sibling;o!==null;)Ho(o,c,m),o=o.sibling}function fa(o,c,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(x!==4&&(x===27&&Kf(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(fa(o,c,m),o=o.sibling;o!==null;)fa(o,c,m),o=o.sibling}function Mm(o){var c=o.stateNode,m=o.memoizedProps;try{for(var x=o.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);ma(c,x,m),c[In]=o,c[Ri]=m}catch(C){On(o,o.return,C)}}var Us=!1,ii=!1,lo=!1,Jb=typeof WeakSet=="function"?WeakSet:Set,Sr=null;function wE(o,c){if(o=o.containerInfo,PE=u1,o=tb(o),g0(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var A=x.anchorOffset,C=x.focusNode;x=x.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var B=0,Q=-1,ge=-1,Fe=0,it=0,lt=o,je=null;t:for(;;){for(var Ke;lt!==m||A!==0&&lt.nodeType!==3||(Q=B+A),lt!==C||x!==0&&lt.nodeType!==3||(ge=B+x),lt.nodeType===3&&(B+=lt.nodeValue.length),(Ke=lt.firstChild)!==null;)je=lt,lt=Ke;for(;;){if(lt===o)break t;if(je===m&&++Fe===A&&(Q=B),je===C&&++it===x&&(ge=B),(Ke=lt.nextSibling)!==null)break;lt=je,je=lt.parentNode}lt=Ke}m=Q===-1||ge===-1?null:{start:Q,end:ge}}else m=null}m=m||{start:0,end:0}}else m=null;for(DE={focusedElem:o,selectionRange:m},u1=!1,Sr=c;Sr!==null;)if(c=Sr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Sr=o;else for(;Sr!==null;){switch(c=Sr,C=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)A=o[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,m=c,A=C.memoizedProps,C=C.memoizedState,x=m.stateNode;try{var It=yu(m.type,A);o=x.getSnapshotBeforeUpdate(It,C),x.__reactInternalSnapshotBeforeUpdate=o}catch(Yt){On(m,m.return,Yt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)LE(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":LE(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,Sr=o;break}Sr=c.return}}function vi(o,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:Fs(o,m),x&4&&Is(5,m);break;case 1:if(Fs(o,m),x&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(B){On(m,m.return,B)}else{var A=yu(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(A,c,o.__reactInternalSnapshotBeforeUpdate)}catch(B){On(m,m.return,B)}}x&64&&oo(m),x&512&&Al(m,m.return);break;case 3:if(Fs(o,m),x&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{fb(o,c)}catch(B){On(m,m.return,B)}}break;case 27:c===null&&x&4&&Mm(m);case 26:case 5:Fs(o,m),c===null&&x&4&&dh(m),x&512&&Al(m,m.return);break;case 12:Fs(o,m);break;case 31:Fs(o,m),x&4&&xu(o,m);break;case 13:Fs(o,m),x&4&&Bf(o,m),x&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=b.bind(null,m),fG(o,m))));break;case 22:if(x=m.memoizedState!==null||Us,!x){c=c!==null&&c.memoizedState!==null||ii,A=Us;var C=ii;Us=x,(ii=c)&&!C?da(o,m,(m.subtreeFlags&8772)!==0):Fs(o,m),Us=A,ii=C}break;case 30:break;default:Fs(o,m)}}function hh(o){var c=o.alternate;c!==null&&(o.alternate=null,hh(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&bs(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Wn=null,Zr=!1;function ks(o,c,m){for(m=m.child;m!==null;)wm(o,c,m),m=m.sibling}function wm(o,c,m){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Xe,m)}catch{}switch(m.tag){case 26:ii||Or(m,c),ks(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ii||Or(m,c);var x=Wn,A=Zr;Kf(m.type)&&(Wn=m.stateNode,Zr=!1),ks(o,c,m),pv(m.stateNode),Wn=x,Zr=A;break;case 5:ii||Or(m,c);case 6:if(x=Wn,A=Zr,Wn=null,ks(o,c,m),Wn=x,Zr=A,Wn!==null)if(Zr)try{(Wn.nodeType===9?Wn.body:Wn.nodeName==="HTML"?Wn.ownerDocument.body:Wn).removeChild(m.stateNode)}catch(C){On(m,c,C)}else try{Wn.removeChild(m.stateNode)}catch(C){On(m,c,C)}break;case 18:Wn!==null&&(Zr?(o=Wn,pO(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),Om(o)):pO(Wn,m.stateNode));break;case 4:x=Wn,A=Zr,Wn=m.stateNode.containerInfo,Zr=!0,ks(o,c,m),Wn=x,Zr=A;break;case 0:case 11:case 14:case 15:Dr(2,m,c),ii||Dr(4,m,c),ks(o,c,m);break;case 1:ii||(Or(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&_r(m,c,x)),ks(o,c,m);break;case 21:ks(o,c,m);break;case 22:ii=(x=ii)||m.memoizedState!==null,ks(o,c,m),ii=x;break;default:ks(o,c,m)}}function xu(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Om(o)}catch(m){On(c,c.return,m)}}}function Bf(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Om(o)}catch(m){On(c,c.return,m)}}function lv(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Jb),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Jb),c;default:throw Error(i(435,o.tag))}}function Tl(o,c){var m=lv(o);c.forEach(function(x){if(!m.has(x)){m.add(x);var A=E.bind(null,o,x);x.then(A,A)}})}function lr(o,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var A=m[x],C=o,B=c,Q=B;e:for(;Q!==null;){switch(Q.tag){case 27:if(Kf(Q.type)){Wn=Q.stateNode,Zr=!1;break e}break;case 5:Wn=Q.stateNode,Zr=!1;break e;case 3:case 4:Wn=Q.stateNode.containerInfo,Zr=!0;break e}Q=Q.return}if(Wn===null)throw Error(i(160));wm(C,B,A),Wn=null,Zr=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)bu(c,o),c=c.sibling}var zs=null;function bu(o,c){var m=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:lr(c,o),ur(o),x&4&&(Dr(3,o,o.return),Is(3,o),Dr(5,o,o.return));break;case 1:lr(c,o),ur(o),x&512&&(ii||m===null||Or(m,m.return)),x&64&&Us&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var A=zs;if(lr(c,o),ur(o),x&512&&(ii||m===null||Or(m,m.return)),x&4){var C=m!==null?m.memoizedState:null;if(x=o.memoizedState,m===null)if(x===null)if(o.stateNode===null){e:{x=o.type,m=o.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Ka]||C[In]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(x),A.head.insertBefore(C,A.querySelector("head > title"))),ma(C,x,m),C[In]=o,$(C),x=C;break e;case"link":var B=EO("link","href",A).get(x+(m.href||""));if(B){for(var Q=0;Q<B.length;Q++)if(C=B[Q],C.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&C.getAttribute("rel")===(m.rel==null?null:m.rel)&&C.getAttribute("title")===(m.title==null?null:m.title)&&C.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){B.splice(Q,1);break t}}C=A.createElement(x),ma(C,x,m),A.head.appendChild(C);break;case"meta":if(B=EO("meta","content",A).get(x+(m.content||""))){for(Q=0;Q<B.length;Q++)if(C=B[Q],C.getAttribute("content")===(m.content==null?null:""+m.content)&&C.getAttribute("name")===(m.name==null?null:m.name)&&C.getAttribute("property")===(m.property==null?null:m.property)&&C.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&C.getAttribute("charset")===(m.charSet==null?null:m.charSet)){B.splice(Q,1);break t}}C=A.createElement(x),ma(C,x,m),A.head.appendChild(C);break;default:throw Error(i(468,x))}C[In]=o,$(C),x=C}o.stateNode=x}else AO(A,o.type,o.stateNode);else o.stateNode=wO(A,x,o.memoizedProps);else C!==x?(C===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):C.count--,x===null?AO(A,o.type,o.stateNode):wO(A,x,o.memoizedProps)):x===null&&o.stateNode!==null&&or(o,o.memoizedProps,m.memoizedProps)}break;case 27:lr(c,o),ur(o),x&512&&(ii||m===null||Or(m,m.return)),m!==null&&x&4&&or(o,o.memoizedProps,m.memoizedProps);break;case 5:if(lr(c,o),ur(o),x&512&&(ii||m===null||Or(m,m.return)),o.flags&32){A=o.stateNode;try{di(A,"")}catch(It){On(o,o.return,It)}}x&4&&o.stateNode!=null&&(A=o.memoizedProps,or(o,A,m!==null?m.memoizedProps:A)),x&1024&&(lo=!0);break;case 6:if(lr(c,o),ur(o),x&4){if(o.stateNode===null)throw Error(i(162));x=o.memoizedProps,m=o.stateNode;try{m.nodeValue=x}catch(It){On(o,o.return,It)}}break;case 3:if(a1=null,A=zs,zs=i1(c.containerInfo),lr(c,o),zs=A,ur(o),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Om(c.containerInfo)}catch(It){On(o,o.return,It)}lo&&(lo=!1,Em(o));break;case 4:x=zs,zs=i1(o.stateNode.containerInfo),lr(c,o),ur(o),zs=x;break;case 12:lr(c,o),ur(o);break;case 31:lr(c,o),ur(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Tl(o,x)));break;case 13:lr(c,o),ur(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Vf=j()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Tl(o,x)));break;case 22:A=o.memoizedState!==null;var ge=m!==null&&m.memoizedState!==null,Fe=Us,it=ii;if(Us=Fe||A,ii=it||ge,lr(c,o),ii=it,Us=Fe,ur(o),x&8192)e:for(c=o.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(m===null||ge||Us||ii||Wo(o)),m=null,c=o;;){if(c.tag===5||c.tag===26){if(m===null){ge=m=c;try{if(C=ge.stateNode,A)B=C.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{Q=ge.stateNode;var lt=ge.memoizedProps.style,je=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;Q.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(It){On(ge,ge.return,It)}}}else if(c.tag===6){if(m===null){ge=c;try{ge.stateNode.nodeValue=A?"":ge.memoizedProps}catch(It){On(ge,ge.return,It)}}}else if(c.tag===18){if(m===null){ge=c;try{var Ke=ge.stateNode;A?mO(Ke,!0):mO(ge.stateNode,!1)}catch(It){On(ge,ge.return,It)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=o.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,Tl(o,m))));break;case 19:lr(c,o),ur(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Tl(o,x)));break;case 30:break;case 21:break;default:lr(c,o),ur(o)}}function ur(o){var c=o.flags;if(c&2){try{for(var m,x=o.return;x!==null;){if(gi(x)){m=x;break}x=x.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var A=m.stateNode,C=bn(o);fa(o,C,A);break;case 5:var B=m.stateNode;m.flags&32&&(di(B,""),m.flags&=-33);var Q=bn(o);fa(o,Q,B);break;case 3:case 4:var ge=m.stateNode.containerInfo,Fe=bn(o);Ho(o,Fe,ge);break;default:throw Error(i(161))}}catch(it){On(o,o.return,it)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Em(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Em(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Fs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)vi(o,c.alternate,c),c=c.sibling}function Wo(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Dr(4,c,c.return),Wo(c);break;case 1:Or(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&_r(c,c.return,m),Wo(c);break;case 27:pv(c.stateNode);case 26:case 5:Or(c,c.return),Wo(c);break;case 22:c.memoizedState===null&&Wo(c);break;case 30:Wo(c);break;default:Wo(c)}o=o.sibling}}function da(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,A=o,C=c,B=C.flags;switch(C.tag){case 0:case 11:case 15:da(A,C,m),Is(4,C);break;case 1:if(da(A,C,m),x=C,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Fe){On(x,x.return,Fe)}if(x=C,A=x.updateQueue,A!==null){var Q=x.stateNode;try{var ge=A.shared.hiddenCallbacks;if(ge!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ge.length;A++)Lf(ge[A],Q)}catch(Fe){On(x,x.return,Fe)}}m&&B&64&&oo(C),Al(C,C.return);break;case 27:Mm(C);case 26:case 5:da(A,C,m),m&&x===null&&B&4&&dh(C),Al(C,C.return);break;case 12:da(A,C,m);break;case 31:da(A,C,m),m&&B&4&&xu(A,C);break;case 13:da(A,C,m),m&&B&4&&Bf(A,C);break;case 22:C.memoizedState===null&&da(A,C,m),Al(C,C.return);break;case 30:break;default:da(A,C,m)}c=c.sibling}}function _u(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&dc(m))}function Ac(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&dc(o))}function Nr(o,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)uv(o,c,m,x),c=c.sibling}function uv(o,c,m,x){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Nr(o,c,m,x),A&2048&&Is(9,c);break;case 1:Nr(o,c,m,x);break;case 3:Nr(o,c,m,x),A&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&dc(o)));break;case 12:if(A&2048){Nr(o,c,m,x),o=c.stateNode;try{var C=c.memoizedProps,B=C.id,Q=C.onPostCommit;typeof Q=="function"&&Q(B,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ge){On(c,c.return,ge)}}else Nr(o,c,m,x);break;case 31:Nr(o,c,m,x);break;case 13:Nr(o,c,m,x);break;case 23:break;case 22:C=c.stateNode,B=c.alternate,c.memoizedState!==null?C._visibility&2?Nr(o,c,m,x):Xo(o,c):C._visibility&2?Nr(o,c,m,x):(C._visibility|=2,Lr(o,c,m,x,(c.subtreeFlags&10256)!==0||!1)),A&2048&&_u(B,c);break;case 24:Nr(o,c,m,x),A&2048&&Ac(c.alternate,c);break;default:Nr(o,c,m,x)}}function Lr(o,c,m,x,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var C=o,B=c,Q=m,ge=x,Fe=B.flags;switch(B.tag){case 0:case 11:case 15:Lr(C,B,Q,ge,A),Is(8,B);break;case 23:break;case 22:var it=B.stateNode;B.memoizedState!==null?it._visibility&2?Lr(C,B,Q,ge,A):Xo(C,B):(it._visibility|=2,Lr(C,B,Q,ge,A)),A&&Fe&2048&&_u(B.alternate,B);break;case 24:Lr(C,B,Q,ge,A),A&&Fe&2048&&Ac(B.alternate,B);break;default:Lr(C,B,Q,ge,A)}c=c.sibling}}function Xo(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,x=c,A=x.flags;switch(x.tag){case 22:Xo(m,x),A&2048&&_u(x.alternate,x);break;case 24:Xo(m,x),A&2048&&Ac(x.alternate,x);break;default:Xo(m,x)}c=c.sibling}}var Tc=8192;function as(o,c,m){if(o.subtreeFlags&Tc)for(o=o.child;o!==null;)Am(o,c,m),o=o.sibling}function Am(o,c,m){switch(o.tag){case 26:as(o,c,m),o.flags&Tc&&o.memoizedState!==null&&MG(m,zs,o.memoizedState,o.memoizedProps);break;case 5:as(o,c,m);break;case 3:case 4:var x=zs;zs=i1(o.stateNode.containerInfo),as(o,c,m),zs=x;break;case 22:o.memoizedState===null&&(x=o.alternate,x!==null&&x.memoizedState!==null?(x=Tc,Tc=16777216,as(o,c,m),Tc=x):as(o,c,m));break;default:as(o,c,m)}}function Cc(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Su(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];Sr=x,Oi(x,o)}Cc(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Oa(o),o=o.sibling}function Oa(o){switch(o.tag){case 0:case 11:case 15:Su(o),o.flags&2048&&Dr(9,o,o.return);break;case 3:Su(o);break;case 12:Su(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Na(o)):Su(o);break;default:Su(o)}}function Na(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];Sr=x,Oi(x,o)}Cc(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Dr(8,c,c.return),Na(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Na(c));break;default:Na(c)}o=o.sibling}}function Oi(o,c){for(;Sr!==null;){var m=Sr;switch(m.tag){case 0:case 11:case 15:Dr(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:dc(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,Sr=x;else e:for(m=o;Sr!==null;){x=Sr;var A=x.sibling,C=x.return;if(hh(x),x===m){Sr=null;break e}if(A!==null){A.return=C,Sr=A;break e}Sr=C}}}var Cl={getCacheForType:function(o){var c=Zt(Qi),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m},cacheSignal:function(){return Zt(Qi).controller.signal}},nn=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,un=null,on=0,Tn=0,$r=null,Bs=!1,uo=!1,cv=!1,ss=0,wi=0,qo=0,Mu=0,ph=0,ha=0,ui=0,Rc=null,Ni=null,Li=!1,Vf=0,fv=0,Gi=1/0,Ei=null,Hi=null,Xn=0,os=null,jf=null,Vs=0,Gf=0,Hf=null,mh=null,wu=0,Pc=null;function ls(){return(Ft&2)!==0&&on!==0?on&-on:X.T!==null?We():ra()}function vn(){if(ha===0)if((on&536870912)===0||wn){var o=Qe;Qe<<=1,(Qe&3932160)===0&&(Qe=262144),ha=o}else ha=536870912;return o=Ca.current,o!==null&&(o.flags|=32),ha}function cn(o,c,m){(o===Jt&&(Tn===2||Tn===9)||o.cancelPendingCommit!==null)&&(Au(o,0),er(o,on,ha,!1)),hn(o,m),((Ft&2)===0||o!==Jt)&&(o===Jt&&((Ft&2)===0&&(Mu|=m),wi===4&&er(o,on,ha,!1)),ht(o))}function yn(o,c,m){if((Ft&6)!==0)throw Error(i(327));var x=!m&&(c&127)===0&&(c&o.expiredLanes)===0||st(o,c),A=x?gh(o,c):pa(o,c,!0),C=x;do{if(A===0){uo&&!x&&er(o,c,0,!1);break}else{if(m=o.current.alternate,C&&!qn(m)){A=pa(o,c,!1),C=!1;continue}if(A===2){if(C=c,o.errorRecoveryDisabledLanes&C)var B=0;else B=o.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){c=B;e:{var Q=o;A=Rc;var ge=Q.current.memoizedState.isDehydrated;if(ge&&(Au(Q,B).flags|=256),B=pa(Q,B,!1),B!==2){if(cv&&!ge){Q.errorRecoveryDisabledLanes|=C,Mu|=C,A=4;break e}C=Ni,Ni=A,C!==null&&(Ni===null?Ni=C:Ni.push.apply(Ni,C))}A=B}if(C=!1,A!==2)continue}}if(A===1){Au(o,0),er(o,c,0,!0);break}e:{switch(x=o,C=A,C){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:er(x,c,ha,!Bs);break e;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(A=Vf+300-j(),10<A)){if(er(x,c,ha,!Bs),ze(x,0,!0)!==0)break e;Vs=c,x.timeoutHandle=dO(_n.bind(null,x,m,Ni,Ei,Li,c,ha,Mu,ui,Bs,C,"Throttled",-0,0),A);break e}_n(x,m,Ni,Ei,Li,c,ha,Mu,ui,Bs,C,null,-0,0)}}break}while(!0);ht(o)}function _n(o,c,m,x,A,C,B,Q,ge,Fe,it,lt,je,Ke){if(o.timeoutHandle=-1,lt=c.subtreeFlags,lt&8192||(lt&16785408)===16785408){lt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},Am(c,C,lt);var It=(C&62914560)===C?Vf-j():(C&4194048)===C?fv-j():0;if(It=wG(lt,It),It!==null){Vs=C,o.cancelPendingCommit=It(Pl.bind(null,o,c,C,m,x,A,B,Q,ge,it,lt,null,je,Ke)),er(o,C,B,!Fe);return}}Pl(o,c,C,m,x,A,B,Q,ge)}function qn(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var A=m[x],C=A.getSnapshot;A=A.value;try{if(!oa(C(),A))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function er(o,c,m,x){c&=~ph,c&=~Mu,o.suspendedLanes|=c,o.pingedLanes&=~c,x&&(o.warmLanes|=c),x=o.expirationTimes;for(var A=c;0<A;){var C=31-ae(A),B=1<<C;x[C]=-1,A&=~B}m!==0&&Yn(o,m,c)}function co(){return(Ft&6)===0?(Tt(0),!1):!0}function Eu(){if(un!==null){if(Tn===0)var o=un.return;else o=un,ko=fu=null,L0(o),vc=null,yc=0,o=un;for(;o!==null;)rs(o.alternate,o),o=o.return;un=null}}function Au(o,c){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,sG(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Vs=0,Eu(),Jt=o,un=m=Ea(o.current,null),on=c,Tn=0,$r=null,Bs=!1,uo=st(o,c),cv=!1,ui=ha=ph=Mu=qo=wi=0,Ni=Rc=null,Li=!1,(c&8)!==0&&(c|=c&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=c;0<x;){var A=31-ae(x),C=1<<A;c|=o[A],x&=~C}return ss=c,Kd(),m}function Yo(o,c){tn=null,X.H=zf,c===hc||c===ln?(c=mc(),Tn=3):c===Jd?(c=mc(),Tn=4):Tn=c===pm?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,$r=c,un===null&&(wi=1,hm(o,es(c,o.current)))}function Ai(){var o=Ca.current;return o===null?!0:(on&4194048)===on?ca===null:(on&62914560)===on||(on&536870912)!==0?o===ca:!1}function Rl(){var o=X.H;return X.H=zf,o===null?zf:o}function Tu(){var o=X.A;return X.A=Cl,o}function Wf(){wi=4,Bs||(on&4194048)!==on&&Ca.current!==null||(uo=!0),(qo&134217727)===0&&(Mu&134217727)===0||Jt===null||er(Jt,on,ha,!1)}function pa(o,c,m){var x=Ft;Ft|=2;var A=Rl(),C=Tu();(Jt!==o||on!==c)&&(Ei=null,Au(o,c)),c=!1;var B=wi;e:do try{if(Tn!==0&&un!==null){var Q=un,ge=$r;switch(Tn){case 8:Eu(),B=6;break e;case 3:case 2:case 9:case 6:Ca.current===null&&(c=!0);var Fe=Tn;if(Tn=0,$r=null,Dc(o,Q,ge,Fe),m&&uo){B=0;break e}break;default:Fe=Tn,Tn=0,$r=null,Dc(o,Q,ge,Fe)}}Xf(),B=wi;break}catch(it){Yo(o,it)}while(!0);return c&&o.shellSuspendCounter++,ko=fu=null,Ft=x,X.H=A,X.A=C,un===null&&(Jt=null,on=0,Kd()),B}function Xf(){for(;un!==null;)Tm(un)}function gh(o,c){var m=Ft;Ft|=2;var x=Rl(),A=Tu();Jt!==o||on!==c?(Ei=null,Gi=j()+500,Au(o,c)):uo=st(o,c);e:do try{if(Tn!==0&&un!==null){c=un;var C=$r;t:switch(Tn){case 1:Tn=0,$r=null,Dc(o,c,C,1);break;case 2:case 9:if(Ta(C)){Tn=0,$r=null,vh(c);break}c=function(){Tn!==2&&Tn!==9||Jt!==o||(Tn=7),ht(o)},C.then(c,c);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:Ta(C)?(Tn=0,$r=null,vh(c)):(Tn=0,$r=null,Dc(o,c,C,7));break;case 5:var B=null;switch(un.tag){case 26:B=un.memoizedState;case 5:case 27:var Q=un;if(B?TO(B):Q.stateNode.complete){Tn=0,$r=null;var ge=Q.sibling;if(ge!==null)un=ge;else{var Fe=Q.return;Fe!==null?(un=Fe,Cu(Fe)):un=null}break t}}Tn=0,$r=null,Dc(o,c,C,5);break;case 6:Tn=0,$r=null,Dc(o,c,C,6);break;case 8:Eu(),wi=6;break e;default:throw Error(i(462))}}La();break}catch(it){Yo(o,it)}while(!0);return ko=fu=null,X.H=x,X.A=A,Ft=m,un!==null?0:(Jt=null,on=0,Kd(),wi)}function La(){for(;un!==null&&!Ze();)Tm(un)}function Tm(o){var c=Sm(o.alternate,o,ss);o.memoizedProps=o.pendingProps,c===null?Cu(o):un=c}function vh(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=lh(m,c,c.pendingProps,c.type,void 0,on);break;case 11:c=lh(m,c,c.pendingProps,c.type.render,c.ref,on);break;case 5:L0(c);default:rs(m,c),c=un=wf(c,ss),c=Sm(m,c,ss)}o.memoizedProps=o.pendingProps,c===null?Cu(o):un=c}function Dc(o,c,m,x){ko=fu=null,L0(c),vc=null,yc=0;var A=c.return;try{if(sr(o,A,c,m,on)){wi=1,hm(o,es(m,o.current)),un=null;return}}catch(C){if(A!==null)throw un=A,C;wi=1,hm(o,es(m,o.current)),un=null;return}c.flags&32768?(wn||x===1?o=!0:uo||(on&536870912)!==0?o=!1:(Bs=o=!0,(x===2||x===9||x===3||x===6)&&(x=Ca.current,x!==null&&x.tag===13&&(x.flags|=16384))),yh(c,o)):Cu(c)}function Cu(o){var c=o;do{if((c.flags&32768)!==0){yh(c,Bs);return}o=c.return;var m=fh(c.alternate,c,ss);if(m!==null){un=m;return}if(c=c.sibling,c!==null){un=c;return}un=c=o}while(c!==null);wi===0&&(wi=5)}function yh(o,c){do{var m=Ls(o.alternate,o);if(m!==null){m.flags&=32767,un=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){un=o;return}un=o=m}while(o!==null);wi=6,un=null}function Pl(o,c,m,x,A,C,B,Q,ge){o.cancelPendingCommit=null;do qf();while(Xn!==0);if((Ft&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(C=c.lanes|c.childLanes,C|=yr,Sn(o,m,C,B,Q,ge),o===Jt&&(un=Jt=null,on=0),jf=c,os=o,Vs=m,Gf=C,Hf=A,mh=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,D(be,function(){return Cm(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=X.T,X.T=null,A=te.p,te.p=2,B=Ft,Ft|=4;try{wE(o,c,m)}finally{Ft=B,te.p=A,X.T=x}}Xn=1,tr(),Dl(),Oc()}}function tr(){if(Xn===1){Xn=0;var o=os,c=jf,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=X.T,X.T=null;var x=te.p;te.p=2;var A=Ft;Ft|=4;try{bu(c,o);var C=DE,B=tb(o.containerInfo),Q=C.focusedElem,ge=C.selectionRange;if(B!==Q&&Q&&Q.ownerDocument&&ti(Q.ownerDocument.documentElement,Q)){if(ge!==null&&g0(Q)){var Fe=ge.start,it=ge.end;if(it===void 0&&(it=Fe),"selectionStart"in Q)Q.selectionStart=Fe,Q.selectionEnd=Math.min(it,Q.value.length);else{var lt=Q.ownerDocument||document,je=lt&&lt.defaultView||window;if(je.getSelection){var Ke=je.getSelection(),It=Q.textContent.length,Yt=Math.min(ge.start,It),ai=ge.end===void 0?Yt:Math.min(ge.end,It);!Ke.extend&&Yt>ai&&(B=ai,ai=Yt,Yt=B);var Ce=_f(Q,Yt),xe=_f(Q,ai);if(Ce&&xe&&(Ke.rangeCount!==1||Ke.anchorNode!==Ce.node||Ke.anchorOffset!==Ce.offset||Ke.focusNode!==xe.node||Ke.focusOffset!==xe.offset)){var Ue=lt.createRange();Ue.setStart(Ce.node,Ce.offset),Ke.removeAllRanges(),Yt>ai?(Ke.addRange(Ue),Ke.extend(xe.node,xe.offset)):(Ue.setEnd(xe.node,xe.offset),Ke.addRange(Ue))}}}}for(lt=[],Ke=Q;Ke=Ke.parentNode;)Ke.nodeType===1&&lt.push({element:Ke,left:Ke.scrollLeft,top:Ke.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<lt.length;Q++){var ot=lt[Q];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}u1=!!PE,DE=PE=null}finally{Ft=A,te.p=x,X.T=m}}o.current=c,Xn=2}}function Dl(){if(Xn===2){Xn=0;var o=os,c=jf,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=X.T,X.T=null;var x=te.p;te.p=2;var A=Ft;Ft|=4;try{vi(o,c.alternate,c)}finally{Ft=A,te.p=x,X.T=m}}Xn=3}}function Oc(){if(Xn===4||Xn===3){Xn=0,q();var o=os,c=jf,m=Vs,x=mh;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Xn=5:(Xn=0,jf=os=null,Ko(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(Hi=null),mr(m),c=c.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Xe,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=X.T,A=te.p,te.p=2,X.T=null;try{for(var C=o.onRecoverableError,B=0;B<x.length;B++){var Q=x[B];C(Q.value,{componentStack:Q.stack})}}finally{X.T=c,te.p=A}}(Vs&3)!==0&&qf(),ht(o),A=o.pendingLanes,(m&261930)!==0&&(A&42)!==0?o===Pc?wu++:(wu=0,Pc=o):wu=0,Tt(0)}}function Ko(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,dc(c)))}function qf(){return tr(),Dl(),Oc(),Cm()}function Cm(){if(Xn!==5)return!1;var o=os,c=Gf;Gf=0;var m=mr(Vs),x=X.T,A=te.p;try{te.p=32>m?32:m,X.T=null,m=Hf,Hf=null;var C=os,B=Vs;if(Xn=0,jf=os=null,Vs=0,(Ft&6)!==0)throw Error(i(331));var Q=Ft;if(Ft|=4,Oa(C.current),uv(C,C.current,B,m),Ft=Q,Tt(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Xe,C)}catch{}return!0}finally{te.p=A,X.T=x,Ko(o,c)}}function dv(o,c,m){c=es(m,c),c=nv(o.stateNode,c,2),o=pu(o,c,2),o!==null&&(hn(o,2),ht(o))}function On(o,c,m){if(o.tag===3)dv(o,o,m);else for(;c!==null;){if(c.tag===3){dv(c,o,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Hi===null||!Hi.has(x))){o=es(m,o),m=iv(2),x=pu(c,m,2),x!==null&&(Yb(m,x,c,o),hn(x,2),ht(x));break}}c=c.return}}function xh(o,c,m){var x=o.pingCache;if(x===null){x=o.pingCache=new nn;var A=new Set;x.set(c,A)}else A=x.get(c),A===void 0&&(A=new Set,x.set(c,A));A.has(m)||(cv=!0,A.add(m),o=d.bind(null,o,c,m),c.then(o,o))}function d(o,c,m){var x=o.pingCache;x!==null&&x.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,Jt===o&&(on&m)===m&&(wi===4||wi===3&&(on&62914560)===on&&300>j()-Vf?(Ft&2)===0&&Au(o,0):ph|=m,ui===on&&(ui=0)),ht(o)}function h(o,c){c===0&&(c=xt()),o=la(o,c),o!==null&&(hn(o,c),ht(o))}function b(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),h(o,m)}function E(o,c){var m=0;switch(o.tag){case 31:case 13:var x=o.stateNode,A=o.memoizedState;A!==null&&(m=A.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(c),h(o,m)}function D(o,c){return qe(o,c)}var L=null,K=null,ve=!1,Ye=!1,ct=!1,yt=0;function ht(o){o!==K&&o.next===null&&(K===null?L=K=o:K=K.next=o),Ye=!0,ve||(ve=!0,Pe())}function Tt(o,c){if(!ct&&Ye){ct=!0;do for(var m=!1,x=L;x!==null;){if(o!==0){var A=x.pendingLanes;if(A===0)var C=0;else{var B=x.suspendedLanes,Q=x.pingedLanes;C=(1<<31-ae(42|o)+1)-1,C&=A&~(B&~Q),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(m=!0,Be(x,C))}else C=on,C=ze(x,x===Jt?C:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(C&3)===0||st(x,C)||(m=!0,Be(x,C));x=x.next}while(m);ct=!1}}function en(){Wi()}function Wi(){Ye=ve=!1;var o=0;yt!==0&&aG()&&(o=yt);for(var c=j(),m=null,x=L;x!==null;){var A=x.next,C=Yf(x,c);C===0?(x.next=null,m===null?L=A:m.next=A,A===null&&(K=m)):(m=x,(o!==0||(C&3)!==0)&&(Ye=!0)),x=A}Xn!==0&&Xn!==5||Tt(o),yt!==0&&(yt=0)}function Yf(o,c){for(var m=o.suspendedLanes,x=o.pingedLanes,A=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var B=31-ae(C),Q=1<<B,ge=A[B];ge===-1?((Q&m)===0||(Q&x)!==0)&&(A[B]=bt(Q,c)):ge<=c&&(o.expiredLanes|=Q),C&=~Q}if(c=Jt,m=on,m=ze(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,m===0||o===c&&(Tn===2||Tn===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&Ne(x),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||st(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(x!==null&&Ne(x),mr(m)){case 2:case 8:m=Re;break;case 32:m=be;break;case 268435456:m=Je;break;default:m=be}return x=Ru.bind(null,o),m=qe(m,x),o.callbackPriority=c,o.callbackNode=m,c}return x!==null&&x!==null&&Ne(x),o.callbackPriority=2,o.callbackNode=null,2}function Ru(o,c){if(Xn!==0&&Xn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(qf()&&o.callbackNode!==m)return null;var x=on;return x=ze(o,o===Jt?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(yn(o,x,c),Yf(o,j()),o.callbackNode!=null&&o.callbackNode===m?Ru.bind(null,o):null)}function Be(o,c){if(qf())return null;yn(o,c,!0)}function Pe(){oG(function(){(Ft&6)!==0?qe(De,en):Wi()})}function We(){if(yt===0){var o=bl;o===0&&(o=He,He<<=1,(He&261888)===0&&(He=256)),yt=o}return yt}function vt(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ss(""+o)}function Wt(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function Ti(o,c,m,x,A){if(c==="submit"&&m&&m.stateNode===A){var C=vt((A[Ri]||null).action),B=x.submitter;B&&(c=(c=B[Ri]||null)?vt(c.formAction):B.getAttribute("formAction"),c!==null&&(C=c,B=null));var Q=new pl("action","action",null,x,A);o.push({event:Q,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(yt!==0){var ge=B?Wt(A,B):new FormData(A);Y0(m,{pending:!0,data:ge,method:A.method,action:C},null,ge)}}else typeof C=="function"&&(Q.preventDefault(),ge=B?Wt(A,B):new FormData(A),Y0(m,{pending:!0,data:ge,method:A.method,action:C},C,ge))},currentTarget:A}]})}}for(var Xt=0;Xt<qd.length;Xt++){var Rn=qd[Xt],Mr=Rn.toLowerCase(),Ln=Rn[0].toUpperCase()+Rn.slice(1);Ts(Mr,"on"+Ln)}Ts(Vp,"onAnimationEnd"),Ts(Xd,"onAnimationIteration"),Ts(y0,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(ib,"onTransitionRun"),Ts(gE,"onTransitionStart"),Ts(rb,"onTransitionCancel"),Ts(x0,"onTransitionEnd"),Te("onMouseEnter",["mouseout","mouseover"]),Te("onMouseLeave",["mouseout","mouseover"]),Te("onPointerEnter",["pointerout","pointerover"]),Te("onPointerLeave",["pointerout","pointerover"]),Le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Le("onBeforeInput",["compositionend","keypress","textInput","paste"]),Le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(js));function rO(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],A=x.event;x=x.listeners;e:{var C=void 0;if(c)for(var B=x.length-1;0<=B;B--){var Q=x[B],ge=Q.instance,Fe=Q.currentTarget;if(Q=Q.listener,ge!==C&&A.isPropagationStopped())break e;C=Q,A.currentTarget=Fe;try{C(A)}catch(it){Yd(it)}A.currentTarget=null,C=ge}else for(B=0;B<x.length;B++){if(Q=x[B],ge=Q.instance,Fe=Q.currentTarget,Q=Q.listener,ge!==C&&A.isPropagationStopped())break e;C=Q,A.currentTarget=Fe;try{C(A)}catch(it){Yd(it)}A.currentTarget=null,C=ge}}}}function Cn(o,c){var m=c[aa];m===void 0&&(m=c[aa]=new Set);var x=o+"__bubble";m.has(x)||(aO(c,o,2,!1),m.add(x))}function AE(o,c,m){var x=0;c&&(x|=4),aO(m,o,x,c)}var e1="_reactListening"+Math.random().toString(36).slice(2);function TE(o){if(!o[e1]){o[e1]=!0,we.forEach(function(m){m!=="selectionchange"&&(EE.has(m)||AE(m,!1,o),AE(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[e1]||(c[e1]=!0,AE("selectionchange",!1,c))}}function aO(o,c,m,x){switch(LO(c)){case 2:var A=TG;break;case 8:A=CG;break;default:A=jE}m=A.bind(null,c,m,o),A=void 0,!sa||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),x?A!==void 0?o.addEventListener(c,m,{capture:!0,passive:A}):o.addEventListener(c,m,!0):A!==void 0?o.addEventListener(c,m,{passive:A}):o.addEventListener(c,m,!1)}function CE(o,c,m,x,A){var C=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var B=x.tag;if(B===3||B===4){var Q=x.stateNode.containerInfo;if(Q===A)break;if(B===4)for(B=x.return;B!==null;){var ge=B.tag;if((ge===3||ge===4)&&B.stateNode.containerInfo===A)return;B=B.return}for(;Q!==null;){if(B=wa(Q),B===null)return;if(ge=B.tag,ge===5||ge===6||ge===26||ge===27){x=C=B;continue e}Q=Q.parentNode}}x=x.return}$l(function(){var Fe=C,it=tc(m),lt=[];e:{var je=As.get(o);if(je!==void 0){var Ke=pl,It=o;switch(o){case"keypress":if(Jl(m)===0)break e;case"keydown":case"keyup":Ke=oc;break;case"focusin":It="focus",Ke=vf;break;case"focusout":It="blur",Ke=vf;break;case"beforeblur":case"afterblur":Ke=vf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=Gx;break;case Vp:case Xd:case y0:Ke=Ja;break;case x0:Ke=mE;break;case"scroll":case"scrollend":Ke=tu;break;case"wheel":Ke=Wx;break;case"copy":case"cut":case"paste":Ke=ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=r0;break;case"toggle":case"beforetoggle":Ke=qx}var Yt=(c&4)!==0,ai=!Yt&&(o==="scroll"||o==="scrollend"),Ce=Yt?je!==null?je+"Capture":null:je;Yt=[];for(var xe=Fe,Ue;xe!==null;){var ot=xe;if(Ue=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||Ue===null||Ce===null||(ot=wo(xe,Ce),ot!=null&&Yt.push(hv(xe,ot,Ue))),ai)break;xe=xe.return}0<Yt.length&&(je=new Ke(je,It,null,m,it),lt.push({event:je,listeners:Yt}))}}if((c&7)===0){e:{if(je=o==="mouseover"||o==="pointerover",Ke=o==="mouseout"||o==="pointerout",je&&m!==Mo&&(It=m.relatedTarget||m.fromElement)&&(wa(It)||It[Cr]))break e;if((Ke||je)&&(je=it.window===it?it:(je=it.ownerDocument)?je.defaultView||je.parentWindow:window,Ke?(It=m.relatedTarget||m.toElement,Ke=Fe,It=It?wa(It):null,It!==null&&(ai=a(It),Yt=It.tag,It!==ai||Yt!==5&&Yt!==27&&Yt!==6)&&(It=null)):(Ke=null,It=Fe),Ke!==It)){if(Yt=Bd,ot="onMouseLeave",Ce="onMouseEnter",xe="mouse",(o==="pointerout"||o==="pointerover")&&(Yt=r0,ot="onPointerLeave",Ce="onPointerEnter",xe="pointer"),ai=Ke==null?je:_s(Ke),Ue=It==null?je:_s(It),je=new Yt(ot,xe+"leave",Ke,m,it),je.target=ai,je.relatedTarget=Ue,ot=null,wa(it)===Fe&&(Yt=new Yt(Ce,xe+"enter",It,m,it),Yt.target=Ue,Yt.relatedTarget=ai,ot=Yt),ai=ot,Ke&&It)t:{for(Yt=eG,Ce=Ke,xe=It,Ue=0,ot=Ce;ot;ot=Yt(ot))Ue++;ot=0;for(var Ht=xe;Ht;Ht=Yt(Ht))ot++;for(;0<Ue-ot;)Ce=Yt(Ce),Ue--;for(;0<ot-Ue;)xe=Yt(xe),ot--;for(;Ue--;){if(Ce===xe||xe!==null&&Ce===xe.alternate){Yt=Ce;break t}Ce=Yt(Ce),xe=Yt(xe)}Yt=null}else Yt=null;Ke!==null&&sO(lt,je,Ke,Yt,!1),It!==null&&ai!==null&&sO(lt,ai,It,Yt,!0)}}e:{if(je=Fe?_s(Fe):window,Ke=je.nodeName&&je.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&je.type==="file")var Vn=f0;else if(c0(je))if(Ro)Vn=eb;else{Vn=p0;var zt=Qx}else Ke=je.nodeName,!Ke||Ke.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Fe&&vr(Fe.elementType)&&(Vn=f0):Vn=Jx;if(Vn&&(Vn=Vn(o,Fe))){Fp(lt,Vn,m,it);break e}zt&&zt(o,je,Fe),o==="focusout"&&Fe&&je.type==="number"&&Fe.memoizedProps.value!=null&&Un(je,"number",je.value)}switch(zt=Fe?_s(Fe):window,o){case"focusin":(c0(zt)||zt.contentEditable==="true")&&(Po=zt,Do=Fe,Sf=null);break;case"focusout":Sf=Do=Po=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,Mf(lt,m,it);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":Mf(lt,m,it)}var mn;if(lc)e:{switch(o){case"compositionstart":var Pn="onCompositionStart";break e;case"compositionend":Pn="onCompositionEnd";break e;case"compositionupdate":Pn="onCompositionUpdate";break e}Pn=void 0}else uc?zp(o,m)&&(Pn="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Pn="onCompositionStart");Pn&&(s0&&m.locale!=="ko"&&(uc||Pn!=="onCompositionStart"?Pn==="onCompositionEnd"&&uc&&(mn=Ql()):(Xr=it,rc="value"in Xr?Xr.value:Xr.textContent,uc=!0)),zt=t1(Fe,Pn),0<zt.length&&(Pn=new Np(Pn,o,null,m,it),lt.push({event:Pn,listeners:zt}),mn?Pn.data=mn:(mn=o0(m),mn!==null&&(Pn.data=mn)))),(mn=kp?Zx(o,m):l0(o,m))&&(Pn=t1(Fe,"onBeforeInput"),0<Pn.length&&(zt=new Np("onBeforeInput","beforeinput",null,m,it),lt.push({event:zt,listeners:Pn}),zt.data=mn)),Ti(lt,o,Fe,m,it)}rO(lt,c)})}function hv(o,c,m){return{instance:o,listener:c,currentTarget:m}}function t1(o,c){for(var m=c+"Capture",x=[];o!==null;){var A=o,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=wo(o,m),A!=null&&x.unshift(hv(o,A,C)),A=wo(o,c),A!=null&&x.push(hv(o,A,C))),o.tag===3)return x;o=o.return}return[]}function eG(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function sO(o,c,m,x,A){for(var C=c._reactName,B=[];m!==null&&m!==x;){var Q=m,ge=Q.alternate,Fe=Q.stateNode;if(Q=Q.tag,ge!==null&&ge===x)break;Q!==5&&Q!==26&&Q!==27||Fe===null||(ge=Fe,A?(Fe=wo(m,C),Fe!=null&&B.unshift(hv(m,Fe,ge))):A||(Fe=wo(m,C),Fe!=null&&B.push(hv(m,Fe,ge)))),m=m.return}B.length!==0&&o.push({event:c,listeners:B})}var tG=/\r\n?/g,nG=/\u0000|\uFFFD/g;function oO(o){return(typeof o=="string"?o:""+o).replace(tG,`
`).replace(nG,"")}function lO(o,c){return c=oO(c),oO(o)===c}function ri(o,c,m,x,A,C){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||di(o,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&di(o,""+x);break;case"className":Bt(o,"class",x);break;case"tabIndex":Bt(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Bt(o,m,x);break;case"style":no(o,x,C);break;case"data":if(c!=="object"){Bt(o,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=Ss(""+x),o.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(m==="formAction"?(c!=="input"&&ri(o,c,"name",A.name,A,null),ri(o,c,"formEncType",A.formEncType,A,null),ri(o,c,"formMethod",A.formMethod,A,null),ri(o,c,"formTarget",A.formTarget,A,null)):(ri(o,c,"encType",A.encType,A,null),ri(o,c,"method",A.method,A,null),ri(o,c,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=Ss(""+x),o.setAttribute(m,x);break;case"onClick":x!=null&&(o.onclick=Wr);break;case"onScroll":x!=null&&Cn("scroll",o);break;case"onScrollEnd":x!=null&&Cn("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(A.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}m=Ss(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""+x):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":x===!0?o.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,x):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(m,x):o.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(m):o.setAttribute(m,x);break;case"popover":Cn("beforetoggle",o),Cn("toggle",o),Rt(o,"popover",x);break;case"xlinkActuate":Pt(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Pt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Pt(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Pt(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Pt(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Pt(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Pt(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Pt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Pt(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Rt(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Fd.get(m)||m,Rt(o,m,x))}}function RE(o,c,m,x,A,C){switch(m){case"style":no(o,x,C);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(A.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"children":typeof x=="string"?di(o,x):(typeof x=="number"||typeof x=="bigint")&&di(o,""+x);break;case"onScroll":x!=null&&Cn("scroll",o);break;case"onScrollEnd":x!=null&&Cn("scrollend",o);break;case"onClick":x!=null&&(o.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ve.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),c=m.slice(2,A?m.length-7:void 0),C=o[Ri]||null,C=C!=null?C[m]:null,typeof C=="function"&&o.removeEventListener(c,C,A),typeof x=="function")){typeof C!="function"&&C!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,x,A);break e}m in o?o[m]=x:x===!0?o.setAttribute(m,""):Rt(o,m,x)}}}function ma(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cn("error",o),Cn("load",o);var x=!1,A=!1,C;for(C in m)if(m.hasOwnProperty(C)){var B=m[C];if(B!=null)switch(C){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:ri(o,c,C,B,m,null)}}A&&ri(o,c,"srcSet",m.srcSet,m,null),x&&ri(o,c,"src",m.src,m,null);return;case"input":Cn("invalid",o);var Q=C=B=A=null,ge=null,Fe=null;for(x in m)if(m.hasOwnProperty(x)){var it=m[x];if(it!=null)switch(x){case"name":A=it;break;case"type":B=it;break;case"checked":ge=it;break;case"defaultChecked":Fe=it;break;case"value":C=it;break;case"defaultValue":Q=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,c));break;default:ri(o,c,x,it,m,null)}}Hr(o,C,Q,ge,Fe,B,A,!1);return;case"select":Cn("invalid",o),x=B=C=null;for(A in m)if(m.hasOwnProperty(A)&&(Q=m[A],Q!=null))switch(A){case"value":C=Q;break;case"defaultValue":B=Q;break;case"multiple":x=Q;default:ri(o,c,A,Q,m,null)}c=C,m=B,o.multiple=!!x,c!=null?gr(o,!!x,c,!1):m!=null&&gr(o,!!x,m,!0);return;case"textarea":Cn("invalid",o),C=A=x=null;for(B in m)if(m.hasOwnProperty(B)&&(Q=m[B],Q!=null))switch(B){case"value":x=Q;break;case"defaultValue":A=Q;break;case"children":C=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:ri(o,c,B,Q,m,null)}fi(o,x,A,C);return;case"option":for(ge in m)m.hasOwnProperty(ge)&&(x=m[ge],x!=null)&&(ge==="selected"?o.selected=x&&typeof x!="function"&&typeof x!="symbol":ri(o,c,ge,x,m,null));return;case"dialog":Cn("beforetoggle",o),Cn("toggle",o),Cn("cancel",o),Cn("close",o);break;case"iframe":case"object":Cn("load",o);break;case"video":case"audio":for(x=0;x<js.length;x++)Cn(js[x],o);break;case"image":Cn("error",o),Cn("load",o);break;case"details":Cn("toggle",o);break;case"embed":case"source":case"link":Cn("error",o),Cn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in m)if(m.hasOwnProperty(Fe)&&(x=m[Fe],x!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:ri(o,c,Fe,x,m,null)}return;default:if(vr(c)){for(it in m)m.hasOwnProperty(it)&&(x=m[it],x!==void 0&&RE(o,c,it,x,m,void 0));return}}for(Q in m)m.hasOwnProperty(Q)&&(x=m[Q],x!=null&&ri(o,c,Q,x,m,null))}function iG(o,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,B=null,Q=null,ge=null,Fe=null,it=null;for(Ke in m){var lt=m[Ke];if(m.hasOwnProperty(Ke)&&lt!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":ge=lt;default:x.hasOwnProperty(Ke)||ri(o,c,Ke,null,x,lt)}}for(var je in x){var Ke=x[je];if(lt=m[je],x.hasOwnProperty(je)&&(Ke!=null||lt!=null))switch(je){case"type":C=Ke;break;case"name":A=Ke;break;case"checked":Fe=Ke;break;case"defaultChecked":it=Ke;break;case"value":B=Ke;break;case"defaultValue":Q=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,c));break;default:Ke!==lt&&ri(o,c,je,Ke,x,lt)}}Pi(o,B,Q,ge,Fe,it,C,A);return;case"select":Ke=B=Q=je=null;for(C in m)if(ge=m[C],m.hasOwnProperty(C)&&ge!=null)switch(C){case"value":break;case"multiple":Ke=ge;default:x.hasOwnProperty(C)||ri(o,c,C,null,x,ge)}for(A in x)if(C=x[A],ge=m[A],x.hasOwnProperty(A)&&(C!=null||ge!=null))switch(A){case"value":je=C;break;case"defaultValue":Q=C;break;case"multiple":B=C;default:C!==ge&&ri(o,c,A,C,x,ge)}c=Q,m=B,x=Ke,je!=null?gr(o,!!m,je,!1):!!x!=!!m&&(c!=null?gr(o,!!m,c,!0):gr(o,!!m,m?[]:"",!1));return;case"textarea":Ke=je=null;for(Q in m)if(A=m[Q],m.hasOwnProperty(Q)&&A!=null&&!x.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:ri(o,c,Q,null,x,A)}for(B in x)if(A=x[B],C=m[B],x.hasOwnProperty(B)&&(A!=null||C!=null))switch(B){case"value":je=A;break;case"defaultValue":Ke=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==C&&ri(o,c,B,A,x,C)}Mn(o,je,Ke);return;case"option":for(var It in m)je=m[It],m.hasOwnProperty(It)&&je!=null&&!x.hasOwnProperty(It)&&(It==="selected"?o.selected=!1:ri(o,c,It,null,x,je));for(ge in x)je=x[ge],Ke=m[ge],x.hasOwnProperty(ge)&&je!==Ke&&(je!=null||Ke!=null)&&(ge==="selected"?o.selected=je&&typeof je!="function"&&typeof je!="symbol":ri(o,c,ge,je,x,Ke));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in m)je=m[Yt],m.hasOwnProperty(Yt)&&je!=null&&!x.hasOwnProperty(Yt)&&ri(o,c,Yt,null,x,je);for(Fe in x)if(je=x[Fe],Ke=m[Fe],x.hasOwnProperty(Fe)&&je!==Ke&&(je!=null||Ke!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,c));break;default:ri(o,c,Fe,je,x,Ke)}return;default:if(vr(c)){for(var ai in m)je=m[ai],m.hasOwnProperty(ai)&&je!==void 0&&!x.hasOwnProperty(ai)&&RE(o,c,ai,void 0,x,je);for(it in x)je=x[it],Ke=m[it],!x.hasOwnProperty(it)||je===Ke||je===void 0&&Ke===void 0||RE(o,c,it,je,x,Ke);return}}for(var Ce in m)je=m[Ce],m.hasOwnProperty(Ce)&&je!=null&&!x.hasOwnProperty(Ce)&&ri(o,c,Ce,null,x,je);for(lt in x)je=x[lt],Ke=m[lt],!x.hasOwnProperty(lt)||je===Ke||je==null&&Ke==null||ri(o,c,lt,je,x,Ke)}function uO(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rG(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,m=performance.getEntriesByType("resource"),x=0;x<m.length;x++){var A=m[x],C=A.transferSize,B=A.initiatorType,Q=A.duration;if(C&&Q&&uO(B)){for(B=0,Q=A.responseEnd,x+=1;x<m.length;x++){var ge=m[x],Fe=ge.startTime;if(Fe>Q)break;var it=ge.transferSize,lt=ge.initiatorType;it&&uO(lt)&&(ge=ge.responseEnd,B+=it*(ge<Q?1:(Q-Fe)/(ge-Fe)))}if(--x,c+=8*(C+B)/(A.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var PE=null,DE=null;function n1(o){return o.nodeType===9?o:o.ownerDocument}function cO(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fO(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function OE(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var NE=null;function aG(){var o=window.event;return o&&o.type==="popstate"?o===NE?!1:(NE=o,!0):(NE=null,!1)}var dO=typeof setTimeout=="function"?setTimeout:void 0,sG=typeof clearTimeout=="function"?clearTimeout:void 0,hO=typeof Promise=="function"?Promise:void 0,oG=typeof queueMicrotask=="function"?queueMicrotask:typeof hO<"u"?function(o){return hO.resolve(null).then(o).catch(lG)}:dO;function lG(o){setTimeout(function(){throw o})}function Kf(o){return o==="head"}function pO(o,c){var m=c,x=0;do{var A=m.nextSibling;if(o.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(x===0){o.removeChild(A),Om(c);return}x--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")x++;else if(m==="html")pv(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,pv(m);for(var C=m.firstChild;C;){var B=C.nextSibling,Q=C.nodeName;C[Ka]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||m.removeChild(C),C=B}}else m==="body"&&pv(o.ownerDocument.body);m=A}while(m);Om(c)}function mO(o,c){var m=o;o=0;do{var x=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),x&&x.nodeType===8)if(m=x.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=x}while(m)}function LE(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":LE(m),bs(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function uG(o,c,m,x){for(;o.nodeType===1;){var A=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[Ka])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=Zo(o.nextSibling),o===null)break}return null}function cG(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=Zo(o.nextSibling),o===null))return null;return o}function gO(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Zo(o.nextSibling),o===null))return null;return o}function IE(o){return o.data==="$?"||o.data==="$~"}function UE(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function fG(o,c){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||m.readyState!=="loading")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function Zo(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var kE=null;function vO(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(c===0)return Zo(o.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}o=o.nextSibling}return null}function yO(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return o;c--}else m!=="/$"&&m!=="/&"||c++}o=o.previousSibling}return null}function xO(o,c,m){switch(c=n1(m),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function pv(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);bs(o)}var $o=new Map,bO=new Set;function i1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Nc=te.d;te.d={f:dG,r:hG,D:pG,C:mG,L:gG,m:vG,X:xG,S:yG,M:bG};function dG(){var o=Nc.f(),c=co();return o||c}function hG(o){var c=Za(o);c!==null&&c.tag===5&&c.type==="form"?Fb(c):Nc.r(o)}var Rm=typeof document>"u"?null:document;function _O(o,c,m){var x=Rm;if(x&&typeof c=="string"&&c){var A=kt(c);A='link[rel="'+o+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),bO.has(A)||(bO.add(A),o={rel:o,crossOrigin:m,href:c},x.querySelector(A)===null&&(c=x.createElement("link"),ma(c,"link",o),$(c),x.head.appendChild(c)))}}function pG(o){Nc.D(o),_O("dns-prefetch",o,null)}function mG(o,c){Nc.C(o,c),_O("preconnect",o,c)}function gG(o,c,m){Nc.L(o,c,m);var x=Rm;if(x&&o&&c){var A='link[rel="preload"][as="'+kt(c)+'"]';c==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+kt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+kt(m.imageSizes)+'"]')):A+='[href="'+kt(o)+'"]';var C=A;switch(c){case"style":C=Pm(o);break;case"script":C=Dm(o)}$o.has(C)||(o=g({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),$o.set(C,o),x.querySelector(A)!==null||c==="style"&&x.querySelector(mv(C))||c==="script"&&x.querySelector(gv(C))||(c=x.createElement("link"),ma(c,"link",o),$(c),x.head.appendChild(c)))}}function vG(o,c){Nc.m(o,c);var m=Rm;if(m&&o){var x=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+kt(x)+'"][href="'+kt(o)+'"]',C=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Dm(o)}if(!$o.has(C)&&(o=g({rel:"modulepreload",href:o},c),$o.set(C,o),m.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(gv(C)))return}x=m.createElement("link"),ma(x,"link",o),$(x),m.head.appendChild(x)}}}function yG(o,c,m){Nc.S(o,c,m);var x=Rm;if(x&&o){var A=Dt(x).hoistableStyles,C=Pm(o);c=c||"default";var B=A.get(C);if(!B){var Q={loading:0,preload:null};if(B=x.querySelector(mv(C)))Q.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},m),(m=$o.get(C))&&zE(o,m);var ge=B=x.createElement("link");$(ge),ma(ge,"link",o),ge._p=new Promise(function(Fe,it){ge.onload=Fe,ge.onerror=it}),ge.addEventListener("load",function(){Q.loading|=1}),ge.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,r1(B,c,x)}B={type:"stylesheet",instance:B,count:1,state:Q},A.set(C,B)}}}function xG(o,c){Nc.X(o,c);var m=Rm;if(m&&o){var x=Dt(m).hoistableScripts,A=Dm(o),C=x.get(A);C||(C=m.querySelector(gv(A)),C||(o=g({src:o,async:!0},c),(c=$o.get(A))&&FE(o,c),C=m.createElement("script"),$(C),ma(C,"link",o),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(A,C))}}function bG(o,c){Nc.M(o,c);var m=Rm;if(m&&o){var x=Dt(m).hoistableScripts,A=Dm(o),C=x.get(A);C||(C=m.querySelector(gv(A)),C||(o=g({src:o,async:!0,type:"module"},c),(c=$o.get(A))&&FE(o,c),C=m.createElement("script"),$(C),ma(C,"link",o),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(A,C))}}function SO(o,c,m,x){var A=(A=se.current)?i1(A):null;if(!A)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Pm(m.href),m=Dt(A).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Pm(m.href);var C=Dt(A).hoistableStyles,B=C.get(o);if(B||(A=A.ownerDocument||A,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,B),(C=A.querySelector(mv(o)))&&!C._p&&(B.instance=C,B.state.loading=5),$o.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},$o.set(o,m),C||_G(A,o,m,B.state))),c&&x===null)throw Error(i(528,""));return B}if(c&&x!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Dm(m),m=Dt(A).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Pm(o){return'href="'+kt(o)+'"'}function mv(o){return'link[rel="stylesheet"]['+o+"]"}function MO(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function _G(o,c,m,x){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=o.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),ma(c,"link",m),$(c),o.head.appendChild(c))}function Dm(o){return'[src="'+kt(o)+'"]'}function gv(o){return"script[async]"+o}function wO(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=o.querySelector('style[data-href~="'+kt(m.href)+'"]');if(x)return c.instance=x,$(x),x;var A=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),$(x),ma(x,"style",A),r1(x,m.precedence,o),c.instance=x;case"stylesheet":A=Pm(m.href);var C=o.querySelector(mv(A));if(C)return c.state.loading|=4,c.instance=C,$(C),C;x=MO(m),(A=$o.get(A))&&zE(x,A),C=(o.ownerDocument||o).createElement("link"),$(C);var B=C;return B._p=new Promise(function(Q,ge){B.onload=Q,B.onerror=ge}),ma(C,"link",x),c.state.loading|=4,r1(C,m.precedence,o),c.instance=C;case"script":return C=Dm(m.src),(A=o.querySelector(gv(C)))?(c.instance=A,$(A),A):(x=m,(A=$o.get(C))&&(x=g({},m),FE(x,A)),o=o.ownerDocument||o,A=o.createElement("script"),$(A),ma(A,"link",x),o.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,r1(x,m.precedence,o));return c.instance}function r1(o,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,C=A,B=0;B<x.length;B++){var Q=x[B];if(Q.dataset.precedence===c)C=Q;else if(C!==A)break}C?C.parentNode.insertBefore(o,C.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function zE(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function FE(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var a1=null;function EO(o,c,m){if(a1===null){var x=new Map,A=a1=new Map;A.set(m,x)}else A=a1,x=A.get(m),x||(x=new Map,A.set(m,x));if(x.has(o))return x;for(x.set(o,null),m=m.getElementsByTagName(o),A=0;A<m.length;A++){var C=m[A];if(!(C[Ka]||C[In]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var B=C.getAttribute(c)||"";B=o+B;var Q=x.get(B);Q?Q.push(C):x.set(B,[C])}}return x}function AO(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function SG(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(o=c.disabled,typeof c.precedence=="string"&&o==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function TO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function MG(o,c,m,x){if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=Pm(x.href),C=c.querySelector(mv(A));if(C){c=C._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=s1.bind(o),c.then(o,o)),m.state.loading|=4,m.instance=C,$(C);return}C=c.ownerDocument||c,x=MO(x),(A=$o.get(A))&&zE(x,A),C=C.createElement("link"),$(C);var B=C;B._p=new Promise(function(Q,ge){B.onload=Q,B.onerror=ge}),ma(C,"link",x),m.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=s1.bind(o),c.addEventListener("load",m),c.addEventListener("error",m))}}var BE=0;function wG(o,c){return o.stylesheets&&o.count===0&&l1(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var x=setTimeout(function(){if(o.stylesheets&&l1(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+c);0<o.imgBytes&&BE===0&&(BE=62500*rG());var A=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&l1(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>BE?50:800)+c);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(x),clearTimeout(A)}}:null}function s1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)l1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var o1=null;function l1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,o1=new Map,c.forEach(EG,o),o1=null,s1.call(o))}function EG(o,c){if(!(c.state.loading&4)){var m=o1.get(o);if(m)var x=m.get(null);else{m=new Map,o1.set(o,m);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var B=A[C];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(m.set(B.dataset.precedence,B),x=B)}x&&m.set(null,x)}A=c.instance,B=A.getAttribute("data-precedence"),C=m.get(B)||x,C===x&&m.set(null,A),m.set(B,A),this.count++,x=s1.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),C?C.parentNode.insertBefore(A,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),c.state.loading|=4}}var vv={$$typeof:T,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function AG(o,c,m,x,A,C,B,Q,ge){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.hiddenUpdates=Nt(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function CO(o,c,m,x,A,C,B,Q,ge,Fe,it,lt){return o=new AG(o,c,m,B,ge,Fe,it,lt,Q),c=1,C===!0&&(c|=24),C=_i(3,null,null,c),o.current=C,C.stateNode=o,c=_0(),c.refCount++,o.pooledCache=c,c.refCount++,C.memoizedState={element:x,isDehydrated:m,cache:c},th(C),o}function RO(o){return o?(o=su,o):su}function PO(o,c,m,x,A,C){A=RO(A),x.context===null?x.context=A:x.pendingContext=A,x=Sl(c),x.payload={element:m},C=C===void 0?null:C,C!==null&&(x.callback=C),m=pu(o,x,c),m!==null&&(cn(m,o,c),mu(m,o,c))}function DO(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function VE(o,c){DO(o,c),(o=o.alternate)&&DO(o,c)}function OO(o){if(o.tag===13||o.tag===31){var c=la(o,67108864);c!==null&&cn(c,o,67108864),VE(o,67108864)}}function NO(o){if(o.tag===13||o.tag===31){var c=ls();c=pr(c);var m=la(o,c);m!==null&&cn(m,o,c),VE(o,c)}}var u1=!0;function TG(o,c,m,x){var A=X.T;X.T=null;var C=te.p;try{te.p=2,jE(o,c,m,x)}finally{te.p=C,X.T=A}}function CG(o,c,m,x){var A=X.T;X.T=null;var C=te.p;try{te.p=8,jE(o,c,m,x)}finally{te.p=C,X.T=A}}function jE(o,c,m,x){if(u1){var A=GE(x);if(A===null)CE(o,c,x,c1,m),IO(o,x);else if(PG(A,o,c,m,x))x.stopPropagation();else if(IO(o,x),c&4&&-1<RG.indexOf(o)){for(;A!==null;){var C=Za(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var B=et(C.pendingLanes);if(B!==0){var Q=C;for(Q.pendingLanes|=2,Q.entangledLanes|=2;B;){var ge=1<<31-ae(B);Q.entanglements[1]|=ge,B&=~ge}ht(C),(Ft&6)===0&&(Gi=j()+500,Tt(0))}}break;case 31:case 13:Q=la(C,2),Q!==null&&cn(Q,C,2),co(),VE(C,2)}if(C=GE(x),C===null&&CE(o,c,x,c1,m),C===A)break;A=C}A!==null&&x.stopPropagation()}else CE(o,c,x,null,m)}}function GE(o){return o=tc(o),HE(o)}var c1=null;function HE(o){if(c1=null,o=wa(o),o!==null){var c=a(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=s(c),o!==null)return o;o=null}else if(m===31){if(o=l(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return c1=o,null}function LO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case De:return 2;case Re:return 8;case be:case nt:return 32;case Je:return 268435456;default:return 32}default:return 32}}var WE=!1,Zf=null,$f=null,Qf=null,yv=new Map,xv=new Map,Jf=[],RG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IO(o,c){switch(o){case"focusin":case"focusout":Zf=null;break;case"dragenter":case"dragleave":$f=null;break;case"mouseover":case"mouseout":Qf=null;break;case"pointerover":case"pointerout":yv.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":xv.delete(c.pointerId)}}function bv(o,c,m,x,A,C){return o===null||o.nativeEvent!==C?(o={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:C,targetContainers:[A]},c!==null&&(c=Za(c),c!==null&&OO(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),o)}function PG(o,c,m,x,A){switch(c){case"focusin":return Zf=bv(Zf,o,c,m,x,A),!0;case"dragenter":return $f=bv($f,o,c,m,x,A),!0;case"mouseover":return Qf=bv(Qf,o,c,m,x,A),!0;case"pointerover":var C=A.pointerId;return yv.set(C,bv(yv.get(C)||null,o,c,m,x,A)),!0;case"gotpointercapture":return C=A.pointerId,xv.set(C,bv(xv.get(C)||null,o,c,m,x,A)),!0}return!1}function UO(o){var c=wa(o.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=s(m),c!==null){o.blockedOn=c,ei(o.priority,function(){NO(m)});return}}else if(c===31){if(c=l(m),c!==null){o.blockedOn=c,ei(o.priority,function(){NO(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function f1(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=GE(o.nativeEvent);if(m===null){m=o.nativeEvent;var x=new m.constructor(m.type,m);Mo=x,m.target.dispatchEvent(x),Mo=null}else return c=Za(m),c!==null&&OO(c),o.blockedOn=m,!1;c.shift()}return!0}function kO(o,c,m){f1(o)&&m.delete(c)}function DG(){WE=!1,Zf!==null&&f1(Zf)&&(Zf=null),$f!==null&&f1($f)&&($f=null),Qf!==null&&f1(Qf)&&(Qf=null),yv.forEach(kO),xv.forEach(kO)}function d1(o,c){o.blockedOn===c&&(o.blockedOn=null,WE||(WE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DG)))}var h1=null;function zO(o){h1!==o&&(h1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){h1===o&&(h1=null);for(var c=0;c<o.length;c+=3){var m=o[c],x=o[c+1],A=o[c+2];if(typeof x!="function"){if(HE(x||m)===null)continue;break}var C=Za(m);C!==null&&(o.splice(c,3),c-=3,Y0(C,{pending:!0,data:A,method:m.method,action:x},x,A))}}))}function Om(o){function c(ge){return d1(ge,o)}Zf!==null&&d1(Zf,o),$f!==null&&d1($f,o),Qf!==null&&d1(Qf,o),yv.forEach(c),xv.forEach(c);for(var m=0;m<Jf.length;m++){var x=Jf[m];x.blockedOn===o&&(x.blockedOn=null)}for(;0<Jf.length&&(m=Jf[0],m.blockedOn===null);)UO(m),m.blockedOn===null&&Jf.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var A=m[x],C=m[x+1],B=A[Ri]||null;if(typeof C=="function")B||zO(m);else if(B){var Q=null;if(C&&C.hasAttribute("formAction")){if(A=C,B=C[Ri]||null)Q=B.formAction;else if(HE(A)!==null)continue}else Q=B.action;typeof Q=="function"?m[x+1]=Q:(m.splice(x,3),x-=3),zO(m)}}}function FO(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(B){return A=B})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),x||setTimeout(m,20)}function m(){if(!x&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,A=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){x=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function XE(o){this._internalRoot=o}p1.prototype.render=XE.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,x=ls();PO(m,x,o,c,null,null)},p1.prototype.unmount=XE.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;PO(o.current,2,null,o,null,null),co(),c[Cr]=null}};function p1(o){this._internalRoot=o}p1.prototype.unstable_scheduleHydration=function(o){if(o){var c=ra();o={blockedOn:null,target:o,priority:c};for(var m=0;m<Jf.length&&c!==0&&c<Jf[m].priority;m++);Jf.splice(m,0,o),m===0&&UO(o)}};var BO=e.version;if(BO!=="19.2.4")throw Error(i(527,BO,"19.2.4"));te.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=f(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var OG={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var m1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!m1.isDisabled&&m1.supportsFiber)try{Xe=m1.inject(OG),$e=m1}catch{}}return Sv.createRoot=function(o,c){if(!r(o))throw Error(i(299));var m=!1,x="",A=Xb,C=ev,B=tv;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError)),c=CO(o,1,!1,null,null,m,x,null,A,C,B,FO),o[Cr]=c.current,TE(o),new XE(c)},Sv.hydrateRoot=function(o,c,m){if(!r(o))throw Error(i(299));var x=!1,A="",C=Xb,B=ev,Q=tv,ge=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(C=m.onUncaughtError),m.onCaughtError!==void 0&&(B=m.onCaughtError),m.onRecoverableError!==void 0&&(Q=m.onRecoverableError),m.formState!==void 0&&(ge=m.formState)),c=CO(o,1,!0,c,m??null,x,A,ge,C,B,Q,FO),c.context=RO(null),m=c.current,x=ls(),x=pr(x),A=Sl(x),A.callback=null,pu(m,A,x),m=x,c.current.lanes=m,hn(c,m),ht(c),o[Cr]=c.current,TE(o),new p1(c)},Sv.version="19.2.4",Sv}var ZO;function jG(){if(ZO)return KE.exports;ZO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),KE.exports=VG(),KE.exports}var GG=jG();const ku={Science:"#3b82f6",Technology:"#8b5cf6",Economics:"#eab308",Society:"#ec4899",Politics:"#ef4444",Art:"#06b6d4",Biology:"#10b981",Psychology:"#f97316",Philosophy:"#6366f1",Security:"#64748b",Logistics:"#84cc16",Ecology:"#22c55e",Information:"#0ea5e9",Health:"#f43f5e",Exploration:"#d946ef",Education:"#f59e0b",Justice:"#a855f7",Communication:"#14b8a6",Infrastructure:"#6b7280"},Wl={Science:" ",Technology:" ",Economics:" ",Society:" ",Politics:" ",Art:"",Biology:" ",Psychology:" ",Philosophy:" ",Security:" ",Logistics:" ",Ecology:" ",Information:" ",Health:"",Exploration:" ",Education:" ",Justice:" ",Communication:" ",Infrastructure:" "},Nye={secondary:"#60a5fa"},my=t=>ku[t]||"#ffffff",JE={high:[" :    '{cluster}'   {percent}%   15 ."," :      '{cluster}'."," :   '{cluster}'    ."," :      '{cluster}'."," :  '{cluster}'    ."],medium:[" :    '{cluster}'    ."," :       '{cluster}'."," :  '{cluster}'     ."," :       '{cluster}'."," :      '{cluster}'."],low:[" :      '{cluster}'."," :      '{cluster}'."," :   '{cluster}' ,   ."," :  '{cluster}'    ."," :  '{cluster}'     ."]},Zv=t=>t[Math.floor(Math.random()*t.length)],HG=t=>{if(t.length<100)return null;const e=t.slice(0,50),n=t.slice(50,150),i=v=>{const y={};return v.forEach(_=>{y[_.cluster]=(y[_.cluster]||0)+1}),y},r=i(e),a=i(n);let s=0,l="";Object.keys(r).forEach(v=>{const y=r[v],_=a[v]||1,w=y/(_/2)-1;w>s&&(s=w,l=v)});const u=Wl[l]||l,f=Math.round(s*100);let p="",g="info";return s>1.5?(p=Zv(JE.high),g="alert"):s>.4?(p=Zv(JE.medium),g="success"):(p=Zv(JE.low),g="info"),{type:"pulse",text:p.replace("{cluster}",u).replace("{percent}",f.toString()),level:g}},WG=[" :  '{zone}'     {role}."," :  {zone}     ."," :   {cluster}    {zone}."," : {zone}   {role},  ."," : {zone}     ."," :      {zone}."," :      {zone}."," :  {zone}    ."," : {zone}        ."," :  {zone}      {role}."],XG=[" :      '{cluster}'  {group}."," :   {group}    '{cluster}'."," :   {group}  '{cluster}'   (DFT)."," :  {group}     '{cluster}'."," :       '{cluster}'.","  :    '{cluster}'   {group}."," :    {group}    '{cluster}'."," :     '{cluster}'  {group}."," :   '{cluster}'    ."," :   '{cluster}'  {group}  ."],qG=(t,e)=>{if(t.length<20)return null;const n=t.slice(0,50),i={},r={};n.forEach(g=>{i[g.zone]||(i[g.zone]={});const y=e.find(_=>_.name===g.userId)?.role||"";i[g.zone][y]=(i[g.zone][y]||0)+1,r[g.cluster]=(r[g.cluster]||0)+1});let a="",s=0;Object.keys(i).forEach(g=>{const v=i[g].||0;v>s&&(s=v,a=g)});const l=Object.entries(r).sort((g,v)=>v[1]-g[1])[0]?.[0]||"Science",u=Wl[l]||l,f=Zv(WG);if(a&&s>3)return{type:"hub",text:f.replace("{zone}",a).replace("{role}","").replace("{cluster}",u),level:"info"};const p=Object.keys(i)[0];return p?{type:"hub",text:f.replace("{zone}",p).replace("{role}","").replace("{cluster}",u),level:"info"}:null},YG=(t,e)=>{const n=[{label:"",min:7,max:12},{label:"",min:13,max:17},{label:"",min:18,max:35}],i=e.reduce((r,a)=>(r[a.name]=a.age,r),{});for(const r of n){const a=t.slice(0,100).filter(s=>{const l=i[s.userId]||0;return l>=r.min&&l<=r.max});if(a.length>5){const s=["Science","Technology","Economics","Society","Politics","Art"];for(const l of s)if(a.filter(f=>f.cluster===l).length===0){const f=Wl[l]||l;return{type:"deficit",text:Zv(XG).replace("{cluster}",f).replace("{group}",r.label),level:"warning"}}}}return null},eA=["Science","Technology","Economics","Society","Politics","Art","Health"],$O=["-2026","-"," ",""," ","-"," "," ","-"],g1={Science:[" "," "," ",""],Technology:[" ","-",""," "],Economics:[" "," "," "," "],Society:[" ",""," "," ","","",""],Politics:[""," "," "," "],Art:["NFT-"," "," "," "],Health:[" ","","",""]},QO={Science:["","","","",""],Technology:["-","-"," ","",""],Economics:["","-","-"," ",""],Society:["-","","","",""],Politics:["","","","",""],Art:["","","","",""],Health:["","-","","",""]},tA=[{name:" ",primaryCluster:"Art",secondaryCluster:"Society",age:28,role:""},{name:" ",primaryCluster:"Technology",secondaryCluster:"Science",age:32,role:""},{name:" ",primaryCluster:"Politics",secondaryCluster:"Society",age:45,role:""},{name:" ",primaryCluster:"Science",secondaryCluster:"Technology",age:28,role:""},{name:" ",primaryCluster:"Society",secondaryCluster:"Art",age:26,role:""},{name:" ",primaryCluster:"Economics",secondaryCluster:"Politics",age:38,role:""},{name:" .",primaryCluster:"Science",secondaryCluster:"Education",age:10,role:""},{name:" .",primaryCluster:"Art",secondaryCluster:"Ecology",age:11,role:""},{name:" .",primaryCluster:"Technology",secondaryCluster:"Health",age:15,role:""},{name:" .",primaryCluster:"Society",secondaryCluster:"Art",age:16,role:""},{name:" .",primaryCluster:"Politics",secondaryCluster:"Economics",age:17,role:""}],Y2=F.createContext(void 0),KG=({children:t})=>{const[e,n]=F.useState([]),[i,r]=F.useState(!0),[a,s]=F.useState("user_0"),[l,u]=F.useState(null),[f,p]=F.useState(1),[g,v]=F.useState([]),[y,_]=F.useState(null),[w,S]=F.useState([]),M=F.useMemo(()=>w.find(W=>W.id===a)||w[0],[w,a]),R=So.useRef(null);F.useEffect(()=>{R.current=new Worker(new URL("/testproject/assets/simulation.worker-uLUiT7CC.js",import.meta.url),{type:"module"}),R.current.onmessage=J=>{const{type:ie,payload:X}=J.data;ie==="UPDATE"&&(n(X.logs),S(X.users),v(X.metrics),X.graphStats&&_(X.graphStats))};const W=eA.map(J=>({name:J,activeUnits:Math.floor(Math.random()*500)+200,coveragePercent:Math.floor(Math.random()*40)+40,roi:+(Math.random()*2+1).toFixed(2),anomalies:Math.floor(Math.random()*3)})),H=Array.from({length:50}).map((J,ie)=>{const X=tA[ie%tA.length],te=eA[ie%eA.length];return{id:`seed_${ie} `,timestamp:Date.now()-ie*36e5,userId:X.name,cluster:te,zone:$O[ie%$O.length],evidenceLevel:"Medium",method:"NFC",action:" ",evidenceType:"sensor",cognitiveLoad:Math.random()*5,topic:g1[te][0],eventType:QO[te][0],latency:50}});v(W),n(H);const Y=tA.map((J,ie)=>({id:`user_${ie} `,name:J.name,stats:{Science:J.primaryCluster==="Science"?60:20,Technology:J.primaryCluster==="Technology"?60:20,Economics:J.primaryCluster==="Economics"?60:20,Society:J.primaryCluster==="Society"?60:20,Politics:J.primaryCluster==="Politics"?60:20,Art:J.primaryCluster==="Art"?60:20,Health:J.primaryCluster==="Health"?60:20},eventsAttended:Math.floor(Math.random()*50)+20,skillsUnlocked:[],externalConnections:ie===0?["Stepik","MSU"]:[],age:J.age,role:J.age<18?"":J.role}));return S(Y),R.current.postMessage({type:"INIT",payload:{users:Y,metrics:W,logs:H}}),i&&R.current.postMessage({type:"START"}),()=>{R.current?.terminate()}},[]),F.useEffect(()=>{R.current&&(i?R.current.postMessage({type:"START"}):R.current.postMessage({type:"STOP"}))},[i]),F.useEffect(()=>{R.current&&R.current.postMessage({type:"SET_SPEED",payload:f})},[f]);const T=F.useCallback(()=>r(W=>!W),[]),P=F.useCallback(W=>{},[]),O=F.useCallback(W=>s(W),[]),N=F.useCallback(W=>g1[W]||[],[]),k=F.useCallback(W=>{const H=Object.keys(g1).find(J=>g1[J].includes(W))||"Science",Y=QO[H];return Array.from({length:3}).map((J,ie)=>({id:`Event_${W}_${ie} `,label:Y[ie%Y.length],type:Y[ie%Y.length],date:"2026-05-12",duration:"2h"}))},[]),z=F.useCallback(()=>{R.current?.postMessage({type:"STEP"})},[]),I=F.useMemo(()=>{const W=HG(e),H=qG(e,w),Y=YG(e,w);return[W,H,Y].filter(J=>J!==null)},[e,w]),U=F.useMemo(()=>({logs:e,currentUser:M,activeUserId:a,clusterMetrics:g,graphStats:y,isPlaying:i,activeZone:l,simulationSpeed:f,selectableUsers:w,toggleSimulation:T,addExternalConnection:P,getTopicsForCluster:N,getEventsForTopic:k,setActiveZone:u,setSimulationSpeed:p,stepSimulation:z,switchUser:O,qualitativeInsights:I}),[e,M,a,g,y,i,l,f,w,T,P,N,k,u,p,z,O,I]);return G.jsx(Y2.Provider,{value:U,children:t})},Sp=()=>{const t=F.useContext(Y2);if(!t)throw new Error("useSimulation must be used within SimulationProvider");return t},ZG=({children:t})=>G.jsx("div",{className:"flex flex-col h-screen w-full text-white bg-transparent overflow-hidden relative",children:G.jsx("main",{className:"flex-1 w-full relative",children:t})}),gy=F.createContext({});function nR(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const K2=typeof window<"u",iR=K2?F.useLayoutEffect:F.useEffect,BM=F.createContext(null);function rR(t,e){t.indexOf(e)===-1&&t.push(e)}function aR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qu=(t,e,n)=>n>e?e:n<t?t:n;let sR=()=>{};const $c={},Z2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $2(t){return typeof t=="object"&&t!==null}const Q2=t=>/^0[^.\s]+$/u.test(t);function oR(t){let e;return()=>(e===void 0&&(e=t()),e)}const sl=t=>t,$G=(t,e)=>n=>e(t(n)),rx=(...t)=>t.reduce($G),vy=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class lR{constructor(){this.subscriptions=[]}add(e){return rR(this.subscriptions,e),()=>aR(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qc=t=>t*1e3,il=t=>t/1e3;function J2(t,e){return e?t*(1e3/e):0}const ez=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QG=1e-7,JG=12;function eH(t,e,n,i,r){let a,s,l=0;do s=e+(n-e)/2,a=ez(s,i,r)-t,a>0?n=s:e=s;while(Math.abs(a)>QG&&++l<JG);return s}function ax(t,e,n,i){if(t===e&&n===i)return sl;const r=a=>eH(a,0,1,t,n);return a=>a===0||a===1?a:ez(r(a),e,i)}const tz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nz=t=>e=>1-t(1-e),iz=ax(.33,1.53,.69,.99),uR=nz(iz),rz=tz(uR),az=t=>(t*=2)<1?.5*uR(t):.5*(2-Math.pow(2,-10*(t-1))),cR=t=>1-Math.sin(Math.acos(t)),sz=nz(cR),oz=tz(cR),tH=ax(.42,0,1,1),nH=ax(0,0,.58,1),lz=ax(.42,0,.58,1),iH=t=>Array.isArray(t)&&typeof t[0]!="number",uz=t=>Array.isArray(t)&&typeof t[0]=="number",rH={linear:sl,easeIn:tH,easeInOut:lz,easeOut:nH,circIn:cR,circInOut:oz,circOut:sz,backIn:uR,backInOut:rz,backOut:iz,anticipate:az},aH=t=>typeof t=="string",JO=t=>{if(uz(t)){sR(t.length===4);const[e,n,i,r]=t;return ax(e,n,i,r)}else if(aH(t))return rH[t];return t},v1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sH(t,e){let n=new Set,i=new Set,r=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(p){s.has(p)&&(f.schedule(p),t()),p(l)}const f={schedule:(p,g=!1,v=!1)=>{const _=v&&r?n:i;return g&&s.add(p),_.has(p)||_.add(p),p},cancel:p=>{i.delete(p),s.delete(p)},process:p=>{if(l=p,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),n.clear(),r=!1,a&&(a=!1,f.process(p))}};return f}const oH=40;function cz(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=v1.reduce((T,P)=>(T[P]=sH(a),T),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:p,update:g,preRender:v,render:y,postRender:_}=s,w=()=>{const T=$c.useManualTiming?r.timestamp:performance.now();n=!1,$c.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(T-r.timestamp,oH),1)),r.timestamp=T,r.isProcessing=!0,l.process(r),u.process(r),f.process(r),p.process(r),g.process(r),v.process(r),y.process(r),_.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(w))},S=()=>{n=!0,i=!0,r.isProcessing||t(w)};return{schedule:v1.reduce((T,P)=>{const O=s[P];return T[P]=(N,k=!1,z=!1)=>(n||S(),O.schedule(N,k,z)),T},{}),cancel:T=>{for(let P=0;P<v1.length;P++)s[v1[P]].cancel(T)},state:r,steps:s}}const{schedule:yi,cancel:_d,state:_a,steps:nA}=cz(typeof requestAnimationFrame<"u"?requestAnimationFrame:sl,!0);let L_;function lH(){L_=void 0}const ps={now:()=>(L_===void 0&&ps.set(_a.isProcessing||$c.useManualTiming?_a.timestamp:performance.now()),L_),set:t=>{L_=t,queueMicrotask(lH)}},fz=t=>e=>typeof e=="string"&&e.startsWith(t),dz=fz("--"),uH=fz("var(--"),fR=t=>uH(t)?cH.test(t.split("/*")[0].trim()):!1,cH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function eN(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Fg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yy={...Fg,transform:t=>qu(0,1,t)},y1={...Fg,default:1},$v=t=>Math.round(t*1e5)/1e5,dR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fH(t){return t==null}const dH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hR=(t,e)=>n=>!!(typeof n=="string"&&dH.test(n)&&n.startsWith(t)||e&&!fH(n)&&Object.prototype.hasOwnProperty.call(n,e)),hz=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,a,s,l]=i.match(dR);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},hH=t=>qu(0,255,t),iA={...Fg,transform:t=>Math.round(hH(t))},Gh={test:hR("rgb","red"),parse:hz("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+iA.transform(t)+", "+iA.transform(e)+", "+iA.transform(n)+", "+$v(yy.transform(i))+")"};function pH(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const EC={test:hR("#"),parse:pH,transform:Gh.transform},sx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ld=sx("deg"),Hu=sx("%"),Ut=sx("px"),mH=sx("vh"),gH=sx("vw"),tN={...Hu,parse:t=>Hu.parse(t)/100,transform:t=>Hu.transform(t*100)},lg={test:hR("hsl","hue"),parse:hz("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Hu.transform($v(e))+", "+Hu.transform($v(n))+", "+$v(yy.transform(i))+")"},Er={test:t=>Gh.test(t)||EC.test(t)||lg.test(t),parse:t=>Gh.test(t)?Gh.parse(t):lg.test(t)?lg.parse(t):EC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gh.transform(t):lg.transform(t),getAnimatableNone:t=>{const e=Er.parse(t);return e.alpha=0,Er.transform(e)}},vH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yH(t){return isNaN(t)&&typeof t=="string"&&(t.match(dR)?.length||0)+(t.match(vH)?.length||0)>0}const pz="number",mz="color",xH="var",bH="var(",nN="${}",_H=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xy(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=e.replace(_H,u=>(Er.test(u)?(i.color.push(a),r.push(mz),n.push(Er.parse(u))):u.startsWith(bH)?(i.var.push(a),r.push(xH),n.push(u)):(i.number.push(a),r.push(pz),n.push(parseFloat(u))),++a,nN)).split(nN);return{values:n,split:l,indexes:i,types:r}}function gz(t){return xy(t).values}function vz(t){const{split:e,types:n}=xy(t),i=e.length;return r=>{let a="";for(let s=0;s<i;s++)if(a+=e[s],r[s]!==void 0){const l=n[s];l===pz?a+=$v(r[s]):l===mz?a+=Er.transform(r[s]):a+=r[s]}return a}}const SH=t=>typeof t=="number"?0:Er.test(t)?Er.getAnimatableNone(t):t;function MH(t){const e=gz(t);return vz(t)(e.map(SH))}const Sd={test:yH,parse:gz,createTransformer:vz,getAnimatableNone:MH};function rA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wH({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,a=0,s=0;if(!e)r=a=s=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=rA(u,l,t+1/3),a=rA(u,l,t),s=rA(u,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}function Z_(t,e){return n=>n>0?e:t}const qi=(t,e,n)=>t+(e-t)*n,aA=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},EH=[EC,Gh,lg],AH=t=>EH.find(e=>e.test(t));function iN(t){const e=AH(t);if(!e)return!1;let n=e.parse(t);return e===lg&&(n=wH(n)),n}const rN=(t,e)=>{const n=iN(t),i=iN(e);if(!n||!i)return Z_(t,e);const r={...n};return a=>(r.red=aA(n.red,i.red,a),r.green=aA(n.green,i.green,a),r.blue=aA(n.blue,i.blue,a),r.alpha=qi(n.alpha,i.alpha,a),Gh.transform(r))},AC=new Set(["none","hidden"]);function TH(t,e){return AC.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CH(t,e){return n=>qi(t,e,n)}function pR(t){return typeof t=="number"?CH:typeof t=="string"?fR(t)?Z_:Er.test(t)?rN:DH:Array.isArray(t)?yz:typeof t=="object"?Er.test(t)?rN:RH:Z_}function yz(t,e){const n=[...t],i=n.length,r=t.map((a,s)=>pR(a)(a,e[s]));return a=>{for(let s=0;s<i;s++)n[s]=r[s](a);return n}}function RH(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=pR(t[r])(t[r],e[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}}function PH(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=t.indexes[a][i[a]],l=t.values[s]??0;n[r]=l,i[a]++}return n}const DH=(t,e)=>{const n=Sd.createTransformer(e),i=xy(t),r=xy(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?AC.has(t)&&!r.values.length||AC.has(e)&&!i.values.length?TH(t,e):rx(yz(PH(i,r),r.values),n):Z_(t,e)};function xz(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qi(t,e,n):pR(t)(t,e)}const OH=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>yi.update(e,n),stop:()=>_d(e),now:()=>_a.isProcessing?_a.timestamp:ps.now()}},bz=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let a=0;a<r;a++)i+=Math.round(t(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},$_=2e4;function mR(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<$_;)e+=n,i=t.next(e);return e>=$_?1/0:e}function NH(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(mR(i),$_);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:il(r)}}const LH=5;function _z(t,e,n){const i=Math.max(e-LH,0);return J2(n-t(i),e-i)}const ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sA=.001;function IH({duration:t=ir.duration,bounce:e=ir.bounce,velocity:n=ir.velocity,mass:i=ir.mass}){let r,a,s=1-e;s=qu(ir.minDamping,ir.maxDamping,s),t=qu(ir.minDuration,ir.maxDuration,il(t)),s<1?(r=f=>{const p=f*s,g=p*t,v=p-n,y=TC(f,s),_=Math.exp(-g);return sA-v/y*_},a=f=>{const g=f*s*t,v=g*n+n,y=Math.pow(s,2)*Math.pow(f,2)*t,_=Math.exp(-g),w=TC(Math.pow(f,2),s);return(-r(f)+sA>0?-1:1)*((v-y)*_)/w}):(r=f=>{const p=Math.exp(-f*t),g=(f-n)*t+1;return-sA+p*g},a=f=>{const p=Math.exp(-f*t),g=(n-f)*(t*t);return p*g});const l=5/t,u=kH(r,a,l);if(t=qc(t),isNaN(u))return{stiffness:ir.stiffness,damping:ir.damping,duration:t};{const f=Math.pow(u,2)*i;return{stiffness:f,damping:s*2*Math.sqrt(i*f),duration:t}}}const UH=12;function kH(t,e,n){let i=n;for(let r=1;r<UH;r++)i=i-t(i)/e(i);return i}function TC(t,e){return t*Math.sqrt(1-e*e)}const zH=["duration","bounce"],FH=["stiffness","damping","mass"];function aN(t,e){return e.some(n=>t[n]!==void 0)}function BH(t){let e={velocity:ir.velocity,stiffness:ir.stiffness,damping:ir.damping,mass:ir.mass,isResolvedFromDuration:!1,...t};if(!aN(t,FH)&&aN(t,zH))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,a=2*qu(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:ir.mass,stiffness:r,damping:a}}else{const n=IH(t);e={...e,...n,mass:ir.mass},e.isResolvedFromDuration=!0}return e}function Q_(t=ir.visualDuration,e=ir.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:f,mass:p,duration:g,velocity:v,isResolvedFromDuration:y}=BH({...n,velocity:-il(n.velocity||0)}),_=v||0,w=f/(2*Math.sqrt(u*p)),S=s-a,M=il(Math.sqrt(u/p)),R=Math.abs(S)<5;i||(i=R?ir.restSpeed.granular:ir.restSpeed.default),r||(r=R?ir.restDelta.granular:ir.restDelta.default);let T;if(w<1){const O=TC(M,w);T=N=>{const k=Math.exp(-w*M*N);return s-k*((_+w*M*S)/O*Math.sin(O*N)+S*Math.cos(O*N))}}else if(w===1)T=O=>s-Math.exp(-M*O)*(S+(_+M*S)*O);else{const O=M*Math.sqrt(w*w-1);T=N=>{const k=Math.exp(-w*M*N),z=Math.min(O*N,300);return s-k*((_+w*M*S)*Math.sinh(z)+O*S*Math.cosh(z))/O}}const P={calculatedDuration:y&&g||null,next:O=>{const N=T(O);if(y)l.done=O>=g;else{let k=O===0?_:0;w<1&&(k=O===0?qc(_):_z(T,O,N));const z=Math.abs(k)<=i,I=Math.abs(s-N)<=r;l.done=z&&I}return l.value=l.done?s:N,l},toString:()=>{const O=Math.min(mR(P),$_),N=bz(k=>P.next(O*k).value,O,30);return O+"ms "+N},toTransition:()=>{}};return P}Q_.applyToOptions=t=>{const e=NH(t,100,Q_);return t.ease=e.ease,t.duration=qc(e.duration),t.type="keyframes",t};function CC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:u,restDelta:f=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},y=z=>l!==void 0&&z<l||u!==void 0&&z>u,_=z=>l===void 0?u:u===void 0||Math.abs(l-z)<Math.abs(u-z)?l:u;let w=n*e;const S=g+w,M=s===void 0?S:s(S);M!==S&&(w=M-g);const R=z=>-w*Math.exp(-z/i),T=z=>M+R(z),P=z=>{const I=R(z),U=T(z);v.done=Math.abs(I)<=f,v.value=v.done?M:U};let O,N;const k=z=>{y(v.value)&&(O=z,N=Q_({keyframes:[v.value,_(v.value)],velocity:_z(T,z,v.value),damping:r,stiffness:a,restDelta:f,restSpeed:p}))};return k(0),{calculatedDuration:null,next:z=>{let I=!1;return!N&&O===void 0&&(I=!0,P(z),k(z)),O!==void 0&&z>=O?N.next(z-O):(!I&&P(z),v)}}}function VH(t,e,n){const i=[],r=n||$c.mix||xz,a=t.length-1;for(let s=0;s<a;s++){let l=r(t[s],t[s+1]);if(e){const u=Array.isArray(e)?e[s]||sl:e;l=rx(u,l)}i.push(l)}return i}function jH(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const a=t.length;if(sR(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=VH(e,i,r),u=l.length,f=p=>{if(s&&p<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=vy(t[g],t[g+1],p);return l[g](v)};return n?p=>f(qu(t[0],t[a-1],p)):f}function GH(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=vy(0,e,i);t.push(qi(n,1,r))}}function HH(t){const e=[0];return GH(e,t.length-1),e}function WH(t,e){return t.map(n=>n*e)}function XH(t,e){return t.map(()=>e||lz).splice(0,t.length-1)}function Qv({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=iH(i)?i.map(JO):JO(i),a={done:!1,value:e[0]},s=WH(n&&n.length===e.length?n:HH(e),t),l=jH(s,e,{ease:Array.isArray(r)?r:XH(e,r)});return{calculatedDuration:t,next:u=>(a.value=l(u),a.done=u>=t,a)}}const qH=t=>t!==null;function gR(t,{repeat:e,repeatType:n="loop"},i,r=1){const a=t.filter(qH),l=r<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const YH={decay:CC,inertia:CC,tween:Qv,keyframes:Qv,spring:Q_};function Sz(t){typeof t.type=="string"&&(t.type=YH[t.type])}class vR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const KH=t=>t/100;class yR extends vR{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ps.now()&&this.tick(ps.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Sz(e);const{type:n=Qv,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=e;let{keyframes:l}=e;const u=n||Qv;u!==Qv&&typeof l[0]!="number"&&(this.mixKeyframes=rx(KH,xz(l[0],l[1])),l=[0,100]);const f=u({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=mR(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:y,type:_,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-f*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?M<0:M>r;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let T=this.currentTime,P=i;if(g){const z=Math.min(this.currentTime,r)/l;let I=Math.floor(z),U=z%1;!U&&z>=1&&(U=1),U===1&&I--,I=Math.min(I,g+1),I%2&&(v==="reverse"?(U=1-U,y&&(U-=y/l)):v==="mirror"&&(P=s)),T=qu(0,1,U)*l}const O=R?{done:!1,value:p[0]}:P.next(T);a&&(O.value=a(O.value));let{done:N}=O;!R&&u!==null&&(N=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&_!==CC&&(O.value=gR(p,this.options,S,this.speed)),w&&w(O.value),k&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return il(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+il(e)}get time(){return il(this.currentTime)}set time(e){e=qc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ps.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=il(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=OH,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ps.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ZH(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Hh=t=>t*180/Math.PI,RC=t=>{const e=Hh(Math.atan2(t[1],t[0]));return PC(e)},$H={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:RC,rotateZ:RC,skewX:t=>Hh(Math.atan(t[1])),skewY:t=>Hh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},PC=t=>(t=t%360,t<0&&(t+=360),t),sN=RC,oN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),QH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oN,scaleY:lN,scale:t=>(oN(t)+lN(t))/2,rotateX:t=>PC(Hh(Math.atan2(t[6],t[5]))),rotateY:t=>PC(Hh(Math.atan2(-t[2],t[0]))),rotateZ:sN,rotate:sN,skewX:t=>Hh(Math.atan(t[4])),skewY:t=>Hh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function DC(t){return t.includes("scale")?1:0}function OC(t,e){if(!t||t==="none")return DC(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=QH,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=$H,r=l}if(!r)return DC(e);const a=i[e],s=r[1].split(",").map(e9);return typeof a=="function"?a(s):s[a]}const JH=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return OC(n,e)};function e9(t){return parseFloat(t.trim())}const Bg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vg=new Set(Bg),uN=t=>t===Fg||t===Ut,t9=new Set(["x","y","z"]),n9=Bg.filter(t=>!t9.has(t));function i9(t){const e=[];return n9.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const pd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>OC(e,"x"),y:(t,{transform:e})=>OC(e,"y")};pd.translateX=pd.x;pd.translateY=pd.y;const $h=new Set;let NC=!1,LC=!1,IC=!1;function Mz(){if(LC){const t=Array.from($h).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=i9(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([a,s])=>{i.getValue(a)?.set(s)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}LC=!1,NC=!1,$h.forEach(t=>t.complete(IC)),$h.clear()}function wz(){$h.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(LC=!0)})}function r9(){IC=!0,wz(),Mz(),IC=!1}class xR{constructor(e,n,i,r,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?($h.add(this),NC||(NC=!0,yi.read(wz),yi.resolveKeyframes(Mz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const l=i.readValue(n,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),r&&a===void 0&&r.set(e[0])}ZH(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$h.delete(this)}cancel(){this.state==="scheduled"&&($h.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a9=t=>t.startsWith("--");function s9(t,e,n){a9(e)?t.style.setProperty(e,n):t.style[e]=n}const o9=oR(()=>window.ScrollTimeline!==void 0),l9={};function u9(t,e){const n=oR(t);return()=>l9[e]??n()}const Ez=u9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jv=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,cN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jv([0,.65,.55,1]),circOut:jv([.55,0,1,.45]),backIn:jv([.31,.01,.66,-.59]),backOut:jv([.33,1.53,.69,.99])};function Az(t,e){if(t)return typeof t=="function"?Ez()?bz(t,e):"ease-out":uz(t)?jv(t):Array.isArray(t)?t.map(n=>Az(n,e)||cN.easeOut):cN[t]}function c9(t,e,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:u}={},f=void 0){const p={[e]:n};u&&(p.offset=u);const g=Az(l,r);Array.isArray(g)&&(p.easing=g);const v={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(p,v)}function Tz(t){return typeof t=="function"&&"applyToOptions"in t}function f9({type:t,...e}){return Tz(t)&&Ez()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class d9 extends vR{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,sR(typeof e.type!="string");const f=f9(e);this.animation=c9(n,i,r,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=gR(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):s9(n,i,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return il(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+il(e)}get time(){return il(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=qc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&o9()?(this.animation.timeline=e,sl):n(this)}}const Cz={anticipate:az,backInOut:rz,circInOut:oz};function h9(t){return t in Cz}function p9(t){typeof t.ease=="string"&&h9(t.ease)&&(t.ease=Cz[t.ease])}const oA=10;class m9 extends d9{constructor(e){p9(e),Sz(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:a,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new yR({...s,autoplay:!1}),u=Math.max(oA,ps.now()-this.startTime),f=qu(0,oA,u-oA);n.setWithVelocity(l.sample(Math.max(0,u-f)).value,l.sample(u).value,f),l.stop()}}const fN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Sd.test(t)||t==="0")&&!t.startsWith("url("));function g9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function v9(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=fN(r,e),l=fN(a,e);return!s||!l?!1:g9(t)||(n==="spring"||Tz(n))&&i}function UC(t){t.duration=0,t.type="keyframes"}const y9=new Set(["opacity","clipPath","filter","transform"]),x9=oR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function b9(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:a,type:s}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return x9()&&n&&y9.has(n)&&(n!=="transform"||!f)&&!u&&!i&&r!=="mirror"&&a!==0&&s!=="inertia"}const _9=40;class S9 extends vR{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:u,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ps.now();const v={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:a,repeatType:s,name:u,motionValue:f,element:p,...g},y=p?.KeyframeResolver||xR;this.keyframeResolver=new y(l,(_,w,S)=>this.onKeyframesResolved(_,w,v,!S),u,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:u,isHandoff:f,onUpdate:p}=i;this.resolvedAt=ps.now(),v9(e,a,s,l)||(($c.instantAnimations||!u)&&p?.(gR(e,i,n)),e[0]=e[e.length-1],UC(i),i.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>_9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},y=!f&&b9(v),_=v.motionValue?.owner?.current,w=y?new m9({...v,element:_}):new yR(v);w.finished.then(()=>{this.notifyFinished()}).catch(sl),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),r9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Rz(t,e,n,i=0,r=1){const a=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),s=t.size,l=(s-1)*i;return typeof n=="function"?n(a,s):r===1?a*i:l-a*i}const M9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w9(t){const e=M9.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function Pz(t,e,n=1){const[i,r]=w9(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const s=a.trim();return Z2(s)?parseFloat(s):s}return fR(r)?Pz(r,e,n+1):r}const E9={type:"spring",stiffness:500,damping:25,restSpeed:10},A9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),T9={type:"keyframes",duration:.8},C9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R9=(t,{keyframes:e})=>e.length>2?T9:Vg.has(t)?t.startsWith("scale")?A9(e[1]):E9:C9,P9=t=>t!==null;function D9(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(P9),a=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[a]}function bR(t,e){return t?.[e]??t?.default??t}function O9({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:l,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const _R=(t,e,n,i={},r,a)=>s=>{const l=bR(i,t)||{},u=l.delay||i.delay||0;let{elapsed:f=0}=i;f=f-qc(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:r};O9(l)||Object.assign(p,R9(t,p)),p.duration&&(p.duration=qc(p.duration)),p.repeatDelay&&(p.repeatDelay=qc(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(UC(p),p.delay===0&&(g=!0)),($c.instantAnimations||$c.skipAnimations)&&(g=!0,UC(p),p.delay=0),p.allowFlatten=!l.type&&!l.ease,g&&!a&&e.get()!==void 0){const v=D9(p.keyframes,l);if(v!==void 0){yi.update(()=>{p.onUpdate(v),p.onComplete()});return}}return l.isSync?new yR(p):new S9(p)};function dN(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function SR(t,e,n,i){if(typeof e=="function"){const[r,a]=dN(i);e=e(n!==void 0?n:t.custom,r,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,a]=dN(i);e=e(n!==void 0?n:t.custom,r,a)}return e}function yg(t,e,n){const i=t.getProps();return SR(i,e,n!==void 0?n:i.custom,t)}const Dz=new Set(["width","height","top","left","right","bottom",...Bg]),hN=30,N9=t=>!isNaN(parseFloat(t));class L9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=ps.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ps.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=N9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lR);const i=this.events[e].add(n);return e==="change"?()=>{i(),yi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hN);return J2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mg(t,e){return new L9(t,e)}const kC=t=>Array.isArray(t);function I9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mg(n))}function U9(t){return kC(t)?t[t.length-1]||0:t}function k9(t,e){const n=yg(t,e);let{transitionEnd:i={},transition:r={},...a}=n||{};a={...a,...i};for(const s in a){const l=U9(a[s]);I9(t,s,l)}}const Ba=t=>!!(t&&t.getVelocity);function z9(t){return!!(Ba(t)&&t.add)}function zC(t,e){const n=t.getValue("willChange");if(z9(n))return n.add(e);if(!n&&$c.WillChange){const i=new $c.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function MR(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const F9="framerAppearId",Oz="data-"+MR(F9);function Nz(t){return t.props[Oz]}function B9({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Lz(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...l}=e;const u=a?.reduceMotion;i&&(a=i);const f=[],p=r&&t.animationState&&t.animationState.getState()[r];for(const g in l){const v=t.getValue(g,t.latestValues[g]??null),y=l[g];if(y===void 0||p&&B9(p,g))continue;const _={delay:n,...bR(a||{},g)},w=v.get();if(w!==void 0&&!v.isAnimating&&!Array.isArray(y)&&y===w&&!_.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=Nz(t);if(T){const P=window.MotionHandoffAnimation(T,g,yi);P!==null&&(_.startTime=P,S=!0)}}zC(t,g);const M=u??t.shouldReduceMotion;v.start(_R(g,v,y,M&&Dz.has(g)?{type:!1}:_,t,S));const R=v.animation;R&&f.push(R)}return s&&Promise.all(f).then(()=>{yi.update(()=>{s&&k9(t,s)})}),f}function FC(t,e,n={}){const i=yg(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(Lz(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=r;return V9(t,e,u,f,p,g,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,f]=l==="beforeChildren"?[a,s]:[s,a];return u().then(()=>f())}else return Promise.all([a(),s(n.delay)])}function V9(t,e,n=0,i=0,r=0,a=1,s){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(FC(u,e,{...s,delay:n+(typeof i=="function"?0:i)+Rz(t.variantChildren,u,i,r,a)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function j9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>FC(t,a,n));i=Promise.all(r)}else if(typeof e=="string")i=FC(t,e,n);else{const r=typeof e=="function"?yg(t,e,n.custom):e;i=Promise.all(Lz(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const G9={test:t=>t==="auto",parse:t=>t},Iz=t=>e=>e.test(t),Uz=[Fg,Ut,Hu,ld,gH,mH,G9],pN=t=>Uz.find(Iz(t));function H9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Q2(t):!0}const W9=new Set(["brightness","contrast","saturate","opacity"]);function X9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(dR)||[];if(!i)return t;const r=n.replace(i,"");let a=W9.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+r+")"}const q9=/\b([a-z-]*)\(.*?\)/gu,BC={...Sd,getAnimatableNone:t=>{const e=t.match(q9);return e?e.map(X9).join(" "):t}},mN={...Fg,transform:Math.round},Y9={rotate:ld,rotateX:ld,rotateY:ld,rotateZ:ld,scale:y1,scaleX:y1,scaleY:y1,scaleZ:y1,skew:ld,skewX:ld,skewY:ld,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:yy,originX:tN,originY:tN,originZ:Ut},wR={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,inset:Ut,insetBlock:Ut,insetBlockStart:Ut,insetBlockEnd:Ut,insetInline:Ut,insetInlineStart:Ut,insetInlineEnd:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,paddingBlock:Ut,paddingBlockStart:Ut,paddingBlockEnd:Ut,paddingInline:Ut,paddingInlineStart:Ut,paddingInlineEnd:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,marginBlock:Ut,marginBlockStart:Ut,marginBlockEnd:Ut,marginInline:Ut,marginInlineStart:Ut,marginInlineEnd:Ut,fontSize:Ut,backgroundPositionX:Ut,backgroundPositionY:Ut,...Y9,zIndex:mN,fillOpacity:yy,strokeOpacity:yy,numOctaves:mN},K9={...wR,color:Er,backgroundColor:Er,outlineColor:Er,fill:Er,stroke:Er,borderColor:Er,borderTopColor:Er,borderRightColor:Er,borderBottomColor:Er,borderLeftColor:Er,filter:BC,WebkitFilter:BC},kz=t=>K9[t];function zz(t,e){let n=kz(t);return n!==BC&&(n=Sd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z9=new Set(["auto","none","0"]);function $9(t,e,n){let i=0,r;for(;i<t.length&&!r;){const a=t[i];typeof a=="string"&&!Z9.has(a)&&xy(a).values.length&&(r=t[i]),i++}if(r&&n)for(const a of e)t[a]=zz(n,r)}class Q9 extends xR{constructor(e,n,i,r,a){super(e,n,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),fR(g))){const v=Pz(g,n.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Dz.has(i)||e.length!==2)return;const[r,a]=e,s=pN(r),l=pN(a),u=eN(r),f=eN(a);if(u!==f&&pd[i]){this.needsMeasurement=!0;return}if(s!==l)if(uN(s)&&uN(l))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else pd[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||H9(e[r]))&&i.push(r);i.length&&$9(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=pd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function J9(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t).filter(i=>i!=null)}const Fz=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function VC(t){return $2(t)&&"offsetHeight"in t}const{schedule:ER}=cz(queueMicrotask,!1),Ul={x:!1,y:!1};function Bz(){return Ul.x||Ul.y}function e7(t){return t==="x"||t==="y"?Ul[t]?null:(Ul[t]=!0,()=>{Ul[t]=!1}):Ul.x||Ul.y?null:(Ul.x=Ul.y=!0,()=>{Ul.x=Ul.y=!1})}function Vz(t,e){const n=J9(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function gN(t){return!(t.pointerType==="touch"||Bz())}function t7(t,e,n={}){const[i,r,a]=Vz(t,n),s=l=>{if(!gN(l))return;const{target:u}=l,f=e(u,l);if(typeof f!="function"||!u)return;const p=g=>{gN(g)&&(f(g),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,r)};return i.forEach(l=>{l.addEventListener("pointerenter",s,r)}),a}const jz=(t,e)=>e?t===e?!0:jz(t,e.parentElement):!1,AR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,n7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gz(t){return n7.has(t.tagName)||t.isContentEditable===!0}const I_=new WeakSet;function vN(t){return e=>{e.key==="Enter"&&t(e)}}function lA(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const i7=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=vN(()=>{if(I_.has(n))return;lA(n,"down");const r=vN(()=>{lA(n,"up")}),a=()=>lA(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function yN(t){return AR(t)&&!Bz()}function r7(t,e,n={}){const[i,r,a]=Vz(t,n),s=l=>{const u=l.currentTarget;if(!yN(l))return;I_.add(u);const f=e(u,l),p=(y,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),I_.has(u)&&I_.delete(u),yN(y)&&typeof f=="function"&&f(y,{success:_})},g=y=>{p(y,u===window||u===document||n.useGlobalTarget||jz(u,y.target))},v=y=>{p(y,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,r),VC(l)&&(l.addEventListener("focus",f=>i7(f,r)),!Gz(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Hz(t){return $2(t)&&"ownerSVGElement"in t}function a7(t){return Hz(t)&&t.tagName==="svg"}const s7=[...Uz,Er,Sd],o7=t=>s7.find(Iz(t)),xN=()=>({translate:0,scale:1,origin:0,originPoint:0}),ug=()=>({x:xN(),y:xN()}),bN=()=>({min:0,max:0}),Ir=()=>({x:bN(),y:bN()}),jC={current:null},Wz={current:!1},l7=typeof window<"u";function u7(){if(Wz.current=!0,!!l7)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jC.current=t.matches;t.addEventListener("change",e),e()}else jC.current=!1}const c7=new WeakMap;function VM(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function by(t){return typeof t=="string"||Array.isArray(t)}const TR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CR=["initial",...TR];function jM(t){return VM(t.animate)||CR.some(e=>by(t[e]))}function Xz(t){return!!(jM(t)||t.variants)}function f7(t,e,n){for(const i in e){const r=e[i],a=n[i];if(Ba(r))t.addValue(i,r);else if(Ba(a))t.addValue(i,Mg(r,{owner:t}));else if(a!==r)if(t.hasValue(i)){const s=t.getValue(i);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=t.getStaticValue(i);t.addValue(i,Mg(s!==void 0?s:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const _N=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let J_={};function qz(t){J_=t}function d7(){return J_}class h7{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ps.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,yi.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=jM(n),this.isVariantNode=Xz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const y=g[v];u[v]!==void 0&&Ba(y)&&y.set(u[v])}}mount(e){this.current=e,c7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Wz.current||u7(),this.shouldReduceMotion=jC.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_d(this.notifyUpdate),_d(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Vg.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&yi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in J_){const n=J_[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<_N.length;i++){const r=_N[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=f7(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Mg(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Z2(i)||Q2(i))?i=parseFloat(i):!o7(i)&&Sd.test(n)&&(i=zz(e,n)),this.setBaseTarget(e,Ba(i)?i.get():i)),Ba(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=SR(this.props,n,this.presenceContext?.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Ba(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ER.render(this.render)}}class Yz extends h7{constructor(){super(...arguments),this.KeyframeResolver=Q9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ba(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Rd{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Kz({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function p7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function m7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function uA(t){return t===void 0||t===1}function GC({scale:t,scaleX:e,scaleY:n}){return!uA(t)||!uA(e)||!uA(n)}function Uh(t){return GC(t)||Zz(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Zz(t){return SN(t.x)||SN(t.y)}function SN(t){return t&&t!=="0%"}function eS(t,e,n){const i=t-n,r=e*i;return n+r}function MN(t,e,n,i,r){return r!==void 0&&(t=eS(t,r,i)),eS(t,n,i)+e}function HC(t,e=0,n=1,i,r){t.min=MN(t.min,e,n,i,r),t.max=MN(t.max,e,n,i,r)}function $z(t,{x:e,y:n}){HC(t.x,e.translate,e.scale,e.originPoint),HC(t.y,n.translate,n.scale,n.originPoint)}const wN=.999999999999,EN=1.0000000000001;function g7(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,s;for(let l=0;l<r;l++){a=n[l],s=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&fg(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,$z(t,s)),i&&Uh(a.latestValues)&&fg(t,a.latestValues))}e.x<EN&&e.x>wN&&(e.x=1),e.y<EN&&e.y>wN&&(e.y=1)}function cg(t,e){t.min=t.min+e,t.max=t.max+e}function AN(t,e,n,i,r=.5){const a=qi(t.min,t.max,r);HC(t,e,n,a,i)}function fg(t,e){AN(t.x,e.x,e.scaleX,e.scale,e.originX),AN(t.y,e.y,e.scaleY,e.scale,e.originY)}function Qz(t,e){return Kz(m7(t.getBoundingClientRect(),e))}function v7(t,e,n){const i=Qz(t,n),{scroll:r}=e;return r&&(cg(i.x,r.offset.x),cg(i.y,r.offset.y)),i}const y7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x7=Bg.length;function b7(t,e,n){let i="",r=!0;for(let a=0;a<x7;a++){const s=Bg[a],l=t[s];if(l===void 0)continue;let u=!0;if(typeof l=="number")u=l===(s.startsWith("scale")?1:0);else{const f=parseFloat(l);u=s.startsWith("scale")?f===1:f===0}if(!u||n){const f=Fz(l,wR[s]);if(!u){r=!1;const p=y7[s]||s;i+=`${p}(${f}) `}n&&(e[s]=f)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function RR(t,e,n){const{style:i,vars:r,transformOrigin:a}=t;let s=!1,l=!1;for(const u in e){const f=e[u];if(Vg.has(u)){s=!0;continue}else if(dz(u)){r[u]=f;continue}else{const p=Fz(f,wR[u]);u.startsWith("origin")?(l=!0,a[u]=p):i[u]=p}}if(e.transform||(s||n?i.transform=b7(e,t.transform,n):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${u} ${f} ${p}`}}function Jz(t,{style:e,vars:n},i,r){const a=t.style;let s;for(s in e)a[s]=e[s];r?.applyProjectionStyles(a,i);for(s in n)a.setProperty(s,n[s])}function TN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mv={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ut.test(t))t=parseFloat(t);else return t;const n=TN(t,e.target.x),i=TN(t,e.target.y);return`${n}% ${i}%`}},_7={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Sd.parse(t);if(r.length>5)return i;const a=Sd.createTransformer(t),s=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;r[0+s]/=l,r[1+s]/=u;const f=qi(l,u,.5);return typeof r[2+s]=="number"&&(r[2+s]/=f),typeof r[3+s]=="number"&&(r[3+s]/=f),a(r)}},WC={borderRadius:{...Mv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mv,borderTopRightRadius:Mv,borderBottomLeftRadius:Mv,borderBottomRightRadius:Mv,boxShadow:_7};function eF(t,{layout:e,layoutId:n}){return Vg.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!WC[t]||t==="opacity")}function PR(t,e,n){const i=t.style,r=e?.style,a={};if(!i)return a;for(const s in i)(Ba(i[s])||r&&Ba(r[s])||eF(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(a[s]=i[s]);return a}function S7(t){return window.getComputedStyle(t)}class M7 extends Yz{constructor(){super(...arguments),this.type="html",this.renderInstance=Jz}readValueFromInstance(e,n){if(Vg.has(n))return this.projection?.isProjecting?DC(n):JH(e,n);{const i=S7(e),r=(dz(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Qz(e,n)}build(e,n,i){RR(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return PR(e,n,i)}}const w7={offset:"stroke-dashoffset",array:"stroke-dasharray"},E7={offset:"strokeDashoffset",array:"strokeDasharray"};function A7(t,e,n=1,i=0,r=!0){t.pathLength=1;const a=r?w7:E7;t[a.offset]=`${-i}`,t[a.array]=`${e} ${n}`}const T7=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function tF(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...l},u,f,p){if(RR(t,l,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete g.transformBox);for(const y of T7)g[y]!==void 0&&(v[y]=g[y],delete g[y]);e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),r!==void 0&&A7(g,r,a,s,!1)}const nF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),iF=t=>typeof t=="string"&&t.toLowerCase()==="svg";function C7(t,e,n,i){Jz(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(nF.has(r)?r:MR(r),e.attrs[r])}function rF(t,e,n){const i=PR(t,e,n);for(const r in t)if(Ba(t[r])||Ba(e[r])){const a=Bg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=t[r]}return i}class R7 extends Yz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ir}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vg.has(n)){const i=kz(n);return i&&i.default||0}return n=nF.has(n)?n:MR(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return rF(e,n,i)}build(e,n,i){tF(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){C7(e,n,i,r)}mount(e){this.isSVGTag=iF(e.tagName),super.mount(e)}}const P7=CR.length;function aF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?aF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<P7;n++){const i=CR[n],r=t.props[i];(by(r)||r===!1)&&(e[i]=r)}return e}function sF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const D7=[...TR].reverse(),O7=TR.length;function N7(t){return e=>Promise.all(e.map(({animation:n,options:i})=>j9(t,n,i)))}function L7(t){let e=N7(t),n=CN(),i=!0;const r=u=>(f,p)=>{const g=yg(t,p,u==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:y,..._}=g;f={...f,..._,...y}}return f};function a(u){e=u(t)}function s(u){const{props:f}=t,p=aF(t.parent)||{},g=[],v=new Set;let y={},_=1/0;for(let S=0;S<O7;S++){const M=D7[S],R=n[M],T=f[M]!==void 0?f[M]:p[M],P=by(T),O=M===u?R.isActive:null;O===!1&&(_=S);let N=T===p[M]&&T!==f[M]&&P;if(N&&i&&t.manuallyAnimateOnMount&&(N=!1),R.protectedKeys={...y},!R.isActive&&O===null||!T&&!R.prevProp||VM(T)||typeof T=="boolean")continue;const k=I7(R.prevProp,T);let z=k||M===u&&R.isActive&&!N&&P||S>_&&P,I=!1;const U=Array.isArray(T)?T:[T];let W=U.reduce(r(M),{});O===!1&&(W={});const{prevResolvedValues:H={}}=R,Y={...H,...W},J=te=>{z=!0,v.has(te)&&(I=!0,v.delete(te)),R.needsAnimating[te]=!0;const de=t.getValue(te);de&&(de.liveStyle=!1)};for(const te in Y){const de=W[te],he=H[te];if(y.hasOwnProperty(te))continue;let le=!1;kC(de)&&kC(he)?le=!sF(de,he):le=de!==he,le?de!=null?J(te):v.add(te):de!==void 0&&v.has(te)?J(te):R.protectedKeys[te]=!0}R.prevProp=T,R.prevResolvedValues=W,R.isActive&&(y={...y,...W}),i&&t.blockInitialAnimation&&(z=!1);const ie=N&&k;z&&(!ie||I)&&g.push(...U.map(te=>{const de={type:M};if(typeof te=="string"&&i&&!ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,le=yg(he,te);if(he.enteringChildren&&le){const{delayChildren:V}=le.transition||{};de.delay=Rz(he.enteringChildren,t,V)}}return{animation:te,options:de}}))}if(v.size){const S={};if(typeof f.initial!="boolean"){const M=yg(t,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(S.transition=M.transition)}v.forEach(M=>{const R=t.getBaseTarget(M),T=t.getValue(M);T&&(T.liveStyle=!0),S[M]=R??null}),g.push({animation:S})}let w=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(g):Promise.resolve()}function l(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(u,f)),n[u].isActive=f;const p=s(u);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=CN()}}}function I7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sF(e,t):!1}function bh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CN(){return{animate:bh(!0),whileInView:bh(),whileHover:bh(),whileTap:bh(),whileDrag:bh(),whileFocus:bh(),exit:bh()}}function RN(t,e){t.min=e.min,t.max=e.max}function Ol(t,e){RN(t.x,e.x),RN(t.y,e.y)}function PN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const oF=1e-4,U7=1-oF,k7=1+oF,lF=.01,z7=0-lF,F7=0+lF;function ms(t){return t.max-t.min}function B7(t,e,n){return Math.abs(t-e)<=n}function DN(t,e,n,i=.5){t.origin=i,t.originPoint=qi(e.min,e.max,t.origin),t.scale=ms(n)/ms(e),t.translate=qi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=U7&&t.scale<=k7||isNaN(t.scale))&&(t.scale=1),(t.translate>=z7&&t.translate<=F7||isNaN(t.translate))&&(t.translate=0)}function Jv(t,e,n,i){DN(t.x,e.x,n.x,i?i.originX:void 0),DN(t.y,e.y,n.y,i?i.originY:void 0)}function ON(t,e,n){t.min=n.min+e.min,t.max=t.min+ms(e)}function V7(t,e,n){ON(t.x,e.x,n.x),ON(t.y,e.y,n.y)}function NN(t,e,n){t.min=e.min-n.min,t.max=t.min+ms(e)}function tS(t,e,n){NN(t.x,e.x,n.x),NN(t.y,e.y,n.y)}function LN(t,e,n,i,r){return t-=e,t=eS(t,1/n,i),r!==void 0&&(t=eS(t,1/r,i)),t}function j7(t,e=0,n=1,i=.5,r,a=t,s=t){if(Hu.test(e)&&(e=parseFloat(e),e=qi(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=qi(a.min,a.max,i);t===a&&(l-=e),t.min=LN(t.min,e,n,l,r),t.max=LN(t.max,e,n,l,r)}function IN(t,e,[n,i,r],a,s){j7(t,e[n],e[i],e[r],e.scale,a,s)}const G7=["x","scaleX","originX"],H7=["y","scaleY","originY"];function UN(t,e,n,i){IN(t.x,e,G7,n?n.x:void 0,i?i.x:void 0),IN(t.y,e,H7,n?n.y:void 0,i?i.y:void 0)}function kN(t){return t.translate===0&&t.scale===1}function uF(t){return kN(t.x)&&kN(t.y)}function zN(t,e){return t.min===e.min&&t.max===e.max}function W7(t,e){return zN(t.x,e.x)&&zN(t.y,e.y)}function FN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cF(t,e){return FN(t.x,e.x)&&FN(t.y,e.y)}function BN(t){return ms(t.x)/ms(t.y)}function VN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function el(t){return[t("x"),t("y")]}function X7(t,e,n){let i="";const r=t.x.translate/e.x,a=t.y.translate/e.y,s=n?.z||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:v,skewX:y,skewY:_}=n;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),y&&(i+=`skewX(${y}deg) `),_&&(i+=`skewY(${_}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const fF=["TopLeft","TopRight","BottomLeft","BottomRight"],q7=fF.length,jN=t=>typeof t=="string"?parseFloat(t):t,GN=t=>typeof t=="number"||Ut.test(t);function Y7(t,e,n,i,r,a){r?(t.opacity=qi(0,n.opacity??1,K7(i)),t.opacityExit=qi(e.opacity??1,0,Z7(i))):a&&(t.opacity=qi(e.opacity??1,n.opacity??1,i));for(let s=0;s<q7;s++){const l=`border${fF[s]}Radius`;let u=HN(e,l),f=HN(n,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||GN(u)===GN(f)?(t[l]=Math.max(qi(jN(u),jN(f),i),0),(Hu.test(f)||Hu.test(u))&&(t[l]+="%")):t[l]=f}(e.rotate||n.rotate)&&(t.rotate=qi(e.rotate||0,n.rotate||0,i))}function HN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const K7=dF(0,.5,sz),Z7=dF(.5,.95,sl);function dF(t,e,n){return i=>i<t?0:i>e?1:n(vy(t,e,i))}function $7(t,e,n){const i=Ba(t)?t:Mg(t);return i.start(_R("",i,e,n)),i.animation}function _y(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const Q7=(t,e)=>t.depth-e.depth;class J7{constructor(){this.children=[],this.isDirty=!1}add(e){rR(this.children,e),this.isDirty=!0}remove(e){aR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q7),this.isDirty=!1,this.children.forEach(e)}}function eW(t,e){const n=ps.now(),i=({timestamp:r})=>{const a=r-n;a>=e&&(_d(i),t(a-e))};return yi.setup(i,!0),()=>_d(i)}function U_(t){return Ba(t)?t.get():t}class tW{constructor(){this.members=[]}add(e){rR(this.members,e),e.scheduleRender()}remove(e){if(aR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const r=i.options.layoutDependency,a=e.options.layoutDependency;r!==void 0&&a!==void 0&&r===a||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:l}=e.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const k_={hasAnimatedSinceResize:!0,hasEverUpdated:!1},cA=["","X","Y","Z"],nW=1e3;let iW=0;function fA(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function hF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Nz(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yi,!(r||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&hF(i)}function pF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},l=e?.()){this.id=iW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sW),this.nodes.forEach(cW),this.nodes.forEach(fW),this.nodes.forEach(oW)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new J7)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new lR),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const u=this.eventHandlers.get(s);u&&u.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Hz(s)&&!a7(s),this.instance=s;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;yi.read(()=>{g=window.innerWidth}),t(s,()=>{const y=window.innerWidth;y!==g&&(g=y,this.root.updateBlockedByResize=!0,p&&p(),p=eW(v,250),k_.hasAnimatedSinceResize&&(k_.hasAnimatedSinceResize=!1,this.nodes.forEach(qN)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||gW,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=f.getProps(),M=!this.targetLayout||!cF(this.targetLayout,y),R=!g&&v;if(this.options.layoutRoot||this.resumeFrom||R||g&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...bR(_,"layout"),onPlay:w,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(p,R)}else g||qN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_d(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dW),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uW),this.nodes.forEach(rW),this.nodes.forEach(aW)):this.nodes.forEach(XN),this.clearAllSnapshots();const l=ps.now();_a.delta=qu(0,1e3/60,l-_a.timestamp),_a.timestamp=l,_a.isProcessing=!0,nA.update.process(_a),nA.preRender.process(_a),nA.render.process(_a),_a.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ER.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lW),this.sharedNodes.forEach(hW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ms(this.snapshot.measuredBox.x)&&!ms(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!uF(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;s&&this.instance&&(l||Uh(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return s&&(u=this.removeTransform(u)),vW(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ir();const l=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yW))){const{scroll:f}=this.root;f&&(cg(l.x,f.offset.x),cg(l.y,f.offset.y))}return l}removeElementScroll(s){const l=Ir();if(Ol(l,s),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ol(l,s),cg(l.x,p.offset.x),cg(l.y,p.offset.y))}return l}applyTransform(s,l=!1){const u=Ir();Ol(u,s);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&fg(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Uh(p.latestValues)&&fg(u,p.latestValues)}return Uh(this.latestValues)&&fg(u,this.latestValues),u}removeTransform(s){const l=Ir();Ol(l,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Uh(f.latestValues))continue;GC(f.latestValues)&&f.updateSnapshot();const p=Ir(),g=f.measurePageBox();Ol(p,g),UN(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Uh(this.latestValues)&&UN(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_a.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=_a.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ol(this.target,this.layout.layoutBox),$z(this.target,this.targetDelta)):Ol(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||GC(this.parent.latestValues)||Zz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,l,u){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),tS(this.relativeTargetOrigin,l,u),Ol(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_a.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ol(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;g7(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ir());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PN(this.prevProjectionDelta.x,this.projectionDelta.x),PN(this.prevProjectionDelta.y,this.projectionDelta.y)),Jv(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!VN(this.projectionDelta.x,this.prevProjectionDelta.x)||!VN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ug(),this.projectionDelta=ug(),this.projectionDeltaWithTransform=ug()}setAnimationOrigin(s,l=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},g=ug();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Ir(),y=u?u.source:void 0,_=this.layout?this.layout.source:void 0,w=y!==_,S=this.getStack(),M=!S||S.members.length<=1,R=!!(w&&!M&&this.options.crossfade===!0&&!this.path.some(mW));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const O=P/1e3;YN(g.x,s.x,O),YN(g.y,s.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tS(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pW(this.relativeTarget,this.relativeTargetOrigin,v,O),T&&W7(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ir()),Ol(T,this.relativeTarget)),w&&(this.animationValues=p,Y7(p,f,this.latestValues,O,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_d(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yi.update(()=>{k_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mg(0)),this.currentAnimation=$7(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:p}=s;if(!(!l||!u||!f)){if(this!==s&&this.layout&&f&&mF(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Ir();const g=ms(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+g;const v=ms(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+v}Ol(l,u),fg(l,p),Jv(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new tW),this.sharedNodes.get(s).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&fA("z",s,f,this.animationValues);for(let p=0;p<cA.length;p++)fA(`rotate${cA[p]}`,s,f,this.animationValues),fA(`skew${cA[p]}`,s,f,this.animationValues);s.render();for(const p in f)s.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=U_(l?.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=U_(l?.pointerEvents)||""),this.hasProjected&&!Uh(this.latestValues)&&(s.transform=u?u({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=X7(this.projectionDeltaWithTransform,this.treeScale,p);u&&(g=u(p,g)),s.transform=g;const{x:v,y}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,f.animationValues?s.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in WC){if(p[_]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:M}=WC[_],R=g==="none"?p[_]:w(p[_],f);if(S){const T=S.length;for(let P=0;P<T;P++)s[S[P]]=R}else M?this.options.visualElement.renderState.vars[_]=R:s[_]=R}this.options.layoutId&&(s.pointerEvents=f===this?U_(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(WN),this.root.sharedNodes.clear()}}}function rW(t){t.updateLayout()}function aW(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,a=e.source!==t.layout.source;r==="size"?el(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],v=ms(g);g.min=n[p].min,g.max=g.min+v}):mF(r,e.layoutBox,n)&&el(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],v=ms(n[p]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+v)});const s=ug();Jv(s,n,e.layoutBox);const l=ug();a?Jv(l,t.applyTransform(i,!0),e.measuredBox):Jv(l,n,e.layoutBox);const u=!uF(s);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const y=Ir();tS(y,e.layoutBox,g.layoutBox);const _=Ir();tS(_,n,v.layoutBox),cF(y,_)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=y,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function sW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lW(t){t.clearSnapshot()}function WN(t){t.clearMeasurements()}function XN(t){t.isLayoutDirty=!1}function uW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cW(t){t.resolveTargetDelta()}function fW(t){t.calcProjection()}function dW(t){t.resetSkewAndRotation()}function hW(t){t.removeLeadSnapshot()}function YN(t,e,n){t.translate=qi(e.translate,0,n),t.scale=qi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function KN(t,e,n,i){t.min=qi(e.min,n.min,i),t.max=qi(e.max,n.max,i)}function pW(t,e,n,i){KN(t.x,e.x,n.x,i),KN(t.y,e.y,n.y,i)}function mW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gW={duration:.45,ease:[.4,0,.1,1]},ZN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$N=ZN("applewebkit/")&&!ZN("chrome/")?Math.round:sl;function QN(t){t.min=$N(t.min),t.max=$N(t.max)}function vW(t){QN(t.x),QN(t.y)}function mF(t,e,n){return t==="position"||t==="preserve-aspect"&&!B7(BN(e),BN(n),.2)}function yW(t){return t!==t.root&&t.scroll?.wasRoot}const xW=pF({attachResizeListener:(t,e)=>_y(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),bW=t=>!t.isLayoutDirty&&t.willUpdate(!1);function JN(){const t=new Set,e=new WeakMap,n=()=>t.forEach(bW);return{add:i=>{t.add(i),e.set(i,i.addEventListener("willUpdate",n))},remove:i=>{t.delete(i);const r=e.get(i);r&&(r(),e.delete(i)),n()},dirty:n}}const dA={current:void 0},gF=pF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dA.current){const t=new xW({});t.mount(window),t.setOptions({layoutScroll:!0}),dA.current=t}return dA.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DR=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function eL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _W(...t){return e=>{let n=!1;const i=t.map(r=>{const a=eL(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():eL(t[r],null)}}}}function SW(...t){return F.useCallback(_W(...t),t)}class MW extends F.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=VC(i)&&i.offsetWidth||0,a=VC(i)&&i.offsetHeight||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left,s.bottom=a-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function wW({children:t,isPresent:e,anchorX:n,anchorY:i,root:r}){const a=F.useId(),s=F.useRef(null),l=F.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=F.useContext(DR),f=t.props?.ref??t?.ref,p=SW(s,f);return F.useInsertionEffect(()=>{const{width:g,height:v,top:y,left:_,right:w,bottom:S}=l.current;if(e||!s.current||!g||!v)return;const M=n==="left"?`left: ${_}`:`right: ${w}`,R=i==="bottom"?`bottom: ${S}`:`top: ${y}`;s.current.dataset.motionPopId=a;const T=document.createElement("style");u&&(T.nonce=u);const P=r??document.head;return P.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${M}px !important;
            ${R}px !important;
          }
        `),()=>{P.contains(T)&&P.removeChild(T)}},[e]),G.jsx(MW,{isPresent:e,childRef:s,sizeRef:l,children:F.cloneElement(t,{ref:p})})}const EW=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:s,anchorX:l,anchorY:u,root:f})=>{const p=nR(AW),g=F.useId();let v=!0,y=F.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:r,onExitComplete:_=>{p.set(_,!0);for(const w of p.values())if(!w)return;i&&i()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[n,p,i]);return a&&v&&(y={...y}),F.useMemo(()=>{p.forEach((_,w)=>p.set(w,!1))},[n]),F.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),s==="popLayout"&&(t=G.jsx(wW,{isPresent:n,anchorX:l,anchorY:u,root:f,children:t})),G.jsx(BM.Provider,{value:y,children:t})};function AW(){return new Map}function vF(t=!0){const e=F.useContext(BM);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,a=F.useId();F.useEffect(()=>{if(t)return r(a)},[t]);const s=F.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,s]:[!0]}const x1=t=>t.key||"";function tL(t){const e=[];return F.Children.forEach(t,n=>{F.isValidElement(n)&&e.push(n)}),e}const sp=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:s=!1,anchorX:l="left",anchorY:u="top",root:f})=>{const[p,g]=vF(s),v=F.useMemo(()=>tL(t),[t]),y=s&&!p?[]:v.map(x1),_=F.useRef(!0),w=F.useRef(v),S=nR(()=>new Map),M=F.useRef(new Set),[R,T]=F.useState(v),[P,O]=F.useState(v);iR(()=>{_.current=!1,w.current=v;for(let z=0;z<P.length;z++){const I=x1(P[z]);y.includes(I)?(S.delete(I),M.current.delete(I)):S.get(I)!==!0&&S.set(I,!1)}},[P,y.length,y.join("-")]);const N=[];if(v!==R){let z=[...v];for(let I=0;I<P.length;I++){const U=P[I],W=x1(U);y.includes(W)||(z.splice(I,0,U),N.push(U))}return a==="wait"&&N.length&&(z=N),O(tL(z)),T(v),null}const{forceRender:k}=F.useContext(gy);return G.jsx(G.Fragment,{children:P.map(z=>{const I=x1(z),U=s&&!p?!1:v===P||y.includes(I),W=()=>{if(M.current.has(I))return;if(M.current.add(I),S.has(I))S.set(I,!0);else return;let H=!0;S.forEach(Y=>{Y||(H=!1)}),H&&(k?.(),O(w.current),s&&g?.(),i&&i())};return G.jsx(EW,{isPresent:U,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:f,onExitComplete:U?void 0:W,anchorX:l,anchorY:u,children:z},I)})})},TW=F.createContext(null);function CW(){const t=F.useRef(!1);return iR(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function RW(){const t=CW(),[e,n]=F.useState(0),i=F.useCallback(()=>{t.current&&n(e+1)},[e]);return[F.useCallback(()=>yi.postRender(i),[i]),e]}const yF=t=>t===!0,PW=t=>yF(t===!0)||t==="id",xF=({children:t,id:e,inherit:n=!0})=>{const i=F.useContext(gy),r=F.useContext(TW),[a,s]=RW(),l=F.useRef(null),u=i.id||r;l.current===null&&(PW(n)&&u&&(e=e?u+"-"+e:u),l.current={id:e,group:yF(n)&&i.group||JN()});const f=F.useMemo(()=>({...l.current,forceRender:a}),[s]);return G.jsx(gy.Provider,{value:f,children:t})},bF=F.createContext({strict:!1}),nL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let iL=!1;function DW(){if(iL)return;const t={};for(const e in nL)t[e]={isEnabled:n=>nL[e].some(i=>!!n[i])};qz(t),iL=!0}function _F(){return DW(),d7()}function OW(t){const e=_F();for(const n in t)e[n]={...e[n],...t[n]};qz(e)}const NW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nS(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||NW.has(t)}let SF=t=>!nS(t);function LW(t){typeof t=="function"&&(SF=e=>e.startsWith("on")?!nS(e):t(e))}try{LW(require("@emotion/is-prop-valid").default)}catch{}function IW(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(SF(r)||n===!0&&nS(r)||!e&&!nS(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const GM=F.createContext({});function UW(t,e){if(jM(t)){const{initial:n,animate:i}=t;return{initial:n===!1||by(n)?n:void 0,animate:by(i)?i:void 0}}return t.inherit!==!1?e:{}}function kW(t){const{initial:e,animate:n}=UW(t,F.useContext(GM));return F.useMemo(()=>({initial:e,animate:n}),[rL(e),rL(n)])}function rL(t){return Array.isArray(t)?t.join(" "):t}const OR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MF(t,e,n){for(const i in e)!Ba(e[i])&&!eF(i,n)&&(t[i]=e[i])}function zW({transformTemplate:t},e){return F.useMemo(()=>{const n=OR();return RR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FW(t,e){const n=t.style||{},i={};return MF(i,n,t),Object.assign(i,zW(t,e)),i}function BW(t,e){const n={},i=FW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const wF=()=>({...OR(),attrs:{}});function VW(t,e,n,i){const r=F.useMemo(()=>{const a=wF();return tF(a,e,iF(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};MF(a,t.style,t),r.style={...a,...r.style}}return r}const jW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NR(t){return typeof t!="string"||t.includes("-")?!1:!!(jW.indexOf(t)>-1||/[A-Z]/u.test(t))}function GW(t,e,n,{latestValues:i},r,a=!1,s){const u=(s??NR(t)?VW:BW)(e,i,r,t),f=IW(e,typeof t=="string",a),p=t!==F.Fragment?{...f,...u,ref:n}:{},{children:g}=e,v=F.useMemo(()=>Ba(g)?g.get():g,[g]);return F.createElement(t,{...p,children:v})}function HW({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:WW(n,i,r,t),renderState:e()}}function WW(t,e,n,i){const r={},a=i(t,{});for(const v in a)r[v]=U_(a[v]);let{initial:s,animate:l}=t;const u=jM(t),f=Xz(t);e&&f&&!u&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let p=n?n.initial===!1:!1;p=p||s===!1;const g=p?l:s;if(g&&typeof g!="boolean"&&!VM(g)){const v=Array.isArray(g)?g:[g];for(let y=0;y<v.length;y++){const _=SR(t,v[y]);if(_){const{transitionEnd:w,transition:S,...M}=_;for(const R in M){let T=M[R];if(Array.isArray(T)){const P=p?T.length-1:0;T=T[P]}T!==null&&(r[R]=T)}for(const R in w)r[R]=w[R]}}}return r}const EF=t=>(e,n)=>{const i=F.useContext(GM),r=F.useContext(BM),a=()=>HW(t,e,i,r);return n?a():nR(a)},XW=EF({scrapeMotionValuesFromProps:PR,createRenderState:OR}),qW=EF({scrapeMotionValuesFromProps:rF,createRenderState:wF}),YW=Symbol.for("motionComponentSymbol");function KW(t,e,n){const i=F.useRef(n);F.useInsertionEffect(()=>{i.current=n});const r=F.useRef(null);return F.useCallback(a=>{a&&t.onMount?.(a),e&&(a?e.mount(a):e.unmount());const s=i.current;if(typeof s=="function")if(a){const l=s(a);typeof l=="function"&&(r.current=l)}else r.current?(r.current(),r.current=null):s(a);else s&&(s.current=a)},[e])}const AF=F.createContext({});function Gv(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZW(t,e,n,i,r,a){const{visualElement:s}=F.useContext(GM),l=F.useContext(bF),u=F.useContext(BM),f=F.useContext(DR).reducedMotion,p=F.useRef(null),g=F.useRef(!1);i=i||l.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,isSVG:a}),g.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const v=p.current,y=F.useContext(AF);v&&!v.projection&&r&&(v.type==="html"||v.type==="svg")&&$W(p.current,n,r,y);const _=F.useRef(!1);F.useInsertionEffect(()=>{v&&_.current&&v.update(n,u)});const w=n[Oz],S=F.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return iR(()=>{g.current=!0,v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),S.current&&v.animationState&&v.animationState.animateChanges())}),F.useEffect(()=>{v&&(!S.current&&v.animationState&&v.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),S.current=!1),v.enteringChildren=void 0)}),v}function $W(t,e,n,i){const{layoutId:r,layout:a,drag:s,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:TF(t.parent)),t.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||l&&Gv(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:u,layoutRoot:f})}function TF(t){if(t)return t.options.allowProjection!==!1?t.projection:TF(t.parent)}function hA(t,{forwardMotionProps:e=!1,type:n}={},i,r){i&&OW(i);const a=n?n==="svg":NR(t),s=a?qW:XW;function l(f,p){let g;const v={...F.useContext(DR),...f,layoutId:QW(f)},{isStatic:y}=v,_=kW(f),w=s(f,y);if(!y&&K2){JW();const S=eX(v);g=S.MeasureLayout,_.visualElement=ZW(t,w,v,r,S.ProjectionNode,a)}return G.jsxs(GM.Provider,{value:_,children:[g&&_.visualElement?G.jsx(g,{visualElement:_.visualElement,...v}):null,GW(t,f,KW(w,_.visualElement,p),w,y,e,a)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=F.forwardRef(l);return u[YW]=t,u}function QW({layoutId:t}){const e=F.useContext(gy).id;return e&&t!==void 0?e+"-"+t:t}function JW(t,e){F.useContext(bF).strict}function eX(t){const e=_F(),{drag:n,layout:i}=e;if(!n&&!i)return{};const r={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function tX(t,e){if(typeof Proxy>"u")return hA;const n=new Map,i=(a,s)=>hA(a,s,t,e),r=(a,s)=>i(a,s);return new Proxy(r,{get:(a,s)=>s==="create"?i:(n.has(s)||n.set(s,hA(s,void 0,t,e)),n.get(s))})}const nX=(t,e)=>e.isSVG??NR(t)?new R7(e):new M7(e,{allowProjection:t!==F.Fragment});class iX extends Rd{constructor(e){super(e),e.animationState||(e.animationState=L7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();VM(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rX=0;class aX extends Rd{constructor(){super(...arguments),this.id=rX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sX={animation:{Feature:iX},exit:{Feature:aX}};function ox(t){return{point:{x:t.pageX,y:t.pageY}}}const oX=t=>e=>AR(e)&&t(e,ox(e));function ey(t,e,n,i){return _y(t,e,oX(n),i)}const CF=({current:t})=>t?t.ownerDocument.defaultView:null,aL=(t,e)=>Math.abs(t-e);function lX(t,e){const n=aL(t.x,e.x),i=aL(t.y,e.y);return Math.sqrt(n**2+i**2)}const sL=new Set(["auto","scroll"]);class RF{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=mA(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,w=lX(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!w)return;const{point:S}=y,{timestamp:M}=_a;this.history.push({...S,timestamp:M});const{onStart:R,onMove:T}=this.handlers;_||(R&&R(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=pA(_,this.transformPagePoint),yi.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:M}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=mA(y.type==="pointercancel"?this.lastMoveEventInfo:pA(_,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,R),S&&S(y,R)},!AR(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=r||window;const u=ox(e),f=pA(u,this.transformPagePoint),{point:p}=f,{timestamp:g}=_a;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,mA(f,this.history)),this.removeListeners=rx(ey(this.contextWindow,"pointermove",this.handlePointerMove),ey(this.contextWindow,"pointerup",this.handlePointerUp),ey(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(sL.has(i.overflowX)||sL.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:r.x-n.x,y:r.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,r),yi.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),_d(this.updatePoint)}}function pA(t,e){return e?{point:e(t.point)}:t}function oL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mA({point:t},e){return{point:t,delta:oL(t,PF(e)),offset:oL(t,uX(e)),velocity:cX(e,.1)}}function uX(t){return t[0]}function PF(t){return t[t.length-1]}function cX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=PF(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>qc(e)));)n--;if(!i)return{x:0,y:0};const a=il(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function fX(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?qi(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?qi(n,t,i.max):Math.min(t,n)),t}function lL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dX(t,{top:e,left:n,bottom:i,right:r}){return{x:lL(t.x,n,r),y:lL(t.y,e,i)}}function uL(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function hX(t,e){return{x:uL(t.x,e.x),y:uL(t.y,e.y)}}function pX(t,e){let n=.5;const i=ms(t),r=ms(e);return r>i?n=vy(e.min,e.max-i,t.min):i>r&&(n=vy(t.min,t.max-r,e.min)),qu(0,1,n)}function mX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const XC=.35;function gX(t=XC){return t===!1?t=0:t===!0&&(t=XC),{x:cL(t,"left","right"),y:cL(t,"top","bottom")}}function cL(t,e,n){return{min:fL(t,e),max:fL(t,n)}}function fL(t,e){return typeof t=="number"?t:t[e]||0}const vX=new WeakMap;class yX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{n?(this.stopAnimation(),this.snapToCursor(ox(g).point)):this.pauseAnimation()},s=(g,v)=>{this.stopAnimation();const{drag:y,dragPropagation:_,onDragStart:w}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e7(y),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),el(M=>{let R=this.getAxisMotionValue(M).get()||0;if(Hu.test(R)){const{projection:T}=this.visualElement;if(T&&T.layout){const P=T.layout.layoutBox[M];P&&(R=ms(P)*(parseFloat(R)/100))}}this.originPoint[M]=R}),w&&yi.postRender(()=>w(g,v)),zC(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:w,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:M}=v;if(_&&this.currentDirection===null){this.currentDirection=xX(M),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,M),this.updateAxis("y",v.point,M),this.visualElement.render(),S&&S(g,v)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>el(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new RF(e,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:CF(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&yi.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!b1(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=fX(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Gv(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=dX(i.layoutBox,e):this.constraints=!1,this.elastic=gX(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&el(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=mX(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gv(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=v7(i,r.root,this.visualElement.getTransformPagePoint());let s=hX(r.layout.layoutBox,a);if(n){const l=n(p7(s));this.hasMutatedConstraints=!!l,l&&(s=Kz(l))}return s}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=el(p=>{if(!b1(p,n,this.currentDirection))return;let g=u&&u[p]||{};s&&(g={min:0,max:0});const v=r?200:1e6,y=r?40:1e7,_={type:"inertia",velocity:i?e[p]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(f).then(l)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return zC(this.visualElement,e),i.start(_R(e,i,0,n,this.visualElement,!1))}stopAnimation(){el(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){el(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){el(n=>{const{drag:i}=this.getProps();if(!b1(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[n],u=a.get()||0;a.set(e[n]-qi(s,l,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Gv(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};el(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const u=l.get();r[s]=pX({min:u,max:u},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),el(s=>{if(!b1(s,e,null))return;const l=this.getAxisMotionValue(s),{min:u,max:f}=this.constraints[s];l.set(qi(u,f,r[s]))})}addListeners(){if(!this.visualElement.current)return;vX.set(this.visualElement,this);const e=this.visualElement.current,n=ey(e,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps(),g=u.target,v=g!==e&&Gz(g);f&&p&&!v&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Gv(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),yi.read(i);const s=_y(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(el(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())}));return()=>{s(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=XC,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function b1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bX extends Rd{constructor(e){super(e),this.removeGroupControls=sl,this.removeListeners=sl,this.controls=new yX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sl}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const dL=t=>(e,n)=>{t&&yi.postRender(()=>t(e,n))};class _X extends Rd{constructor(){super(...arguments),this.removePointerDownListener=sl}onPointerDown(e){this.session=new RF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:dL(e),onStart:dL(n),onMove:i,onEnd:(a,s)=>{delete this.session,r&&yi.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=ey(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let gA=!1;class SX extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),gA&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),k_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,{projection:s}=i;return s&&(s.isPresent=a,e.layoutDependency!==n&&s.setOptions({...s.options,layoutDependency:n}),gA=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||yi.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ER.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;gA=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DF(t){const[e,n]=vF(),i=F.useContext(gy);return G.jsx(SX,{...t,layoutGroup:i,switchLayoutGroup:F.useContext(AF),isPresent:e,safeToRemove:n})}const MX={pan:{Feature:_X},drag:{Feature:bX,ProjectionNode:gF,MeasureLayout:DF}};function hL(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=i[r];a&&yi.postRender(()=>a(e,ox(e)))}class wX extends Rd{mount(){const{current:e}=this.node;e&&(this.unmount=t7(e,(n,i)=>(hL(this.node,i,"Start"),r=>hL(this.node,r,"End"))))}unmount(){}}class EX extends Rd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rx(_y(this.node.current,"focus",()=>this.onFocus()),_y(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pL(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=i[r];a&&yi.postRender(()=>a(e,ox(e)))}class AX extends Rd{mount(){const{current:e}=this.node;e&&(this.unmount=r7(e,(n,i)=>(pL(this.node,i,"Start"),(r,{success:a})=>pL(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qC=new WeakMap,vA=new WeakMap,TX=t=>{const e=qC.get(t.target);e&&e(t)},CX=t=>{t.forEach(TX)};function RX({root:t,...e}){const n=t||document;vA.has(n)||vA.set(n,{});const i=vA.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(CX,{root:t,...e})),i[r]}function PX(t,e,n){const i=RX(e);return qC.set(t,n),i.observe(t),()=>{qC.delete(t),i.unobserve(t)}}const DX={some:0,all:1};class OX extends Rd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:DX[r]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=f?p:g;v&&v(u)};return PX(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NX(e,n))&&this.startObserver()}unmount(){}}function NX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const LX={inView:{Feature:OX},tap:{Feature:AX},focus:{Feature:EX},hover:{Feature:wX}},IX={layout:{ProjectionNode:gF,MeasureLayout:DF}},UX={...sX,...LX,...MX,...IX},Va=tX(UX,nX);function OF(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=OF(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Br(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=OF(t))&&(i&&(i+=" "),i+=e);return i}const NF=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const kX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const zX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const mL=t=>{const e=zX(t);return e.charAt(0).toUpperCase()+e.slice(1)};var FX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const VX=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:s,...l},u)=>F.createElement("svg",{ref:u,...FX,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:NF("lucide",r),...!a&&!BX(l)&&{"aria-hidden":"true"},...l},[...s.map(([f,p])=>F.createElement(f,p)),...Array.isArray(a)?a:[a]]));const Ma=(t,e)=>{const n=F.forwardRef(({className:i,...r},a)=>F.createElement(VX,{ref:a,iconNode:e,className:NF(`lucide-${kX(mL(t))}`,`lucide-${t}`,i),...r}));return n.displayName=mL(t),n};const jX=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iS=Ma("activity",jX);const GX=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],LF=Ma("box",GX);const HX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WX=Ma("calendar",HX);const XX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qX=Ma("chevron-down",XX);const YX=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KX=Ma("clock",YX);const ZX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],$X=Ma("grid-3x3",ZX);const QX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],JX=Ma("layers",QX);const eq=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tq=Ma("map-pin",eq);const nq=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],iq=Ma("pause",nq);const rq=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],aq=Ma("play",rq);const sq=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oq=Ma("radio",sq);const lq=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],gL=Ma("refresh-ccw",lq);const uq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cq=Ma("star",uq);const fq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dq=Ma("user",fq);const hq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pq=Ma("users",hq);const mq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gq=Ma("x",mq);const vq=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yq=Ma("zap",vq);var xq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function LR(t){if(typeof t!="string")return!1;var e=xq;return e.includes(t)}var bq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_q=new Set(bq);function IF(t){return typeof t!="string"?!1:_q.has(t)}function UF(t){return typeof t=="string"&&t.startsWith("data-")}function ll(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(IF(n)||UF(n))&&(e[n]=t[n]);return e}function kF(t){if(t==null)return null;if(F.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ll(e)}return typeof t=="object"&&!Array.isArray(t)?ll(t):null}function rl(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(IF(n)||UF(n)||LR(n))&&(e[n]=t[n]);return e}function Sq(t){return t==null?null:F.isValidElement(t)?rl(t.props):typeof t=="object"&&!Array.isArray(t)?rl(t):null}var Mq=["children","width","height","viewBox","className","style","title","desc"];function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},YC.apply(null,arguments)}function wq(t,e){if(t==null)return{};var n,i,r=Eq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eq(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var zF=F.forwardRef((t,e)=>{var{children:n,width:i,height:r,viewBox:a,className:s,style:l,title:u,desc:f}=t,p=wq(t,Mq),g=a||{width:i,height:r,x:0,y:0},v=Br("recharts-surface",s);return F.createElement("svg",YC({},rl(p),{className:v,width:i,height:r,style:l,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),F.createElement("title",null,u),F.createElement("desc",null,f),n)}),Aq=["children","className"];function KC(){return KC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},KC.apply(null,arguments)}function Tq(t,e){if(t==null)return{};var n,i,r=Cq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cq(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Md=F.forwardRef((t,e)=>{var{children:n,className:i}=t,r=Tq(t,Aq),a=Br("recharts-layer",i);return F.createElement("g",KC({className:a},rl(r),{ref:e}),n)}),Rq=q2(),Pq=F.createContext(null);function _1(t){return function(){return t}}function Dq(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function op(t,e){if((s=t.length)>1)for(var n=1,i,r,a=t[e[0]],s,l=a.length;n<s;++n)for(r=a,a=t[e[n]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function ZC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Oq(t,e){return t[e]}function Nq(t){const e=[];return e.key=t,e}function Lq(){var t=_1([]),e=ZC,n=op,i=Oq;function r(a){var s=Array.from(t.apply(this,arguments),Nq),l,u=s.length,f=-1,p;for(const g of a)for(l=0,++f;l<u;++l)(s[l][f]=[0,+i(g,s[l].key,f,a)]).data=g;for(l=0,p=Dq(e(s));l<u;++l)s[p[l]].index=l;return n(s,p),s}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:_1(Array.from(a)),r):t},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:_1(+a),r):i},r.order=function(a){return arguments.length?(e=a==null?ZC:typeof a=="function"?a:_1(Array.from(a)),r):e},r.offset=function(a){return arguments.length?(n=a??op,r):n},r}function Iq(t,e){if((i=t.length)>0){for(var n,i,r=0,a=t[0].length,s;r<a;++r){for(s=n=0;n<i;++n)s+=t[n][r][1]||0;if(s)for(n=0;n<i;++n)t[n][r][1]/=s}op(t,e)}}function Uq(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,a=i.length;n<a;++n){for(var s=0,l=0;s<r;++s)l+=t[s][n][1]||0;i[n][1]+=i[n][0]=-l/2}op(t,e)}}function kq(t,e){if(!(!((s=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,a,s;i<a;++i){for(var l=0,u=0,f=0;l<s;++l){for(var p=t[e[l]],g=p[i][1]||0,v=p[i-1][1]||0,y=(g-v)/2,_=0;_<l;++_){var w=t[e[_]],S=w[i][1]||0,M=w[i-1][1]||0;y+=S-M}u+=g,f+=y*g}r[i-1][1]+=r[i-1][0]=n,u&&(n-=f/u)}r[i-1][1]+=r[i-1][0]=n,op(t,e)}}var yA={},xA={},vL;function zq(){return vL||(vL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(xA)),xA}var bA={},yL;function Fq(){return yL||(yL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(bA)),bA}var _A={},xL;function FF(){return xL||(xL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(_A)),_A}var SA={},MA={},bL;function Bq(){return bL||(bL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}t.toString=e})(MA)),MA}var _L;function BF(){return _L||(_L=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bq(),n=FF();function i(r){if(Array.isArray(r))return r.map(n.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const a=[],s=r.length;if(s===0)return a;let l=0,u="",f="",p=!1;for(r.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const g=r[l];f?g==="\\"&&l+1<s?(l++,u+=r[l]):g===f?f="":u+=g:p?g==='"'||g==="'"?f=g:g==="]"?(p=!1,a.push(u),u=""):u+=g:g==="["?(p=!0,u&&(a.push(u),u="")):g==="."?u&&(a.push(u),u=""):u+=g,l++}return u&&a.push(u),a}t.toPath=i})(SA)),SA}var SL;function Vq(){return SL||(SL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zq(),n=Fq(),i=FF(),r=BF();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const p=l[u];return p===void 0?n.isDeepKey(u)?a(l,r.toPath(u),f):f:p}case"number":case"symbol":{typeof u=="number"&&(u=i.toKey(u));const p=l[u];return p===void 0?f:p}default:{if(Array.isArray(u))return s(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const p=l[u];return p===void 0?f:p}}}function s(l,u,f){if(u.length===0)return f;let p=l;for(let g=0;g<u.length;g++){if(p==null||e.isUnsafeProperty(u[g]))return f;p=p[u[g]]}return p===void 0?f:p}t.get=a})(yA)),yA}var wA,ML;function jq(){return ML||(ML=1,wA=Vq().get),wA}var Gq=jq();const VF=lf(Gq);var Hq=4;function jF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hq,n=10**e,i=Math.round(t*n)/n;return Object.is(i,-0)?0:i}function Wq(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.reduce((r,a,s)=>{var l=n[s-1];return typeof l=="string"?r+l+a:l!==void 0?r+jF(l)+a:r+a},"")}var md=t=>t===0?0:t>0?1:-1,Qc=t=>typeof t=="number"&&t!=+t,lp=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,si=t=>(typeof t=="number"||t instanceof Number)&&!Qc(t),Sy=t=>si(t)||typeof t=="string",Xq=0,My=t=>{var e=++Xq;return"".concat(t||"").concat(e)},up=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!si(e)&&typeof e!="string")return i;var a;if(lp(e)){if(n==null)return i;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Qc(a)&&(a=i),r&&n!=null&&a>n&&(a=n),a},GF=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[String(t[i])])n[String(t[i])]=!0;else return!0;return!1};function S1(t,e,n){return si(t)&&si(e)?jF(t+n*(e-t)):e}function HF(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):VF(i,e))===n)}var Wa=t=>t===null||typeof t>"u",WF=t=>Wa(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Fu(t){return t!=null}function Mp(){}var XF=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{LR(r)&&(i[r]=(a=>n[r](n,a)))}),i},qq=(t,e,n)=>i=>(t(e,n,i),null),Yq=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(r=>{var a=t[r];LR(r)&&typeof a=="function"&&(i||(i={}),i[r]=qq(a,e,n))}),i};function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Kq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(i){Zq(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Zq(t,e,n){return(e=$q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $q(t){var e=Qq(t,"string");return typeof e=="symbol"?e:e+""}function Qq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pd(t,e){var n=Kq({},t),i=e,r=Object.keys(e),a=r.reduce((s,l)=>(s[l]===void 0&&i[l]!==void 0&&(s[l]=i[l]),s),n);return a}var EA={},AA={},EL;function Jq(){return EL||(EL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(AA)),AA}var AL;function qF(){return AL||(AL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jq();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(EA)),EA}var TA={},TL;function eY(){return TL||(TL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(TA)),TA}var CA={},CL;function tY(){return CL||(CL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.isEqualsSameValueZero=e})(CA)),CA}var RA={},RL;function nY(){return RL||(RL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(RA)),RA}var PA={exports:{}},DA={},OA={exports:{}},NA={};var PL;function iY(){if(PL)return NA;PL=1;var t=zg();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(g,v){var y=v(),_=i({inst:{value:y,getSnapshot:v}}),w=_[0].inst,S=_[1];return a(function(){w.value=y,w.getSnapshot=v,u(w)&&S({inst:w})},[g,y,v]),r(function(){return u(w)&&S({inst:w}),g(function(){u(w)&&S({inst:w})})},[g]),s(y),y}function u(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!n(g,y)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return NA.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,NA}var DL;function rY(){return DL||(DL=1,OA.exports=iY()),OA.exports}var OL;function aY(){if(OL)return DA;OL=1;var t=zg(),e=rY();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return DA.useSyncExternalStoreWithSelector=function(f,p,g,v,y){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function M(N){if(!R){if(R=!0,T=N,N=v(N),y!==void 0&&w.hasValue){var k=w.value;if(y(k,N))return P=k}return P=N}if(k=P,i(T,N))return k;var z=v(N);return y!==void 0&&y(k,z)?(T=N,k):(T=N,P=z)}var R=!1,T,P,O=g===void 0?null:g;return[function(){return M(p())},O===null?void 0:function(){return M(O())}]},[p,g,v,y]);var S=r(f,_[0],_[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},DA}var NL;function sY(){return NL||(NL=1,PA.exports=aY()),PA.exports}var YF=sY();const oY=lf(YF);var IR=F.createContext(null),lY=t=>t,ea=()=>{var t=F.useContext(IR);return t?t.store.dispatch:lY},z_=()=>{},uY=()=>z_,cY=(t,e)=>t===e;function zn(t){var e=F.useContext(IR),n=F.useMemo(()=>e?i=>{if(i!=null)return t(i)}:z_,[e,t]);return YF.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:uY,e?e.store.getState:z_,e?e.store.getState:z_,n,cY)}function fY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function dY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function hY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var LL=t=>Array.isArray(t)?t:[t];function pY(t){const e=Array.isArray(t[0])?t[0]:t;return hY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function mY(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var gY=class{constructor(t){this.value=t}deref(){return this.value}},vY=typeof WeakRef<"u"?WeakRef:gY,yY=0,IL=1;function M1(){return{s:yY,v:void 0,o:null,p:null}}function KF(t,e={}){let n=M1();const{resultEqualityCheck:i}=e;let r,a=0;function s(){let l=n;const{length:u}=arguments;for(let g=0,v=u;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=l.o;_===null&&(l.o=_=new WeakMap);const w=_.get(y);w===void 0?(l=M1(),_.set(y,l)):l=w}else{let _=l.p;_===null&&(l.p=_=new Map);const w=_.get(y);w===void 0?(l=M1(),_.set(y,l)):l=w}}const f=l;let p;if(l.s===IL)p=l.v;else if(p=t.apply(null,arguments),a++,i){const g=r?.deref?.()??r;g!=null&&i(g,p)&&(p=g,a!==0&&a--),r=typeof p=="object"&&p!==null||typeof p=="function"?new vY(p):p}return f.s=IL,f.v=p,p}return s.clearCache=()=>{n=M1(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function xY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...r)=>{let a=0,s=0,l,u={},f=r.pop();typeof f=="object"&&(u=f,f=r.pop()),fY(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...u},{memoize:g,memoizeOptions:v=[],argsMemoize:y=KF,argsMemoizeOptions:_=[]}=p,w=LL(v),S=LL(_),M=pY(r),R=g(function(){return a++,f.apply(null,arguments)},...w),T=y(function(){s++;const O=mY(M,arguments);return l=R.apply(null,O),l},...S);return Object.assign(T,{resultFunc:f,memoizedResultFunc:R,dependencies:M,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var Ie=xY(KF),bY=Object.assign((t,e=Ie)=>{dY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(a=>t[a]);return e(i,(...a)=>a.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>bY}),LA={},IA={},UA={},UL;function _Y(){return UL||(UL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,a)=>{if(i!==r){const s=e(i),l=e(r);if(s===l&&s===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(UA)),UA}var kA={},zA={},kL;function ZF(){return kL||(kL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(zA)),zA}var zL;function SY(){return zL||(zL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZF(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=r})(kA)),kA}var FL;function MY(){return FL||(FL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Y(),n=SY(),i=BF();function r(a,s,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const f=(y,_)=>{let w=y;for(let S=0;S<_.length&&w!=null;++S)w=w[_[S]];return w},p=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:f(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?f(_,y):typeof _=="object"?_[y]:_,g=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:i.toPath(y)}));return a.map(y=>({original:y,criteria:g.map(_=>p(_,y))})).slice().sort((y,_)=>{for(let w=0;w<g.length;w++){const S=e.compareValues(y.criteria[w],_.criteria[w],l[w]);if(S!==0)return S}return 0}).map(y=>y.original)}t.orderBy=r})(IA)),IA}var FA={},BL;function wY(){return BL||(BL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const r=[],a=Math.floor(i),s=(l,u)=>{for(let f=0;f<l.length;f++){const p=l[f];Array.isArray(p)&&u<a?s(p,u+1):r.push(p)}};return s(n,0),r}t.flatten=e})(FA)),FA}var BA={},VL;function $F(){return VL||(VL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nY(),n=qF(),i=eY(),r=tY();function a(s,l,u){return i.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?r.isEqualsSameValueZero(u[l],s):!1}t.isIterateeCall=a})(BA)),BA}var jL;function EY(){return jL||(jL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MY(),n=wY(),i=$F();function r(a,...s){const l=s.length;return l>1&&i.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&i.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=r})(LA)),LA}var VA,GL;function AY(){return GL||(GL=1,VA=EY().sortBy),VA}var TY=AY();const UR=lf(TY);var QF=t=>t.legend.settings,CY=t=>t.legend.size,RY=t=>t.legend.payload;Ie([RY,QF],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?UR(i,n):i});function xa(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PY=typeof Symbol=="function"&&Symbol.observable||"@@observable",HL=PY,jA=()=>Math.random().toString(36).substring(7).split("").join("."),DY={INIT:`@@redux/INIT${jA()}`,REPLACE:`@@redux/REPLACE${jA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jA()}`},rS=DY;function kR(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function JF(t,e,n){if(typeof t!="function")throw new Error(xa(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xa(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xa(1));return n(JF)(t,e)}let i=t,r=e,a=new Map,s=a,l=0,u=!1;function f(){s===a&&(s=new Map,a.forEach((S,M)=>{s.set(M,S)}))}function p(){if(u)throw new Error(xa(3));return r}function g(S){if(typeof S!="function")throw new Error(xa(4));if(u)throw new Error(xa(5));let M=!0;f();const R=l++;return s.set(R,S),function(){if(M){if(u)throw new Error(xa(6));M=!1,f(),s.delete(R),a=null}}}function v(S){if(!kR(S))throw new Error(xa(7));if(typeof S.type>"u")throw new Error(xa(8));if(typeof S.type!="string")throw new Error(xa(17));if(u)throw new Error(xa(9));try{u=!0,r=i(r,S)}finally{u=!1}return(a=s).forEach(R=>{R()}),S}function y(S){if(typeof S!="function")throw new Error(xa(10));i=S,v({type:rS.REPLACE})}function _(){const S=g;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(xa(11));function R(){const P=M;P.next&&P.next(p())}return R(),{unsubscribe:S(R)}},[HL](){return this}}}return v({type:rS.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:y,[HL]:_}}function OY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:rS.INIT})>"u")throw new Error(xa(12));if(typeof n(void 0,{type:rS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xa(13))})}function eB(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const i=Object.keys(n);let r;try{OY(n)}catch(a){r=a}return function(s={},l){if(r)throw r;let u=!1;const f={};for(let p=0;p<i.length;p++){const g=i[p],v=n[g],y=s[g],_=v(y,l);if(typeof _>"u")throw l&&l.type,new Error(xa(14));f[g]=_,u=u||_!==y}return u=u||i.length!==Object.keys(s).length,u?f:s}}function aS(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function NY(...t){return e=>(n,i)=>{const r=e(n,i);let a=()=>{throw new Error(xa(15))};const s={getState:r.getState,dispatch:(u,...f)=>a(u,...f)},l=t.map(u=>u(s));return a=aS(...l)(r.dispatch),{...r,dispatch:a}}}function tB(t){return kR(t)&&"type"in t&&typeof t.type=="string"}var nB=Symbol.for("immer-nothing"),WL=Symbol.for("immer-draftable"),ys=Symbol.for("immer-state");function zl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var mo=Object,wg=mo.getPrototypeOf,sS="constructor",HM="prototype",$C="configurable",oS="enumerable",F_="writable",wy="value",Jc=t=>!!t&&!!t[ys];function Xl(t){return t?iB(t)||XM(t)||!!t[WL]||!!t[sS]?.[WL]||qM(t)||YM(t):!1}var LY=mo[HM][sS].toString(),XL=new WeakMap;function iB(t){if(!t||!zR(t))return!1;const e=wg(t);if(e===null||e===mo[HM])return!0;const n=mo.hasOwnProperty.call(e,sS)&&e[sS];if(n===Object)return!0;if(!og(n))return!1;let i=XL.get(n);return i===void 0&&(i=Function.toString.call(n),XL.set(n,i)),i===LY}function WM(t,e,n=!0){lx(t)===0?(n?Reflect.ownKeys(t):mo.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function lx(t){const e=t[ys];return e?e.type_:XM(t)?1:qM(t)?2:YM(t)?3:0}var qL=(t,e,n=lx(t))=>n===2?t.has(e):mo[HM].hasOwnProperty.call(t,e),QC=(t,e,n=lx(t))=>n===2?t.get(e):t[e],lS=(t,e,n,i=lx(t))=>{i===2?t.set(e,n):i===3?t.add(n):t[e]=n};function IY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var XM=Array.isArray,qM=t=>t instanceof Map,YM=t=>t instanceof Set,zR=t=>typeof t=="object",og=t=>typeof t=="function",GA=t=>typeof t=="boolean";function UY(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Bc=t=>t.copy_||t.base_,FR=t=>t.modified_?t.copy_:t.base_;function JC(t,e){if(qM(t))return new Map(t);if(YM(t))return new Set(t);if(XM(t))return Array[HM].slice.call(t);const n=iB(t);if(e===!0||e==="class_only"&&!n){const i=mo.getOwnPropertyDescriptors(t);delete i[ys];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const s=r[a],l=i[s];l[F_]===!1&&(l[F_]=!0,l[$C]=!0),(l.get||l.set)&&(i[s]={[$C]:!0,[F_]:!0,[oS]:l[oS],[wy]:t[s]})}return mo.create(wg(t),i)}else{const i=wg(t);if(i!==null&&n)return{...t};const r=mo.create(i);return mo.assign(r,t)}}function BR(t,e=!1){return KM(t)||Jc(t)||!Xl(t)||(lx(t)>1&&mo.defineProperties(t,{set:w1,add:w1,clear:w1,delete:w1}),mo.freeze(t),e&&WM(t,(n,i)=>{BR(i,!0)},!1)),t}function kY(){zl(2)}var w1={[wy]:kY};function KM(t){return t===null||!zR(t)?!0:mo.isFrozen(t)}var uS="MapSet",e3="Patches",YL="ArrayMethods",rB={};function cp(t){const e=rB[t];return e||zl(0,t),e}var KL=t=>!!rB[t],Ey,aB=()=>Ey,zY=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:KL(uS)?cp(uS):void 0,arrayMethodsPlugin_:KL(YL)?cp(YL):void 0});function ZL(t,e){e&&(t.patchPlugin_=cp(e3),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function t3(t){n3(t),t.drafts_.forEach(FY),t.drafts_=null}function n3(t){t===Ey&&(Ey=t.parent_)}var $L=t=>Ey=zY(Ey,t);function FY(t){const e=t[ys];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ys].modified_&&(t3(e),zl(4)),Xl(t)&&(t=JL(e,t));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(n[ys].base_,t,e)}else t=JL(e,n);return BY(e,t,!0),t3(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nB?t:void 0}function JL(t,e){if(KM(e))return e;const n=e[ys];if(!n)return cS(e,t.handledSet_,t);if(!ZM(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:i}=n;if(i)for(;i.length>0;)i.pop()(t);lB(n,t)}return n.copy_}function BY(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&BR(e,n)}function sB(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var ZM=(t,e)=>t.scope_===e,VY=[];function oB(t,e,n,i){const r=Bc(t),a=t.type_;if(i!==void 0&&QC(r,i,a)===e){lS(r,i,n,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;WM(r,(u,f)=>{if(Jc(f)){const p=l.get(f)||[];p.push(u),l.set(f,p)}})}const s=t.draftLocations_.get(e)??VY;for(const l of s)lS(r,l,n,a)}function jY(t,e,n){t.callbacks_.push(function(r){const a=e;if(!a||!ZM(a,r))return;r.mapSetPlugin_?.fixSetContents(a);const s=FR(a);oB(t,a.draft_??a,s,n),lB(a,r)})}function lB(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:i}=e;if(i){const r=i.getPath(t);r&&i.generatePatches_(t,r,e)}sB(t)}}function GY(t,e,n){const{scope_:i}=t;if(Jc(n)){const r=n[ys];ZM(r,i)&&r.callbacks_.push(function(){B_(t);const s=FR(r);oB(t,n,s,e)})}else Xl(n)&&t.callbacks_.push(function(){const a=Bc(t);t.type_===3?a.has(n)&&cS(n,i.handledSet_,i):QC(a,e,t.type_)===n&&i.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&cS(QC(t.copy_,e,t.type_),i.handledSet_,i)})}function cS(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Jc(t)||e.has(t)||!Xl(t)||KM(t)||(e.add(t),WM(t,(i,r)=>{if(Jc(r)){const a=r[ys];if(ZM(a,n)){const s=FR(a);lS(t,i,s,t.type_),sB(a)}}else Xl(r)&&cS(r,e,n)})),t}function HY(t,e){const n=XM(t),i={type_:n?1:0,scope_:e?e.scope_:aB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,a=fS;n&&(r=[i],a=Ay);const{revoke:s,proxy:l}=Proxy.revocable(r,a);return i.draft_=l,i.revoke_=s,[l,i]}var fS={get(t,e){if(e===ys)return t;let n=t.scope_.arrayMethodsPlugin_;const i=t.type_===1&&typeof e=="string";if(i&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const r=Bc(t);if(!qL(r,e,t.type_))return WY(t,r,e);const a=r[e];if(t.finalized_||!Xl(a)||i&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&UY(e))return a;if(a===HA(t.base_,e)){B_(t);const s=t.type_===1?+e:e,l=r3(t.scope_,a,t,s);return t.copy_[s]=l}return a},has(t,e){return e in Bc(t)},ownKeys(t){return Reflect.ownKeys(Bc(t))},set(t,e,n){const i=uB(Bc(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=HA(Bc(t),e),a=r?.[ys];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(IY(n,r)&&(n!==void 0||qL(t.base_,e,t.type_)))return!0;B_(t),i3(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),GY(t,e,n)),!0},deleteProperty(t,e){return B_(t),HA(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),i3(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Bc(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{[F_]:!0,[$C]:t.type_!==1||e!=="length",[oS]:i[oS],[wy]:n[e]}},defineProperty(){zl(11)},getPrototypeOf(t){return wg(t.base_)},setPrototypeOf(){zl(12)}},Ay={};for(let t in fS){let e=fS[t];Ay[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Ay.deleteProperty=function(t,e){return Ay.set.call(this,t,e,void 0)};Ay.set=function(t,e,n){return fS.set.call(this,t[0],e,n,t[0])};function HA(t,e){const n=t[ys];return(n?Bc(n):t)[e]}function WY(t,e,n){const i=uB(e,n);return i?wy in i?i[wy]:i.get?.call(t.draft_):void 0}function uB(t,e){if(!(e in t))return;let n=wg(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=wg(n)}}function i3(t){t.modified_||(t.modified_=!0,t.parent_&&i3(t.parent_))}function B_(t){t.copy_||(t.assigned_=new Map,t.copy_=JC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var XY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,r)=>{if(og(n)&&!og(i)){const s=i;i=n;const l=this;return function(f=s,...p){return l.produce(f,g=>i.call(this,g,...p))}}og(i)||zl(6),r!==void 0&&!og(r)&&zl(7);let a;if(Xl(n)){const s=$L(this),l=r3(s,n,void 0);let u=!0;try{a=i(l),u=!1}finally{u?t3(s):n3(s)}return ZL(s,r),QL(a,s)}else if(!n||!zR(n)){if(a=i(n),a===void 0&&(a=n),a===nB&&(a=void 0),this.autoFreeze_&&BR(a,!0),r){const s=[],l=[];cp(e3).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:l}),r(s,l)}return a}else zl(1,n)},this.produceWithPatches=(n,i)=>{if(og(n))return(l,...u)=>this.produceWithPatches(l,f=>n(f,...u));let r,a;return[this.produce(n,i,(l,u)=>{r=l,a=u}),r,a]},GA(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),GA(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),GA(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xl(e)||zl(8),Jc(e)&&(e=Gl(e));const n=$L(this),i=r3(n,e,void 0);return i[ys].isManual_=!0,n3(n),i}finishDraft(e,n){const i=e&&e[ys];(!i||!i.isManual_)&&zl(9);const{scope_:r}=i;return ZL(r,n),QL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const a=n[i];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}i>-1&&(n=n.slice(i+1));const r=cp(e3).applyPatches_;return Jc(e)?r(e,n):this.produce(e,a=>r(a,n))}};function r3(t,e,n,i){const[r,a]=qM(e)?cp(uS).proxyMap_(e,n):YM(e)?cp(uS).proxySet_(e,n):HY(e,n);return(n?.scope_??aB()).drafts_.push(r),a.callbacks_=n?.callbacks_??[],a.key_=i,n&&i!==void 0?jY(n,a,i):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),r}function Gl(t){return Jc(t)||zl(10,t),cB(t)}function cB(t){if(!Xl(t)||KM(t))return t;const e=t[ys];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=JC(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=JC(t,!0);return WM(n,(r,a)=>{lS(n,r,cB(a))},i),e&&(e.finalized_=!1),n}var qY=new XY,fB=qY.produce;function dB(t){return({dispatch:n,getState:i})=>r=>a=>typeof a=="function"?a(n,i,t):r(a)}var YY=dB(),KY=dB,ZY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?aS:aS.apply(null,arguments)};function ul(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(yo(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>tB(i)&&i.type===t,n}var hB=class Hv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hv.prototype)}static get[Symbol.species](){return Hv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hv(...e[0].concat(this)):new Hv(...e.concat(this))}};function eI(t){return Xl(t)?fB(t,()=>{}):t}function E1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $Y(t){return typeof t=="boolean"}var QY=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let s=new hB;return n&&($Y(n)?s.push(YY):s.push(KY(n.extraArgument))),s},pB="RTK_autoBatch",Ii=()=>t=>({payload:t,meta:{[pB]:!0}}),tI=t=>e=>{setTimeout(e,t)},mB=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,a=!1,s=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tI(10):t.type==="callback"?t.queueNotification:tI(t.timeout),f=()=>{s=!1,a&&(a=!1,l.forEach(p=>p()))};return Object.assign({},i,{subscribe(p){const g=()=>r&&p(),v=i.subscribe(g);return l.add(p),()=>{v(),l.delete(p)}},dispatch(p){try{return r=!p?.meta?.[pB],a=!r,a&&(s||(s=!0,u(f))),i.dispatch(p)}finally{r=!0}}})},JY=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new hB(t);return i&&r.push(mB(typeof i=="object"?i:void 0)),r};function eK(t){const e=QY(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(kR(n))l=eB(n);else throw new Error(yo(1));let u;typeof i=="function"?u=i(e):u=e();let f=aS;r&&(f=ZY({trace:!1,...typeof r=="object"&&r}));const p=NY(...u),g=JY(p);let v=typeof s=="function"?s(g):g();const y=f(...v);return JF(l,a,y)}function gB(t){const e={},n=[];let i;const r={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(yo(28));if(l in e)throw new Error(yo(29));return e[l]=s,r},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),r},addMatcher(a,s){return n.push({matcher:a,reducer:s}),r},addDefaultCase(a){return i=a,r}};return t(r),[e,n,i]}function tK(t){return typeof t=="function"}function nK(t,e){let[n,i,r]=gB(e),a;if(tK(t))a=()=>eI(t());else{const l=eI(t);a=()=>l}function s(l=a(),u){let f=[n[u.type],...i.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[r]),f.reduce((p,g)=>{if(g)if(Jc(p)){const y=g(p,u);return y===void 0?p:y}else{if(Xl(p))return fB(p,v=>g(v,u));{const v=g(p,u);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},l)}return s.getInitialState=a,s}var iK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rK=(t=21)=>{let e="",n=t;for(;n--;)e+=iK[Math.random()*64|0];return e},aK=Symbol.for("rtk-slice-createasyncthunk");function sK(t,e){return`${t}/${e}`}function oK({creators:t}={}){const e=t?.asyncThunk?.[aK];return function(i){const{name:r,reducerPath:a=r}=i;if(!r)throw new Error(yo(11));const s=(typeof i.reducers=="function"?i.reducers(uK()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(T,P){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(yo(12));if(O in u.sliceCaseReducersByType)throw new Error(yo(13));return u.sliceCaseReducersByType[O]=P,f},addMatcher(T,P){return u.sliceMatchers.push({matcher:T,reducer:P}),f},exposeAction(T,P){return u.actionCreators[T]=P,f},exposeCaseReducer(T,P){return u.sliceCaseReducersByName[T]=P,f}};l.forEach(T=>{const P=s[T],O={reducerName:T,type:sK(r,T),createNotation:typeof i.reducers=="function"};fK(P)?hK(O,P,f,e):cK(O,P,f)});function p(){const[T={},P=[],O=void 0]=typeof i.extraReducers=="function"?gB(i.extraReducers):[i.extraReducers],N={...T,...u.sliceCaseReducersByType};return nK(i.initialState,k=>{for(let z in N)k.addCase(z,N[z]);for(let z of u.sliceMatchers)k.addMatcher(z.matcher,z.reducer);for(let z of P)k.addMatcher(z.matcher,z.reducer);O&&k.addDefaultCase(O)})}const g=T=>T,v=new Map,y=new WeakMap;let _;function w(T,P){return _||(_=p()),_(T,P)}function S(){return _||(_=p()),_.getInitialState()}function M(T,P=!1){function O(k){let z=k[T];return typeof z>"u"&&P&&(z=E1(y,O,S)),z}function N(k=g){const z=E1(v,P,()=>new WeakMap);return E1(z,k,()=>{const I={};for(const[U,W]of Object.entries(i.selectors??{}))I[U]=lK(W,k,()=>E1(y,k,S),P);return I})}return{reducerPath:T,getSelectors:N,get selectors(){return N(O)},selectSlice:O}}const R={name:r,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...M(a),injectInto(T,{reducerPath:P,...O}={}){const N=P??a;return T.inject({reducerPath:N,reducer:w},O),{...R,...M(N,!0)}}};return R}}function lK(t,e,n,i){function r(a,...s){let l=e(a);return typeof l>"u"&&i&&(l=n()),t(l,...s)}return r.unwrapped=t,r}var Js=oK();function uK(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function cK({type:t,reducerName:e,createNotation:n},i,r){let a,s;if("reducer"in i){if(n&&!dK(i))throw new Error(yo(17));a=i.reducer,s=i.prepare}else a=i;r.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?ul(t,s):ul(t))}function fK(t){return t._reducerDefinitionType==="asyncThunk"}function dK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hK({type:t,reducerName:e},n,i,r){if(!r)throw new Error(yo(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:u,settled:f,options:p}=n,g=r(t,a,p);i.exposeAction(e,g),s&&i.addCase(g.fulfilled,s),l&&i.addCase(g.pending,l),u&&i.addCase(g.rejected,u),f&&i.addMatcher(g.settled,f),i.exposeCaseReducer(e,{fulfilled:s||A1,pending:l||A1,rejected:u||A1,settled:f||A1})}function A1(){}var pK="task",vB="listener",yB="completed",VR="cancelled",mK=`task-${VR}`,gK=`task-${yB}`,a3=`${vB}-${VR}`,vK=`${vB}-${yB}`,$M=class{constructor(t){this.code=t,this.message=`${pK} ${VR} (reason: ${t})`}name="TaskAbortError";message},jR=(t,e)=>{if(typeof t!="function")throw new TypeError(yo(32))},dS=()=>{},xB=(t,e=dS)=>(t.catch(e),t),bB=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Qh=t=>{if(t.aborted)throw new $M(t.reason)};function _B(t,e){let n=dS;return new Promise((i,r)=>{const a=()=>r(new $M(t.reason));if(t.aborted){a();return}n=bB(t,a),e.finally(()=>n()).then(i,r)}).finally(()=>{n=dS})}var yK=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof $M?"cancelled":"rejected",error:n}}finally{e?.()}},hS=t=>e=>xB(_B(t,e).then(n=>(Qh(t),n))),SB=t=>{const e=hS(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:xg}=Object,nI={},QM="listenerMiddleware",xK=(t,e)=>{const n=i=>bB(t,()=>i.abort(t.reason));return(i,r)=>{jR(i);const a=new AbortController;n(a);const s=yK(async()=>{Qh(t),Qh(a.signal);const l=await i({pause:hS(a.signal),delay:SB(a.signal),signal:a.signal});return Qh(a.signal),l},()=>a.abort(gK));return r?.autoJoin&&e.push(s.catch(dS)),{result:hS(t)(s),cancel(){a.abort(mK)}}}},bK=(t,e)=>{const n=async(i,r)=>{Qh(e);let a=()=>{};const l=[new Promise((u,f)=>{let p=t({predicate:i,effect:(g,v)=>{v.unsubscribe(),u([g,v.getState(),v.getOriginalState()])}});a=()=>{p(),f()}})];r!=null&&l.push(new Promise(u=>setTimeout(u,r,null)));try{const u=await _B(e,Promise.race(l));return Qh(e),u}finally{a()}};return(i,r)=>xB(n(i,r))},MB=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:a}=t;if(e)r=ul(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(yo(21));return jR(a),{predicate:r,type:e,effect:a}},wB=xg(t=>{const{type:e,predicate:n,effect:i}=MB(t);return{id:rK(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(yo(22))}}},{withTypes:()=>wB}),iI=(t,e)=>{const{type:n,effect:i,predicate:r}=MB(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===r)&&a.effect===i)},s3=t=>{t.pending.forEach(e=>{e.abort(a3)})},_K=(t,e)=>()=>{for(const n of e.keys())s3(n);t.clear()},rI=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},EB=xg(ul(`${QM}/add`),{withTypes:()=>EB}),SK=ul(`${QM}/removeAll`),AB=xg(ul(`${QM}/remove`),{withTypes:()=>AB}),MK=(...t)=>{console.error(`${QM}/error`,...t)},ux=(t={})=>{const e=new Map,n=new Map,i=y=>{const _=n.get(y)??0;n.set(y,_+1)},r=y=>{const _=n.get(y)??1;_===1?n.delete(y):n.set(y,_-1)},{extra:a,onError:s=MK}=t;jR(s);const l=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),_=>{y.unsubscribe(),_?.cancelActive&&s3(y)}),u=y=>{const _=iI(e,y)??wB(y);return l(_)};xg(u,{withTypes:()=>u});const f=y=>{const _=iI(e,y);return _&&(_.unsubscribe(),y.cancelActive&&s3(_)),!!_};xg(f,{withTypes:()=>f});const p=async(y,_,w,S)=>{const M=new AbortController,R=bK(u,M.signal),T=[];try{y.pending.add(M),i(y),await Promise.resolve(y.effect(_,xg({},w,{getOriginalState:S,condition:(P,O)=>R(P,O).then(Boolean),take:R,delay:SB(M.signal),pause:hS(M.signal),extra:a,signal:M.signal,fork:xK(M.signal,T),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,O,N)=>{P!==M&&(P.abort(a3),N.delete(P))})},cancel:()=>{M.abort(a3),y.pending.delete(M)},throwIfCancelled:()=>{Qh(M.signal)}})))}catch(P){P instanceof $M||rI(s,P,{raisedBy:"effect"})}finally{await Promise.all(T),M.abort(vK),r(y),y.pending.delete(M)}},g=_K(e,n);return{middleware:y=>_=>w=>{if(!tB(w))return _(w);if(EB.match(w))return u(w.payload);if(SK.match(w)){g();return}if(AB.match(w))return f(w.payload);let S=y.getState();const M=()=>{if(S===nI)throw new Error(yo(23));return S};let R;try{if(R=_(w),e.size>0){const T=y.getState(),P=Array.from(e.values());for(const O of P){let N=!1;try{N=O.predicate(w,T,S)}catch(k){N=!1,rI(s,k,{raisedBy:"predicate"})}N&&p(O,w,y,M)}}}finally{S=nI}return R},startListening:u,stopListening:f,clearListeners:g}};function yo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TB=Js({name:"chartLayout",initialState:wK,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,r,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:EK,setLayout:AK,setChartSize:TK,setScale:CK}=TB.actions,RK=TB.reducer;function CB(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function xi(t){return Number.isFinite(t)}function wd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(i){PK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function PK(t,e,n){return(e=DK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=OK(t,"string");return typeof e=="symbol"?e:e+""}function OK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kr(t,e,n){return Wa(t)||Wa(e)?n:Sy(e)?VF(t,e,n):typeof e=="function"?e(t):n}var NK=(t,e,n)=>{if(e&&n){var{width:i,height:r}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&si(t[a]))return dg(dg({},t),{},{[a]:t[a]+(i||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&si(t[s]))return dg(dg({},t),{},{[s]:t[s]+(r||0)})}return t},uf=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",LK=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var u=t[l],f=u?.[r];if(f!=null){var p=f[1],g=f[0],v=Qc(p)?g:p;v>=0?(f[0]=a,a+=v,f[1]=a):(f[0]=s,s+=v,f[1]=s)}}}},IK=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var a=0,s=0;s<n;++s){var l=t[s],u=l?.[r];if(u!=null){var f=Qc(u[1])?u[0]:u[1];f>=0?(u[0]=a,a+=f,u[1]=a):(u[0]=0,u[1]=0)}}}},UK={sign:LK,expand:Iq,none:op,silhouette:Uq,wiggle:kq,positive:IK},kK=(t,e,n)=>{var i,r=(i=UK[n])!==null&&i!==void 0?i:op,a=Lq().keys(e).value((l,u)=>Number(kr(l,u,0))).order(ZC).offset(r),s=a(t);return s.forEach((l,u)=>{l.forEach((f,p)=>{var g=kr(t[p],e[u],0);Array.isArray(g)&&g.length===2&&si(g[0])&&si(g[1])&&(f[0]=g[0],f[1]=g[1])})}),s};function Uye(t){return t==null?void 0:String(t)}function kye(t){var{axis:e,ticks:n,bandSize:i,entry:r,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Wa(r[e.dataKey])){var l=HF(n,"value",r[e.dataKey]);if(l)return l.coordinate+i/2}return n!=null&&n[a]?n[a].coordinate+i/2:null}var u=kr(r,Wa(s)?e.dataKey:s),f=e.scale.map(u);return si(f)?f:null}var zK=t=>{var e=t.flat(2).filter(si);return[Math.min(...e),Math.max(...e)]},FK=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],BK=(t,e,n)=>{if(t!=null)return FK(Object.keys(t).reduce((i,r)=>{var a=t[r];if(!a)return i;var{stackedData:s}=a,l=s.reduce((u,f)=>{var p=CB(f,e,n),g=zK(p);return!xi(g[0])||!xi(g[1])?u:[Math.min(u[0],g[0]),Math.max(u[1],g[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]))},sI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lI=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();return i}if(t&&e&&e.length>=2){for(var r=UR(e,p=>p.coordinate),a=1/0,s=1,l=r.length;s<l;s++){var u=r[s],f=r[s-1];a=Math.min((u?.coordinate||0)-(f?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function uI(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:r,name:a}=t;return dg(dg({},e),{},{dataKey:n,payload:i,value:r,name:a})}function RB(t,e){if(t)return String(t);if(typeof e=="string")return e}var VK=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},jK=(t,e)=>e==="centric"?t.angle:t.radius,cf=t=>t.layout.width,ff=t=>t.layout.height,GK=t=>t.layout.scale,PB=t=>t.layout.margin,JM=Ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),ew=Ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),HK="data-recharts-item-index",WK="data-recharts-item-id",cx=60;function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function T1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(i){XK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function XK(t,e,n){return(e=qK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qK(t){var e=YK(t,"string");return typeof e=="symbol"?e:e+""}function YK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KK=t=>t.brush.height;function ZK(t){var e=ew(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:cx;return n+r}return n},0)}function $K(t){var e=ew(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:cx;return n+r}return n},0)}function QK(t){var e=JM(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function JK(t){var e=JM(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var Xa=Ie([cf,ff,PB,KK,ZK,$K,QK,JK,QF,CY],(t,e,n,i,r,a,s,l,u,f)=>{var p={left:(n.left||0)+r,right:(n.right||0)+a},g={top:(n.top||0)+s,bottom:(n.bottom||0)+l},v=T1(T1({},g),p),y=v.bottom;v.bottom+=i,v=NK(v,u,f);var _=t-v.left-v.right,w=e-v.top-v.bottom;return T1(T1({brushBottom:y},v),{},{width:Math.max(_,0),height:Math.max(w,0)})}),eZ=Ie(Xa,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));Ie(cf,ff,(t,e)=>({x:0,y:0,width:t,height:e}));var tZ=F.createContext(null),Yl=()=>F.useContext(tZ)!=null,tw=t=>t.brush,nw=Ie([tw,Xa,PB],(t,e,n)=>({height:t.height,x:si(t.x)?t.x:e.left,y:si(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:si(t.width)?t.width:e.width})),WA={},XA={},qA={},fI;function nZ(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:r,edges:a}={}){let s,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),p=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},g=()=>{f&&p(),w()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},i)},_=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{_(),s=void 0,l=null},S=()=>{p()},M=function(...R){if(r?.aborted)return;s=this,l=R;const T=v==null;y(),u&&T&&p()};return M.schedule=y,M.cancel=w,M.flush=S,r?.addEventListener("abort",w,{once:!0}),M}t.debounce=e})(qA)),qA}var dI;function iZ(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nZ();function n(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);s&&(f[0]="leading"),l&&(f[1]="trailing");let p,g=null;const v=e.debounce(function(...w){p=i.apply(this,w),g=null},r,{edges:f}),y=function(...w){return u!=null&&(g===null&&(g=Date.now()),Date.now()-g>=u)?(p=i.apply(this,w),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,w),p)},_=()=>(v.flush(),p);return y.cancel=v.cancel,y.flush=_,y}t.debounce=n})(XA)),XA}var hI;function rZ(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iZ();function n(i,r=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(i,r,{leading:s,maxWait:r,trailing:l})}t.throttle=n})(WA)),WA}var YA,pI;function aZ(){return pI||(pI=1,YA=rZ().throttle),YA}var sZ=aZ();const oZ=lf(sZ);var mI=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>r[s++]))}},Bu={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},DB=(t,e,n)=>{var{width:i=Bu.width,height:r=Bu.height,aspect:a,maxHeight:s}=n,l=lp(i)?t:Number(i),u=lp(r)?e:Number(r);return a&&a>0&&(l?u=l/a:u&&(l=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},lZ={width:0,height:0,overflow:"visible"},uZ={width:0,overflowX:"visible"},cZ={height:0,overflowY:"visible"},fZ={},dZ=t=>{var{width:e,height:n}=t,i=lp(e),r=lp(n);return i&&r?lZ:i?uZ:r?cZ:fZ};function hZ(t){var{width:e,height:n,aspect:i}=t,r=e,a=n;return r===void 0&&a===void 0?(r=Bu.width,a=Bu.height):r===void 0?r=i&&i>0?void 0:Bu.width:a===void 0&&(a=i&&i>0?void 0:Bu.height),{width:r,height:a}}function o3(){return o3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o3.apply(null,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function vI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(i){pZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pZ(t,e,n){return(e=mZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=gZ(t,"string");return typeof e=="symbol"?e:e+""}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OB=F.createContext(Bu.initialDimension);function vZ(t){return wd(t.width)&&wd(t.height)}function NB(t){var{children:e,width:n,height:i}=t,r=F.useMemo(()=>({width:n,height:i}),[n,i]);return vZ(r)?F.createElement(OB.Provider,{value:r},e):null}var GR=()=>F.useContext(OB),yZ=F.forwardRef((t,e)=>{var{aspect:n,initialDimension:i=Bu.initialDimension,width:r,height:a,minWidth:s=Bu.minWidth,minHeight:l,maxHeight:u,children:f,debounce:p=Bu.debounce,id:g,className:v,onResize:y,style:_={}}=t,w=F.useRef(null),S=F.useRef();S.current=y,F.useImperativeHandle(e,()=>w.current);var[M,R]=F.useState({containerWidth:i.width,containerHeight:i.height}),T=F.useCallback((z,I)=>{R(U=>{var W=Math.round(z),H=Math.round(I);return U.containerWidth===W&&U.containerHeight===H?U:{containerWidth:W,containerHeight:H}})},[]);F.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Mp;var z=H=>{var Y,J=H[0];if(J!=null){var{width:ie,height:X}=J.contentRect;T(ie,X),(Y=S.current)===null||Y===void 0||Y.call(S,ie,X)}};p>0&&(z=oZ(z,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(z),{width:U,height:W}=w.current.getBoundingClientRect();return T(U,W),I.observe(w.current),()=>{I.disconnect()}},[T,p]);var{containerWidth:P,containerHeight:O}=M;mI(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:k}=DB(P,O,{width:r,height:a,aspect:n,maxHeight:u});return mI(N!=null&&N>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,k,r,a,s,l,n),F.createElement("div",{id:g?"".concat(g):void 0,className:Br("recharts-responsive-container",v),style:vI(vI({},_),{},{width:r,height:a,minWidth:s,minHeight:l,maxHeight:u}),ref:w},F.createElement("div",{style:dZ({width:r,height:a})},F.createElement(NB,{width:N,height:k},f)))}),zye=F.forwardRef((t,e)=>{var n=GR();if(wd(n.width)&&wd(n.height))return t.children;var{width:i,height:r}=hZ({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=DB(void 0,void 0,{width:i,height:r,aspect:t.aspect,maxHeight:t.maxHeight});return si(a)&&si(s)?F.createElement(NB,{width:a,height:s},t.children):F.createElement(yZ,o3({},t,{width:i,height:r,ref:e}))});function HR(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var LB=()=>{var t,e=Yl(),n=zn(eZ),i=zn(nw),r=(t=zn(tw))===null||t===void 0?void 0:t.padding;return!e||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},xZ=()=>zn(cf),bZ=()=>zn(ff),li=t=>t.layout.layoutType,WR=()=>zn(li),Fye=()=>{var t=WR();if(t==="horizontal"||t==="vertical")return t},XR=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},_Z=()=>zn(XR),SZ=()=>{var t=WR();return t!==void 0},fx=t=>{var e=ea(),n=Yl(),{width:i,height:r}=t,a=GR(),s=i,l=r;return a&&(s=a.width>0?a.width:i,l=a.height>0?a.height:r),F.useEffect(()=>{!n&&wd(s)&&wd(l)&&e(TK({width:s,height:l}))},[e,n,s,l]),null},IB=Symbol.for("immer-nothing"),yI=Symbol.for("immer-draftable"),bo=Symbol.for("immer-state");function Fl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ty=Object.getPrototypeOf;function Eg(t){return!!t&&!!t[bo]}function fp(t){return t?UB(t)||Array.isArray(t)||!!t[yI]||!!t.constructor?.[yI]||dx(t)||rw(t):!1}var MZ=Object.prototype.constructor.toString(),xI=new WeakMap;function UB(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=xI.get(n);return i===void 0&&(i=Function.toString.call(n),xI.set(n,i)),i===MZ}function pS(t,e,n=!0){iw(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function iw(t){const e=t[bo];return e?e.type_:Array.isArray(t)?1:dx(t)?2:rw(t)?3:0}function l3(t,e){return iw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kB(t,e,n){const i=iw(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function wZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function dx(t){return t instanceof Map}function rw(t){return t instanceof Set}function kh(t){return t.copy_||t.base_}function u3(t,e){if(dx(t))return new Map(t);if(rw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=UB(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[bo];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const s=r[a],l=i[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(Ty(t),i)}else{const i=Ty(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function qR(t,e=!1){return aw(t)||Eg(t)||!fp(t)||(iw(t)>1&&Object.defineProperties(t,{set:C1,add:C1,clear:C1,delete:C1}),Object.freeze(t),e&&Object.values(t).forEach(n=>qR(n,!0))),t}function EZ(){Fl(2)}var C1={value:EZ};function aw(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var AZ={};function dp(t){const e=AZ[t];return e||Fl(0,t),e}var Cy;function zB(){return Cy}function TZ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bI(t,e){e&&(dp("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function c3(t){f3(t),t.drafts_.forEach(CZ),t.drafts_=null}function f3(t){t===Cy&&(Cy=t.parent_)}function _I(t){return Cy=TZ(Cy,t)}function CZ(t){const e=t[bo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function SI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[bo].modified_&&(c3(e),Fl(4)),fp(t)&&(t=mS(e,t),e.parent_||gS(e,t)),e.patches_&&dp("Patches").generateReplacementPatches_(n[bo].base_,t,e.patches_,e.inversePatches_)):t=mS(e,n,[]),c3(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==IB?t:void 0}function mS(t,e,n){if(aw(e))return e;const i=t.immer_.shouldUseStrictIteration(),r=e[bo];if(!r)return pS(e,(a,s)=>MI(t,r,e,a,s,n),i),e;if(r.scope_!==t)return e;if(!r.modified_)return gS(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,l=!1;r.type_===3&&(s=new Set(a),a.clear(),l=!0),pS(s,(u,f)=>MI(t,r,a,u,f,n,l),i),gS(t,a,!1),n&&t.patches_&&dp("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function MI(t,e,n,i,r,a,s){if(r==null||typeof r!="object"&&!s)return;const l=aw(r);if(!(l&&!s)){if(Eg(r)){const u=a&&e&&e.type_!==3&&!l3(e.assigned_,i)?a.concat(i):void 0,f=mS(t,r,u);if(kB(n,i,f),Eg(f))t.canAutoFreeze_=!1;else return}else s&&n.add(r);if(fp(r)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&l)return;mS(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(dx(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&gS(t,r)}}}function gS(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qR(e,n)}function RZ(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:zB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=YR;n&&(r=[i],a=Ry);const{revoke:s,proxy:l}=Proxy.revocable(r,a);return i.draft_=l,i.revoke_=s,l}var YR={get(t,e){if(e===bo)return t;const n=kh(t);if(!l3(n,e))return PZ(t,n,e);const i=n[e];return t.finalized_||!fp(i)?i:i===KA(t.base_,e)?(ZA(t),t.copy_[e]=h3(i,t)):i},has(t,e){return e in kh(t)},ownKeys(t){return Reflect.ownKeys(kh(t))},set(t,e,n){const i=FB(kh(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=KA(kh(t),e),a=r?.[bo];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(wZ(n,r)&&(n!==void 0||l3(t.base_,e)))return!0;ZA(t),d3(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return KA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ZA(t),d3(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=kh(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Fl(11)},getPrototypeOf(t){return Ty(t.base_)},setPrototypeOf(){Fl(12)}},Ry={};pS(YR,(t,e)=>{Ry[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ry.deleteProperty=function(t,e){return Ry.set.call(this,t,e,void 0)};Ry.set=function(t,e,n){return YR.set.call(this,t[0],e,n,t[0])};function KA(t,e){const n=t[bo];return(n?kh(n):t)[e]}function PZ(t,e,n){const i=FB(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function FB(t,e){if(!(e in t))return;let n=Ty(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Ty(n)}}function d3(t){t.modified_||(t.modified_=!0,t.parent_&&d3(t.parent_))}function ZA(t){t.copy_||(t.copy_=u3(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var DZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...f){return s.produce(u,p=>n.call(this,p,...f))}}typeof n!="function"&&Fl(6),i!==void 0&&typeof i!="function"&&Fl(7);let r;if(fp(e)){const a=_I(this),s=h3(e,void 0);let l=!0;try{r=n(s),l=!1}finally{l?c3(a):f3(a)}return bI(a,i),SI(r,a)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===IB&&(r=void 0),this.autoFreeze_&&qR(r,!0),i){const a=[],s=[];dp("Patches").generateReplacementPatches_(e,r,a,s),i(a,s)}return r}else Fl(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,u=>e(u,...l));let i,r;return[this.produce(e,n,(s,l)=>{i=s,r=l}),i,r]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fp(t)||Fl(8),Eg(t)&&(t=OZ(t));const e=_I(this),n=h3(t,void 0);return n[bo].isManual_=!0,f3(e),n}finishDraft(t,e){const n=t&&t[bo];(!n||!n.isManual_)&&Fl(9);const{scope_:i}=n;return bI(i,e),SI(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=dp("Patches").applyPatches_;return Eg(t)?i(t,e):this.produce(t,r=>i(r,e))}};function h3(t,e){const n=dx(t)?dp("MapSet").proxyMap_(t,e):rw(t)?dp("MapSet").proxySet_(t,e):RZ(t,e);return(e?e.scope_:zB()).drafts_.push(n),n}function OZ(t){return Eg(t)||Fl(10,t),BB(t)}function BB(t){if(!fp(t)||aw(t))return t;const e=t[bo];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=u3(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=u3(t,!0);return pS(n,(r,a)=>{kB(n,r,BB(a))},i),e&&(e.finalized_=!1),n}var NZ=new DZ;NZ.produce;var LZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VB=Js({name:"legend",initialState:LZ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ii()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:i}=e.payload,r=Gl(t).payload.indexOf(n);r>-1&&(t.payload[r]=i)},prepare:Ii()},removeLegendPayload:{reducer(t,e){var n=Gl(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ii()}}}),{setLegendSize:Bye,setLegendSettings:Vye,addLegendPayload:jB,replaceLegendPayload:GB,removeLegendPayload:HB}=VB.actions,IZ=VB.reducer,UZ=()=>{var t;return(t=zn(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(i){kZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function kZ(t,e,n){return(e=zZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BZ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(r=>i.includes(r))),Py=(t,e)=>Object.keys(e).reduce((n,i)=>EI(EI({},n),{},{[i]:t(i,e[i])}),{});function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(i){VZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function VZ(t,e,n){return(e=jZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jZ(t){var e=GZ(t,"string");return typeof e=="symbol"?e:e+""}function GZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vS=(t,e,n)=>t+(e-t)*n,p3=t=>{var{from:e,to:n}=t;return e!==n},WB=(t,e,n)=>{var i=Py((r,a)=>{if(p3(a)){var[s,l]=t(a.from,a.to,a.velocity);return Ur(Ur({},a),{},{from:s,velocity:l})}return a},e);return n<1?Py((r,a)=>p3(a)&&i[r]!=null?Ur(Ur({},a),{},{velocity:vS(a.velocity,i[r].velocity,n),from:vS(a.from,i[r].from,n)}):a,e):WB(t,i,n-1)};function HZ(t,e,n,i,r,a){var s,l=i.reduce((v,y)=>Ur(Ur({},v),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),u=()=>Py((v,y)=>y.from,l),f=()=>!Object.values(l).filter(p3).length,p=null,g=v=>{s||(s=v);var y=v-s,_=y/n.dt;l=WB(n,l,_),r(Ur(Ur(Ur({},t),e),u())),s=v,f()||(p=a.setTimeout(g))};return()=>(p=a.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function WZ(t,e,n,i,r,a,s){var l=null,u=r.reduce((g,v)=>{var y=t[v],_=e[v];return y==null||_==null?g:Ur(Ur({},g),{},{[v]:[y,_]})},{}),f,p=g=>{f||(f=g);var v=(g-f)/i,y=Py((w,S)=>vS(...S,n(v)),u);if(a(Ur(Ur(Ur({},t),e),y)),v<1)l=s.setTimeout(p);else{var _=Py((w,S)=>vS(...S,n(1)),u);a(Ur(Ur(Ur({},t),e),_))}};return()=>(l=s.setTimeout(p),()=>{var g;(g=l)===null||g===void 0||g()})}const XZ=(t,e,n,i,r,a)=>{var s=BZ(t,e);return n==null?()=>(r(Ur(Ur({},t),e)),()=>{}):n.isStepper===!0?HZ(t,e,n,s,r,a):WZ(t,e,n,i,s,r,a)};var yS=1e-4,XB=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],qB=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),TI=(t,e)=>n=>{var i=XB(t,e);return qB(i,n)},qZ=(t,e)=>n=>{var i=XB(t,e),r=[...i.map((a,s)=>a*s).slice(1),0];return qB(r,n)},YZ=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var i=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(i==null||i.length!==4)return null;var r=i.map(a=>parseFloat(a));return[r[0],r[1],r[2],r[3]]},KZ=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=YZ(n[0]);if(r)return r}}return n.length===4?n:[0,0,1,1]},ZZ=(t,e,n,i)=>{var r=TI(t,n),a=TI(e,i),s=qZ(t,n),l=f=>f>1?1:f<0?0:f,u=f=>{for(var p=f>1?1:f,g=p,v=0;v<8;++v){var y=r(g)-p,_=s(g);if(Math.abs(y-p)<yS||_<yS)return a(g);g=l(g-y/_)}return a(g)};return u.isStepper=!1,u},CI=function(){return ZZ(...KZ(...arguments))},$Z=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=e,a=(s,l,u)=>{var f=-(s-l)*n,p=u*i,g=u+(f-p)*r/1e3,v=u*r/1e3+s;return Math.abs(v-l)<yS&&Math.abs(g)<yS?[l,0]:[v,g]};return a.isStepper=!0,a.dt=r,a},QZ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CI(t);case"spring":return $Z();default:if(t.split("(")[0]==="cubic-bezier")return CI(t)}return typeof t=="function"?t:null};function JZ(t){var e,n=()=>null,i=!1,r=null,a=s=>{if(!i){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...f]=l;if(typeof u=="number"){r=t.setTimeout(a.bind(null,f),u);return}a(u),r=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{i=!0},start:s=>{i=!1,r&&(r(),r=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class e${setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=s=>{s-i>=n?e(s):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{r!=null&&cancelAnimationFrame(r)}}}function t$(){return JZ(new e$)}var n$=F.createContext(t$);function i$(t,e){var n=F.useContext(n$);return F.useMemo(()=>e??n(t),[t,e,n])}var r$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),KR={isSsr:r$()},a$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},RI={t:0},$A={t:1};function s$(t){var e=Pd(t,a$),{isActive:n,canBegin:i,duration:r,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:u,children:f}=e,p=n==="auto"?!KR.isSsr:n,g=i$(e.animationId,e.animationManager),[v,y]=F.useState(p?RI:$A),_=F.useRef(null);return F.useEffect(()=>{p||y($A)},[p]),F.useEffect(()=>{if(!p||!i)return Mp;var w=XZ(RI,$A,QZ(a),r,y,g.getTimeoutController()),S=()=>{_.current=w()};return g.start([u,s,S,r,l]),()=>{g.stop(),_.current&&_.current(),l()}},[p,i,r,a,s,u,l,g]),f(v.t)}function o$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=F.useRef(My(e)),i=F.useRef(t);return i.current!==t&&(n.current=My(e),i.current=t),n.current}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function DI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(i){l$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function l$(t,e,n){return(e=u$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u$(t){var e=c$(t,"string");return typeof e=="symbol"?e:e+""}function c$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OI=Math.PI/180,xS=t=>t*Math.PI/180,f$=t=>t*180/Math.PI,$s=(t,e,n,i)=>({x:t+Math.cos(-OI*i)*n,y:e+Math.sin(-OI*i)*n}),d$=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},h$=(t,e)=>{var{x:n,y:i}=t,{x:r,y:a}=e;return Math.sqrt((n-r)**2+(i-a)**2)},p$=(t,e)=>{var{x:n,y:i}=t,{cx:r,cy:a}=e,s=h$({x:n,y:i},{x:r,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-r)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:f$(u),angleInRadian:u}},m$=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),r=Math.floor(n/360),a=Math.min(i,r);return{startAngle:e-a*360,endAngle:n-a*360}},g$=(t,e)=>{var{startAngle:n,endAngle:i}=e,r=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(r,a);return t+s*360},v$=(t,e)=>{var{chartX:n,chartY:i}=t,{radius:r,angle:a}=p$({x:n,y:i},e),{innerRadius:s,outerRadius:l}=e;if(r<s||r>l||r===0)return null;var{startAngle:u,endAngle:f}=m$(e),p=a,g;if(u<=f){for(;p>f;)p-=360;for(;p<u;)p+=360;g=p>=u&&p<=f}else{for(;p>u;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=u}return g?DI(DI({},e),{},{radius:r,angle:g$(p,e)}):null},QA={},JA={},eT={},NI;function y$(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZF();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(eT)),eT}var LI;function x$(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y$();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(JA)),JA}var II;function b$(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$F(),n=x$();function i(r,a,s){s&&typeof s!="number"&&e.isIterateeCall(r,a,s)&&(a=s=void 0),r=n.toFinite(r),a===void 0?(a=r,r=0):a=n.toFinite(a),s=s===void 0?r<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-r)/(s||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=r,r+=s;return u}t.range=i})(QA)),QA}var tT,UI;function _$(){return UI||(UI=1,tT=b$().range),tT}var S$=_$();const YB=lf(S$);function xd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M$(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZR(t){let e,n,i;t.length!==2?(e=xd,n=(l,u)=>xd(t(l),u),i=(l,u)=>t(l)-u):(e=t===xd||t===M$?t:w$,n=t,i=t);function r(l,u,f=0,p=l.length){if(f<p){if(e(u,u)!==0)return p;do{const g=f+p>>>1;n(l[g],u)<0?f=g+1:p=g}while(f<p)}return f}function a(l,u,f=0,p=l.length){if(f<p){if(e(u,u)!==0)return p;do{const g=f+p>>>1;n(l[g],u)<=0?f=g+1:p=g}while(f<p)}return f}function s(l,u,f=0,p=l.length){const g=r(l,u,f,p-1);return g>f&&i(l[g-1],u)>-i(l[g],u)?g-1:g}return{left:r,center:s,right:a}}function w$(){return 0}function KB(t){return t===null?NaN:+t}function*E$(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const A$=ZR(xd),hx=A$.right;ZR(KB).center;class kI extends Map{constructor(e,n=R$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(zI(this,e))}has(e){return super.has(zI(this,e))}set(e,n){return super.set(T$(this,e),n)}delete(e){return super.delete(C$(this,e))}}function zI({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function T$({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function C$({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function R$(t){return t!==null&&typeof t=="object"?t.valueOf():t}function P$(t=xd){if(t===xd)return ZB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function ZB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const D$=Math.sqrt(50),O$=Math.sqrt(10),N$=Math.sqrt(2);function bS(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=D$?10:a>=O$?5:a>=N$?2:1;let l,u,f;return r<0?(f=Math.pow(10,-r)/s,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,r)*s,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=n&&n<2?bS(t,e,n*2):[l,u,f]}function m3(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,a,s]=i?bS(e,t,n):bS(t,e,n);if(!(a>=r))return[];const l=a-r+1,u=new Array(l);if(i)if(s<0)for(let f=0;f<l;++f)u[f]=(a-f)/-s;else for(let f=0;f<l;++f)u[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(r+f)/-s;else for(let f=0;f<l;++f)u[f]=(r+f)*s;return u}function g3(t,e,n){return e=+e,t=+t,n=+n,bS(t,e,n)[2]}function v3(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?g3(e,t,n):g3(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function FI(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function BI(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function $B(t,e,n=0,i=1/0,r){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=r===void 0?ZB:P$(r);i>n;){if(i-n>600){const u=i-n+1,f=e-n+1,p=Math.log(u),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(u-g)/u)*(f-u/2<0?-1:1),y=Math.max(n,Math.floor(e-f*g/u+v)),_=Math.min(i,Math.floor(e+(u-f)*g/u+v));$B(t,e,y,_,r)}const a=t[e];let s=n,l=i;for(wv(t,n,e),r(t[i],a)>0&&wv(t,n,i);s<l;){for(wv(t,s,l),++s,--l;r(t[s],a)<0;)++s;for(;r(t[l],a)>0;)--l}r(t[n],a)===0?wv(t,n,l):(++l,wv(t,l,i)),l<=e&&(n=l+1),e<=l&&(i=l-1)}return t}function wv(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function L$(t,e,n){if(t=Float64Array.from(E$(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return BI(t);if(e>=1)return FI(t);var i,r=(i-1)*e,a=Math.floor(r),s=FI($B(t,a).subarray(0,a+1)),l=BI(t.subarray(a+1));return s+(l-s)*(r-a)}}function I$(t,e,n=KB){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(r-a)}}function U$(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function dl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function df(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const y3=Symbol("implicit");function $R(){var t=new kI,e=[],n=[],i=y3;function r(a){let s=t.get(a);if(s===void 0){if(i!==y3)return i;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new kI;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return $R(e,n).unknown(i)},dl.apply(r,arguments),r}function QR(){var t=$R().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,s,l=!1,u=0,f=0,p=.5;delete t.unknown;function g(){var v=e().length,y=r<i,_=y?r:i,w=y?i:r;a=(w-_)/Math.max(1,v-u+f*2),l&&(a=Math.floor(a)),_+=(w-_-a*(v-u))*p,s=a*(1-u),l&&(_=Math.round(_),s=Math.round(s));var S=U$(v).map(function(M){return _+a*M});return n(y?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([i,r]=v,i=+i,r=+r,g()):[i,r]},t.rangeRound=function(v){return[i,r]=v,i=+i,r=+r,l=!0,g()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,g()):l},t.padding=function(v){return arguments.length?(u=Math.min(1,f=+v),g()):u},t.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),g()):u},t.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},t.copy=function(){return QR(e(),[i,r]).round(l).paddingInner(u).paddingOuter(f).align(p)},dl.apply(g(),arguments)}function QB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QB(e())},t}function k$(){return QB(QR.apply(null,arguments).paddingInner(1))}function JR(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JB(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function px(){}var Dy=.7,_S=1/Dy,bg="\\s*([+-]?\\d+)\\s*",Oy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z$=/^#([0-9a-f]{3,8})$/,F$=new RegExp(`^rgb\\(${bg},${bg},${bg}\\)$`),B$=new RegExp(`^rgb\\(${Wu},${Wu},${Wu}\\)$`),V$=new RegExp(`^rgba\\(${bg},${bg},${bg},${Oy}\\)$`),j$=new RegExp(`^rgba\\(${Wu},${Wu},${Wu},${Oy}\\)$`),G$=new RegExp(`^hsl\\(${Oy},${Wu},${Wu}\\)$`),H$=new RegExp(`^hsla\\(${Oy},${Wu},${Wu},${Oy}\\)$`),VI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JR(px,Ny,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jI,formatHex:jI,formatHex8:W$,formatHsl:X$,formatRgb:GI,toString:GI});function jI(){return this.rgb().formatHex()}function W$(){return this.rgb().formatHex8()}function X$(){return e5(this).formatHsl()}function GI(){return this.rgb().formatRgb()}function Ny(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=z$.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?HI(e):n===3?new qs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?R1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?R1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=F$.exec(t))?new qs(e[1],e[2],e[3],1):(e=B$.exec(t))?new qs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=V$.exec(t))?R1(e[1],e[2],e[3],e[4]):(e=j$.exec(t))?R1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=G$.exec(t))?qI(e[1],e[2]/100,e[3]/100,1):(e=H$.exec(t))?qI(e[1],e[2]/100,e[3]/100,e[4]):VI.hasOwnProperty(t)?HI(VI[t]):t==="transparent"?new qs(NaN,NaN,NaN,0):null}function HI(t){return new qs(t>>16&255,t>>8&255,t&255,1)}function R1(t,e,n,i){return i<=0&&(t=e=n=NaN),new qs(t,e,n,i)}function q$(t){return t instanceof px||(t=Ny(t)),t?(t=t.rgb(),new qs(t.r,t.g,t.b,t.opacity)):new qs}function x3(t,e,n,i){return arguments.length===1?q$(t):new qs(t,e,n,i??1)}function qs(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}JR(qs,x3,JB(px,{brighter(t){return t=t==null?_S:Math.pow(_S,t),new qs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dy:Math.pow(Dy,t),new qs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qs(Jh(this.r),Jh(this.g),Jh(this.b),SS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WI,formatHex:WI,formatHex8:Y$,formatRgb:XI,toString:XI}));function WI(){return`#${Wh(this.r)}${Wh(this.g)}${Wh(this.b)}`}function Y$(){return`#${Wh(this.r)}${Wh(this.g)}${Wh(this.b)}${Wh((isNaN(this.opacity)?1:this.opacity)*255)}`}function XI(){const t=SS(this.opacity);return`${t===1?"rgb(":"rgba("}${Jh(this.r)}, ${Jh(this.g)}, ${Jh(this.b)}${t===1?")":`, ${t})`}`}function SS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wh(t){return t=Jh(t),(t<16?"0":"")+t.toString(16)}function qI(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bl(t,e,n,i)}function e5(t){if(t instanceof Bl)return new Bl(t.h,t.s,t.l,t.opacity);if(t instanceof px||(t=Ny(t)),!t)return new Bl;if(t instanceof Bl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,l=a-r,u=(a+r)/2;return l?(e===a?s=(n-i)/l+(n<i)*6:n===a?s=(i-e)/l+2:s=(e-n)/l+4,l/=u<.5?a+r:2-a-r,s*=60):l=u>0&&u<1?0:s,new Bl(s,l,u,t.opacity)}function K$(t,e,n,i){return arguments.length===1?e5(t):new Bl(t,e,n,i??1)}function Bl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}JR(Bl,K$,JB(px,{brighter(t){return t=t==null?_S:Math.pow(_S,t),new Bl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dy:Math.pow(Dy,t),new Bl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new qs(nT(t>=240?t-240:t+120,r,i),nT(t,r,i),nT(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Bl(YI(this.h),P1(this.s),P1(this.l),SS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=SS(this.opacity);return`${t===1?"hsl(":"hsla("}${YI(this.h)}, ${P1(this.s)*100}%, ${P1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YI(t){return t=(t||0)%360,t<0?t+360:t}function P1(t){return Math.max(0,Math.min(1,t||0))}function nT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eP=t=>()=>t;function Z$(t,e){return function(n){return t+n*e}}function $$(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Q$(t){return(t=+t)==1?t5:function(e,n){return n-e?$$(e,n,t):eP(isNaN(e)?n:e)}}function t5(t,e){var n=e-t;return n?Z$(t,n):eP(isNaN(t)?e:t)}const KI=(function t(e){var n=Q$(e);function i(r,a){var s=n((r=x3(r)).r,(a=x3(a)).r),l=n(r.g,a.g),u=n(r.b,a.b),f=t5(r.opacity,a.opacity);return function(p){return r.r=s(p),r.g=l(p),r.b=u(p),r.opacity=f(p),r+""}}return i.gamma=t,i})(1);function J$(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=t[r]*(1-a)+e[r]*a;return i}}function eQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tQ(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),a=new Array(n),s;for(s=0;s<i;++s)r[s]=jg(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<i;++s)a[s]=r[s](l);return a}}function nQ(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function MS(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iQ(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=jg(t[r],e[r]):i[r]=e[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var b3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iT=new RegExp(b3.source,"g");function rQ(t){return function(){return t}}function aQ(t){return function(e){return t(e)+""}}function sQ(t,e){var n=b3.lastIndex=iT.lastIndex=0,i,r,a,s=-1,l=[],u=[];for(t=t+"",e=e+"";(i=b3.exec(t))&&(r=iT.exec(e));)(a=r.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(i=i[0])===(r=r[0])?l[s]?l[s]+=r:l[++s]=r:(l[++s]=null,u.push({i:s,x:MS(i,r)})),n=iT.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?aQ(u[0].x):rQ(e):(e=u.length,function(f){for(var p=0,g;p<e;++p)l[(g=u[p]).i]=g.x(f);return l.join("")})}function jg(t,e){var n=typeof e,i;return e==null||n==="boolean"?eP(e):(n==="number"?MS:n==="string"?(i=Ny(e))?(e=i,KI):sQ:e instanceof Ny?KI:e instanceof Date?nQ:eQ(e)?J$:Array.isArray(e)?tQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iQ:MS)(t,e)}function tP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function oQ(t,e){e===void 0&&(e=t,t=jg);for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(s){var l=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return a[l](s-l)}}function lQ(t){return function(){return t}}function wS(t){return+t}var ZI=[0,1];function gs(t){return t}function _3(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:lQ(isNaN(e)?NaN:.5)}function uQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function cQ(t,e,n){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=_3(r,i),a=n(s,a)):(i=_3(i,r),a=n(a,s)),function(l){return a(i(l))}}function fQ(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=_3(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var u=hx(t,l,1,i)-1;return a[u](r[u](l))}}function mx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sw(){var t=ZI,e=ZI,n=jg,i,r,a,s=gs,l,u,f;function p(){var v=Math.min(t.length,e.length);return s!==gs&&(s=uQ(t[0],t[v-1])),l=v>2?fQ:cQ,u=f=null,g}function g(v){return v==null||isNaN(v=+v)?a:(u||(u=l(t.map(i),e,n)))(i(s(v)))}return g.invert=function(v){return s(r((f||(f=l(e,t.map(i),MS)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,wS),p()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),n=tP,p()},g.clamp=function(v){return arguments.length?(s=v?!0:gs,p()):s!==gs},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,y){return i=v,r=y,p()}}function nP(){return sw()(gs,gs)}function dQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ES(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Ag(t){return t=ES(Math.abs(t)),t?t[1]:NaN}function hQ(t,e){return function(n,i){for(var r=n.length,a=[],s=0,l=t[0],u=0;r>0&&l>0&&(u+l+1>i&&(l=Math.max(1,i-u)),a.push(n.substring(r-=l,r+l)),!((u+=l+1)>i));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function pQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var mQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ly(t){if(!(e=mQ.exec(t)))throw new Error("invalid format: "+t);var e;return new iP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ly.prototype=iP.prototype;function iP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}iP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gQ(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var AS;function vQ(t,e){var n=ES(t,e);if(!n)return AS=void 0,t.toPrecision(e);var i=n[0],r=n[1],a=r-(AS=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+ES(t,Math.max(0,e+a-1))[0]}function $I(t,e){var n=ES(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const QI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$I(t*100,e),r:$I,s:vQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function JI(t){return t}var eU=Array.prototype.map,tU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yQ(t){var e=t.grouping===void 0||t.thousands===void 0?JI:hQ(eU.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?JI:pQ(eU.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(g,v){g=Ly(g);var y=g.fill,_=g.align,w=g.sign,S=g.symbol,M=g.zero,R=g.width,T=g.comma,P=g.precision,O=g.trim,N=g.type;N==="n"?(T=!0,N="g"):QI[N]||(P===void 0&&(P=12),O=!0,N="g"),(M||y==="0"&&_==="=")&&(M=!0,y="0",_="=");var k=(v&&v.prefix!==void 0?v.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),z=(S==="$"?i:/[%p]/.test(N)?s:"")+(v&&v.suffix!==void 0?v.suffix:""),I=QI[N],U=/[defgprs%]/.test(N);P=P===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function W(H){var Y=k,J=z,ie,X,te;if(N==="c")J=I(H)+J,H="";else{H=+H;var de=H<0||1/H<0;if(H=isNaN(H)?u:I(Math.abs(H),P),O&&(H=gQ(H)),de&&+H==0&&w!=="+"&&(de=!1),Y=(de?w==="("?w:l:w==="-"||w==="("?"":w)+Y,J=(N==="s"&&!isNaN(H)&&AS!==void 0?tU[8+AS/3]:"")+J+(de&&w==="("?")":""),U){for(ie=-1,X=H.length;++ie<X;)if(te=H.charCodeAt(ie),48>te||te>57){J=(te===46?r+H.slice(ie+1):H.slice(ie))+J,H=H.slice(0,ie);break}}}T&&!M&&(H=e(H,1/0));var he=Y.length+H.length+J.length,le=he<R?new Array(R-he+1).join(y):"";switch(T&&M&&(H=e(le+H,le.length?R-J.length:1/0),le=""),_){case"<":H=Y+H+J+le;break;case"=":H=Y+le+H+J;break;case"^":H=le.slice(0,he=le.length>>1)+Y+H+J+le.slice(he);break;default:H=le+Y+H+J;break}return a(H)}return W.toString=function(){return g+""},W}function p(g,v){var y=Math.max(-8,Math.min(8,Math.floor(Ag(v)/3)))*3,_=Math.pow(10,-y),w=f((g=Ly(g),g.type="f",g),{suffix:tU[8+y/3]});return function(S){return w(_*S)}}return{format:f,formatPrefix:p}}var D1,rP,n5;xQ({thousands:",",grouping:[3],currency:["$",""]});function xQ(t){return D1=yQ(t),rP=D1.format,n5=D1.formatPrefix,D1}function bQ(t){return Math.max(0,-Ag(Math.abs(t)))}function _Q(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ag(e)/3)))*3-Ag(Math.abs(t)))}function SQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ag(e)-Ag(t))+1}function i5(t,e,n,i){var r=v3(t,e,n),a;switch(i=Ly(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=_Q(r,s))&&(i.precision=a),n5(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=SQ(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=bQ(r))&&(i.precision=a-(i.type==="%")*2);break}}return rP(i)}function Dd(t){var e=t.domain;return t.ticks=function(n){var i=e();return m3(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return i5(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,a=i.length-1,s=i[r],l=i[a],u,f,p=10;for(l<s&&(f=s,s=l,l=f,f=r,r=a,a=f);p-- >0;){if(f=g3(s,l,n),f===u)return i[r]=s,i[a]=l,e(i);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function r5(){var t=nP();return t.copy=function(){return mx(t,r5())},dl.apply(t,arguments),Dd(t)}function a5(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,wS),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return a5(t).unknown(e)},t=arguments.length?Array.from(t,wS):[0,1],Dd(n)}function s5(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],a=t[i],s;return a<r&&(s=n,n=i,i=s,s=r,r=a,a=s),t[n]=e.floor(r),t[i]=e.ceil(a),t}function nU(t){return Math.log(t)}function iU(t){return Math.exp(t)}function MQ(t){return-Math.log(-t)}function wQ(t){return-Math.exp(-t)}function EQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function AQ(t){return t===10?EQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function TQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rU(t){return(e,n)=>-t(-e,n)}function aP(t){const e=t(nU,iU),n=e.domain;let i=10,r,a;function s(){return r=TQ(i),a=AQ(i),n()[0]<0?(r=rU(r),a=rU(a),t(MQ,wQ)):t(nU,iU),e}return e.base=function(l){return arguments.length?(i=+l,s()):i},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const u=n();let f=u[0],p=u[u.length-1];const g=p<f;g&&([f,p]=[p,f]);let v=r(f),y=r(p),_,w;const S=l==null?10:+l;let M=[];if(!(i%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(_=1;_<i;++_)if(w=v<0?_/a(-v):_*a(v),!(w<f)){if(w>p)break;M.push(w)}}else for(;v<=y;++v)for(_=i-1;_>=1;--_)if(w=v>0?_/a(-v):_*a(v),!(w<f)){if(w>p)break;M.push(w)}M.length*2<S&&(M=m3(f,p,S))}else M=m3(v,y,Math.min(y-v,S)).map(a);return g?M.reverse():M},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=i===10?"s":","),typeof u!="function"&&(!(i%1)&&(u=Ly(u)).precision==null&&(u.trim=!0),u=rP(u)),l===1/0)return u;const f=Math.max(1,i*l/e.ticks().length);return p=>{let g=p/a(Math.round(r(p)));return g*i<i-.5&&(g*=i),g<=f?u(p):""}},e.nice=()=>n(s5(n(),{floor:l=>a(Math.floor(r(l))),ceil:l=>a(Math.ceil(r(l)))})),e}function o5(){const t=aP(sw()).domain([1,10]);return t.copy=()=>mx(t,o5()).base(t.base()),dl.apply(t,arguments),t}function aU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sP(t){var e=1,n=t(aU(e),sU(e));return n.constant=function(i){return arguments.length?t(aU(e=+i),sU(e)):e},Dd(n)}function l5(){var t=sP(sw());return t.copy=function(){return mx(t,l5()).constant(t.constant())},dl.apply(t,arguments)}function oU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function CQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function RQ(t){return t<0?-t*t:t*t}function oP(t){var e=t(gs,gs),n=1;function i(){return n===1?t(gs,gs):n===.5?t(CQ,RQ):t(oU(n),oU(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},Dd(e)}function lP(){var t=oP(sw());return t.copy=function(){return mx(t,lP()).exponent(t.exponent())},dl.apply(t,arguments),t}function PQ(){return lP.apply(null,arguments).exponent(.5)}function lU(t){return Math.sign(t)*t*t}function DQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function u5(){var t=nP(),e=[0,1],n=!1,i;function r(a){var s=DQ(t(a));return isNaN(s)?i:n?Math.round(s):s}return r.invert=function(a){return t.invert(lU(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain()},r.range=function(a){return arguments.length?(t.range((e=Array.from(a,wS)).map(lU)),r):e.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(n=!!a,r):n},r.clamp=function(a){return arguments.length?(t.clamp(a),r):t.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return u5(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},dl.apply(r,arguments),Dd(r)}function c5(){var t=[],e=[],n=[],i;function r(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=I$(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?i:e[hx(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(xd),r()},a.range=function(s){return arguments.length?(e=Array.from(s),r()):e.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return c5().domain(t).range(e).unknown(i)},dl.apply(a,arguments)}function f5(){var t=0,e=1,n=1,i=[.5],r=[0,1],a;function s(u){return u!=null&&u<=u?r[hx(i,u,0,n)]:a}function l(){var u=-1;for(i=new Array(n);++u<n;)i[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},s.range=function(u){return arguments.length?(n=(r=Array.from(u)).length-1,l()):r.slice()},s.invertExtent=function(u){var f=r.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,i[0]]:f>=n?[i[n-1],e]:[i[f-1],i[f]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return i.slice()},s.copy=function(){return f5().domain([t,e]).range(r).unknown(a)},dl.apply(Dd(s),arguments)}function d5(){var t=[.5],e=[0,1],n,i=1;function r(a){return a!=null&&a<=a?e[hx(t,a,0,i)]:n}return r.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return d5().domain(t).range(e).unknown(n)},dl.apply(r,arguments)}const rT=new Date,aT=new Date;function Vr(t,e,n,i){function r(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(t(a=new Date(+a)),a),r.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),r.round=a=>{const s=r(a),l=r.ceil(a);return a-s<l-a?s:l},r.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),r.range=(a,s,l)=>{const u=[];if(a=r.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let f;do u.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<s);return u},r.filter=a=>Vr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(r.count=(a,s)=>(rT.setTime(+a),aT.setTime(+s),t(rT),t(aT),Math.floor(n(rT,aT))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?s=>i(s)%a===0:s=>r.count(0,s)%a===0):r)),r}const TS=Vr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);TS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):TS);TS.range;const Wc=1e3,al=Wc*60,Xc=al*60,ef=Xc*24,uP=ef*7,uU=ef*30,sT=ef*365,Xh=Vr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Wc)},(t,e)=>(e-t)/Wc,t=>t.getUTCSeconds());Xh.range;const cP=Vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wc)},(t,e)=>{t.setTime(+t+e*al)},(t,e)=>(e-t)/al,t=>t.getMinutes());cP.range;const fP=Vr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*al)},(t,e)=>(e-t)/al,t=>t.getUTCMinutes());fP.range;const dP=Vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wc-t.getMinutes()*al)},(t,e)=>{t.setTime(+t+e*Xc)},(t,e)=>(e-t)/Xc,t=>t.getHours());dP.range;const hP=Vr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xc)},(t,e)=>(e-t)/Xc,t=>t.getUTCHours());hP.range;const gx=Vr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*al)/ef,t=>t.getDate()-1);gx.range;const ow=Vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ef,t=>t.getUTCDate()-1);ow.range;const h5=Vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ef,t=>Math.floor(t/ef));h5.range;function wp(t){return Vr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*al)/uP)}const lw=wp(0),CS=wp(1),OQ=wp(2),NQ=wp(3),Tg=wp(4),LQ=wp(5),IQ=wp(6);lw.range;CS.range;OQ.range;NQ.range;Tg.range;LQ.range;IQ.range;function Ep(t){return Vr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/uP)}const uw=Ep(0),RS=Ep(1),UQ=Ep(2),kQ=Ep(3),Cg=Ep(4),zQ=Ep(5),FQ=Ep(6);uw.range;RS.range;UQ.range;kQ.range;Cg.range;zQ.range;FQ.range;const pP=Vr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pP.range;const mP=Vr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());mP.range;const tf=Vr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());tf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});tf.range;const nf=Vr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());nf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});nf.range;function p5(t,e,n,i,r,a){const s=[[Xh,1,Wc],[Xh,5,5*Wc],[Xh,15,15*Wc],[Xh,30,30*Wc],[a,1,al],[a,5,5*al],[a,15,15*al],[a,30,30*al],[r,1,Xc],[r,3,3*Xc],[r,6,6*Xc],[r,12,12*Xc],[i,1,ef],[i,2,2*ef],[n,1,uP],[e,1,uU],[e,3,3*uU],[t,1,sT]];function l(f,p,g){const v=p<f;v&&([f,p]=[p,f]);const y=g&&typeof g.range=="function"?g:u(f,p,g),_=y?y.range(f,+p+1):[];return v?_.reverse():_}function u(f,p,g){const v=Math.abs(p-f)/g,y=ZR(([,,S])=>S).right(s,v);if(y===s.length)return t.every(v3(f/sT,p/sT,g));if(y===0)return TS.every(Math.max(v3(f,p,g),1));const[_,w]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return _.every(w)}return[l,u]}const[BQ,VQ]=p5(nf,mP,uw,h5,hP,fP),[jQ,GQ]=p5(tf,pP,lw,gx,dP,cP);function oT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ev(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function HQ(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,f=Av(r),p=Tv(r),g=Av(a),v=Tv(a),y=Av(s),_=Tv(s),w=Av(l),S=Tv(l),M=Av(u),R=Tv(u),T={a:te,A:de,b:he,B:le,c:null,d:mU,e:mU,f:hJ,g:MJ,G:EJ,H:cJ,I:fJ,j:dJ,L:m5,m:pJ,M:mJ,p:V,q:ee,Q:yU,s:xU,S:gJ,u:vJ,U:yJ,V:xJ,w:bJ,W:_J,x:null,X:null,y:SJ,Y:wJ,Z:AJ,"%":vU},P={a:re,A:pe,b:ye,B:se,c:null,d:gU,e:gU,f:PJ,g:BJ,G:jJ,H:TJ,I:CJ,j:RJ,L:v5,m:DJ,M:OJ,p:ce,q:Se,Q:yU,s:xU,S:NJ,u:LJ,U:IJ,V:UJ,w:kJ,W:zJ,x:null,X:null,y:FJ,Y:VJ,Z:GJ,"%":vU},O={a:U,A:W,b:H,B:Y,c:J,d:hU,e:hU,f:sJ,g:dU,G:fU,H:pU,I:pU,j:nJ,L:aJ,m:tJ,M:iJ,p:I,q:eJ,Q:lJ,s:uJ,S:rJ,u:KQ,U:ZQ,V:$Q,w:YQ,W:QQ,x:ie,X,y:dU,Y:fU,Z:JQ,"%":oJ};T.x=N(n,T),T.X=N(i,T),T.c=N(e,T),P.x=N(n,P),P.X=N(i,P),P.c=N(e,P);function N(fe,Oe){return function(ke){var me=[],ut=-1,_e=0,Ae=fe.length,Me,Ge,Z;for(ke instanceof Date||(ke=new Date(+ke));++ut<Ae;)fe.charCodeAt(ut)===37&&(me.push(fe.slice(_e,ut)),(Ge=cU[Me=fe.charAt(++ut)])!=null?Me=fe.charAt(++ut):Ge=Me==="e"?" ":"0",(Z=Oe[Me])&&(Me=Z(ke,Ge)),me.push(Me),_e=ut+1);return me.push(fe.slice(_e,ut)),me.join("")}}function k(fe,Oe){return function(ke){var me=Ev(1900,void 0,1),ut=z(me,fe,ke+="",0),_e,Ae;if(ut!=ke.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Oe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(_e=lT(Ev(me.y,0,1)),Ae=_e.getUTCDay(),_e=Ae>4||Ae===0?RS.ceil(_e):RS(_e),_e=ow.offset(_e,(me.V-1)*7),me.y=_e.getUTCFullYear(),me.m=_e.getUTCMonth(),me.d=_e.getUTCDate()+(me.w+6)%7):(_e=oT(Ev(me.y,0,1)),Ae=_e.getDay(),_e=Ae>4||Ae===0?CS.ceil(_e):CS(_e),_e=gx.offset(_e,(me.V-1)*7),me.y=_e.getFullYear(),me.m=_e.getMonth(),me.d=_e.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Ae="Z"in me?lT(Ev(me.y,0,1)).getUTCDay():oT(Ev(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Ae+5)%7:me.w+me.U*7-(Ae+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,lT(me)):oT(me)}}function z(fe,Oe,ke,me){for(var ut=0,_e=Oe.length,Ae=ke.length,Me,Ge;ut<_e;){if(me>=Ae)return-1;if(Me=Oe.charCodeAt(ut++),Me===37){if(Me=Oe.charAt(ut++),Ge=O[Me in cU?Oe.charAt(ut++):Me],!Ge||(me=Ge(fe,ke,me))<0)return-1}else if(Me!=ke.charCodeAt(me++))return-1}return me}function I(fe,Oe,ke){var me=f.exec(Oe.slice(ke));return me?(fe.p=p.get(me[0].toLowerCase()),ke+me[0].length):-1}function U(fe,Oe,ke){var me=y.exec(Oe.slice(ke));return me?(fe.w=_.get(me[0].toLowerCase()),ke+me[0].length):-1}function W(fe,Oe,ke){var me=g.exec(Oe.slice(ke));return me?(fe.w=v.get(me[0].toLowerCase()),ke+me[0].length):-1}function H(fe,Oe,ke){var me=M.exec(Oe.slice(ke));return me?(fe.m=R.get(me[0].toLowerCase()),ke+me[0].length):-1}function Y(fe,Oe,ke){var me=w.exec(Oe.slice(ke));return me?(fe.m=S.get(me[0].toLowerCase()),ke+me[0].length):-1}function J(fe,Oe,ke){return z(fe,e,Oe,ke)}function ie(fe,Oe,ke){return z(fe,n,Oe,ke)}function X(fe,Oe,ke){return z(fe,i,Oe,ke)}function te(fe){return s[fe.getDay()]}function de(fe){return a[fe.getDay()]}function he(fe){return u[fe.getMonth()]}function le(fe){return l[fe.getMonth()]}function V(fe){return r[+(fe.getHours()>=12)]}function ee(fe){return 1+~~(fe.getMonth()/3)}function re(fe){return s[fe.getUTCDay()]}function pe(fe){return a[fe.getUTCDay()]}function ye(fe){return u[fe.getUTCMonth()]}function se(fe){return l[fe.getUTCMonth()]}function ce(fe){return r[+(fe.getUTCHours()>=12)]}function Se(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Oe=N(fe+="",T);return Oe.toString=function(){return fe},Oe},parse:function(fe){var Oe=k(fe+="",!1);return Oe.toString=function(){return fe},Oe},utcFormat:function(fe){var Oe=N(fe+="",P);return Oe.toString=function(){return fe},Oe},utcParse:function(fe){var Oe=k(fe+="",!0);return Oe.toString=function(){return fe},Oe}}}var cU={"-":"",_:" ",0:"0"},ta=/^\s*\d+/,WQ=/^%/,XQ=/[\\^$*+?|[\]().{}]/g;function Gn(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function qQ(t){return t.replace(XQ,"\\$&")}function Av(t){return new RegExp("^(?:"+t.map(qQ).join("|")+")","i")}function Tv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function YQ(t,e,n){var i=ta.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function KQ(t,e,n){var i=ta.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function ZQ(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function $Q(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function QQ(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function fU(t,e,n){var i=ta.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function dU(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function JQ(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function eJ(t,e,n){var i=ta.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function tJ(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function hU(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function nJ(t,e,n){var i=ta.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function pU(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function iJ(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function rJ(t,e,n){var i=ta.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function aJ(t,e,n){var i=ta.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function sJ(t,e,n){var i=ta.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function oJ(t,e,n){var i=WQ.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function lJ(t,e,n){var i=ta.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function uJ(t,e,n){var i=ta.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function mU(t,e){return Gn(t.getDate(),e,2)}function cJ(t,e){return Gn(t.getHours(),e,2)}function fJ(t,e){return Gn(t.getHours()%12||12,e,2)}function dJ(t,e){return Gn(1+gx.count(tf(t),t),e,3)}function m5(t,e){return Gn(t.getMilliseconds(),e,3)}function hJ(t,e){return m5(t,e)+"000"}function pJ(t,e){return Gn(t.getMonth()+1,e,2)}function mJ(t,e){return Gn(t.getMinutes(),e,2)}function gJ(t,e){return Gn(t.getSeconds(),e,2)}function vJ(t){var e=t.getDay();return e===0?7:e}function yJ(t,e){return Gn(lw.count(tf(t)-1,t),e,2)}function g5(t){var e=t.getDay();return e>=4||e===0?Tg(t):Tg.ceil(t)}function xJ(t,e){return t=g5(t),Gn(Tg.count(tf(t),t)+(tf(t).getDay()===4),e,2)}function bJ(t){return t.getDay()}function _J(t,e){return Gn(CS.count(tf(t)-1,t),e,2)}function SJ(t,e){return Gn(t.getFullYear()%100,e,2)}function MJ(t,e){return t=g5(t),Gn(t.getFullYear()%100,e,2)}function wJ(t,e){return Gn(t.getFullYear()%1e4,e,4)}function EJ(t,e){var n=t.getDay();return t=n>=4||n===0?Tg(t):Tg.ceil(t),Gn(t.getFullYear()%1e4,e,4)}function AJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gn(e/60|0,"0",2)+Gn(e%60,"0",2)}function gU(t,e){return Gn(t.getUTCDate(),e,2)}function TJ(t,e){return Gn(t.getUTCHours(),e,2)}function CJ(t,e){return Gn(t.getUTCHours()%12||12,e,2)}function RJ(t,e){return Gn(1+ow.count(nf(t),t),e,3)}function v5(t,e){return Gn(t.getUTCMilliseconds(),e,3)}function PJ(t,e){return v5(t,e)+"000"}function DJ(t,e){return Gn(t.getUTCMonth()+1,e,2)}function OJ(t,e){return Gn(t.getUTCMinutes(),e,2)}function NJ(t,e){return Gn(t.getUTCSeconds(),e,2)}function LJ(t){var e=t.getUTCDay();return e===0?7:e}function IJ(t,e){return Gn(uw.count(nf(t)-1,t),e,2)}function y5(t){var e=t.getUTCDay();return e>=4||e===0?Cg(t):Cg.ceil(t)}function UJ(t,e){return t=y5(t),Gn(Cg.count(nf(t),t)+(nf(t).getUTCDay()===4),e,2)}function kJ(t){return t.getUTCDay()}function zJ(t,e){return Gn(RS.count(nf(t)-1,t),e,2)}function FJ(t,e){return Gn(t.getUTCFullYear()%100,e,2)}function BJ(t,e){return t=y5(t),Gn(t.getUTCFullYear()%100,e,2)}function VJ(t,e){return Gn(t.getUTCFullYear()%1e4,e,4)}function jJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Cg(t):Cg.ceil(t),Gn(t.getUTCFullYear()%1e4,e,4)}function GJ(){return"+0000"}function vU(){return"%"}function yU(t){return+t}function xU(t){return Math.floor(+t/1e3)}var Nm,x5,b5;HJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HJ(t){return Nm=HQ(t),x5=Nm.format,Nm.parse,b5=Nm.utcFormat,Nm.utcParse,Nm}function WJ(t){return new Date(t)}function XJ(t){return t instanceof Date?+t:+new Date(+t)}function gP(t,e,n,i,r,a,s,l,u,f){var p=nP(),g=p.invert,v=p.domain,y=f(".%L"),_=f(":%S"),w=f("%I:%M"),S=f("%I %p"),M=f("%a %d"),R=f("%b %d"),T=f("%B"),P=f("%Y");function O(N){return(u(N)<N?y:l(N)<N?_:s(N)<N?w:a(N)<N?S:i(N)<N?r(N)<N?M:R:n(N)<N?T:P)(N)}return p.invert=function(N){return new Date(g(N))},p.domain=function(N){return arguments.length?v(Array.from(N,XJ)):v().map(WJ)},p.ticks=function(N){var k=v();return t(k[0],k[k.length-1],N??10)},p.tickFormat=function(N,k){return k==null?O:f(k)},p.nice=function(N){var k=v();return(!N||typeof N.range!="function")&&(N=e(k[0],k[k.length-1],N??10)),N?v(s5(k,N)):p},p.copy=function(){return mx(p,gP(t,e,n,i,r,a,s,l,u,f))},p}function qJ(){return dl.apply(gP(jQ,GQ,tf,pP,lw,gx,dP,cP,Xh,x5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YJ(){return dl.apply(gP(BQ,VQ,nf,mP,uw,ow,hP,fP,Xh,b5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cw(){var t=0,e=1,n,i,r,a,s=gs,l=!1,u;function f(g){return g==null||isNaN(g=+g)?u:s(r===0?.5:(g=(a(g)-n)*r,l?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),i=a(e=+e),r=n===i?0:1/(i-n),f):[t,e]},f.clamp=function(g){return arguments.length?(l=!!g,f):l},f.interpolator=function(g){return arguments.length?(s=g,f):s};function p(g){return function(v){var y,_;return arguments.length?([y,_]=v,s=g(y,_),f):[s(0),s(1)]}}return f.range=p(jg),f.rangeRound=p(tP),f.unknown=function(g){return arguments.length?(u=g,f):u},function(g){return a=g,n=g(t),i=g(e),r=n===i?0:1/(i-n),f}}function Od(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _5(){var t=Dd(cw()(gs));return t.copy=function(){return Od(t,_5())},df.apply(t,arguments)}function S5(){var t=aP(cw()).domain([1,10]);return t.copy=function(){return Od(t,S5()).base(t.base())},df.apply(t,arguments)}function M5(){var t=sP(cw());return t.copy=function(){return Od(t,M5()).constant(t.constant())},df.apply(t,arguments)}function vP(){var t=oP(cw());return t.copy=function(){return Od(t,vP()).exponent(t.exponent())},df.apply(t,arguments)}function KJ(){return vP.apply(null,arguments).exponent(.5)}function w5(){var t=[],e=gs;function n(i){if(i!=null&&!isNaN(i=+i))return e((hx(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let r of i)r!=null&&!isNaN(r=+r)&&t.push(r);return t.sort(xd),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,r)=>e(r/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,a)=>L$(t,a/i))},n.copy=function(){return w5(e).domain(t)},df.apply(n,arguments)}function fw(){var t=0,e=.5,n=1,i=1,r,a,s,l,u,f=gs,p,g=!1,v;function y(w){return isNaN(w=+w)?v:(w=.5+((w=+p(w))-a)*(i*w<i*a?l:u),f(g?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,r=p(t=+t),a=p(e=+e),s=p(n=+n),l=r===a?0:.5/(a-r),u=a===s?0:.5/(s-a),i=a<r?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(g=!!w,y):g},y.interpolator=function(w){return arguments.length?(f=w,y):f};function _(w){return function(S){var M,R,T;return arguments.length?([M,R,T]=S,f=oQ(w,[M,R,T]),y):[f(0),f(.5),f(1)]}}return y.range=_(jg),y.rangeRound=_(tP),y.unknown=function(w){return arguments.length?(v=w,y):v},function(w){return p=w,r=w(t),a=w(e),s=w(n),l=r===a?0:.5/(a-r),u=a===s?0:.5/(s-a),i=a<r?-1:1,y}}function E5(){var t=Dd(fw()(gs));return t.copy=function(){return Od(t,E5())},df.apply(t,arguments)}function A5(){var t=aP(fw()).domain([.1,1,10]);return t.copy=function(){return Od(t,A5()).base(t.base())},df.apply(t,arguments)}function T5(){var t=sP(fw());return t.copy=function(){return Od(t,T5()).constant(t.constant())},df.apply(t,arguments)}function yP(){var t=oP(fw());return t.copy=function(){return Od(t,yP()).exponent(t.exponent())},df.apply(t,arguments)}function ZJ(){return yP.apply(null,arguments).exponent(.5)}const Wv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:QR,scaleDiverging:E5,scaleDivergingLog:A5,scaleDivergingPow:yP,scaleDivergingSqrt:ZJ,scaleDivergingSymlog:T5,scaleIdentity:a5,scaleImplicit:y3,scaleLinear:r5,scaleLog:o5,scaleOrdinal:$R,scalePoint:k$,scalePow:lP,scaleQuantile:c5,scaleQuantize:f5,scaleRadial:u5,scaleSequential:_5,scaleSequentialLog:S5,scaleSequentialPow:vP,scaleSequentialQuantile:w5,scaleSequentialSqrt:KJ,scaleSequentialSymlog:M5,scaleSqrt:PQ,scaleSymlog:l5,scaleThreshold:d5,scaleTime:qJ,scaleUtc:YJ,tickFormat:i5},Symbol.toStringTag,{value:"Module"}));var hf=t=>t.chartData,dw=Ie([hf],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),C5=(t,e,n,i)=>i?dw(t):hf(t),jye=(t,e,n)=>n?dw(t):hf(t);function rf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(xi(e)&&xi(n))return!0}return!1}function bU(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function R5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,r,a;if(xi(n))r=n;else if(typeof n=="function")return;if(xi(i))a=i;else if(typeof i=="function")return;var s=[r,a];if(rf(s))return s}}function $J(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(rf(i))return bU(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[r,a]=t,s,l;if(r==="auto")e!=null&&(s=Math.min(...e));else if(si(r))s=r;else if(typeof r=="function")try{e!=null&&(s=r(e?.[0]))}catch{}else if(typeof r=="string"&&sI.test(r)){var u=sI.exec(r);if(u==null||u[1]==null||e==null)s=void 0;else{var f=+u[1];s=e[0]-f}}else s=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(si(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&oI.test(a)){var p=oI.exec(a);if(p==null||p[1]==null||e==null)l=void 0;else{var g=+p[1];l=e[1]+g}}else l=e?.[1];var v=[s,l];if(rf(v))return e==null?v:bU(v,e,n)}}}var Gg=1e9,QJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bP,Ui=!0,cl="[DecimalError] ",ep=cl+"Invalid argument: ",xP=cl+"Exponent out of range: ",Hg=Math.floor,zh=Math.pow,JJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,po,Jr=1e7,Ci=7,P5=9007199254740991,PS=Hg(P5/Ci),Lt={};Lt.absoluteValue=Lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Lt.comparedTo=Lt.cmp=function(t){var e,n,i,r,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(i=a.d.length,r=t.d.length,e=0,n=i<r?i:r;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};Lt.decimalPlaces=Lt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ci;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Lt.dividedBy=Lt.div=function(t){return Yc(this,new this.constructor(t))};Lt.dividedToIntegerBy=Lt.idiv=function(t){var e=this,n=e.constructor;return ci(Yc(e,new n(t),0,1),n.precision)};Lt.equals=Lt.eq=function(t){return!this.cmp(t)};Lt.exponent=function(){return Ar(this)};Lt.greaterThan=Lt.gt=function(t){return this.cmp(t)>0};Lt.greaterThanOrEqualTo=Lt.gte=function(t){return this.cmp(t)>=0};Lt.isInteger=Lt.isint=function(){return this.e>this.d.length-2};Lt.isNegative=Lt.isneg=function(){return this.s<0};Lt.isPositive=Lt.ispos=function(){return this.s>0};Lt.isZero=function(){return this.s===0};Lt.lessThan=Lt.lt=function(t){return this.cmp(t)<0};Lt.lessThanOrEqualTo=Lt.lte=function(t){return this.cmp(t)<1};Lt.logarithm=Lt.log=function(t){var e,n=this,i=n.constructor,r=i.precision,a=r+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(po))throw Error(cl+"NaN");if(n.s<1)throw Error(cl+(n.s?"NaN":"-Infinity"));return n.eq(po)?new i(0):(Ui=!1,e=Yc(Iy(n,a),Iy(t,a),a),Ui=!0,ci(e,r))};Lt.minus=Lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?N5(e,t):D5(e,(t.s=-t.s,t))};Lt.modulo=Lt.mod=function(t){var e,n=this,i=n.constructor,r=i.precision;if(t=new i(t),!t.s)throw Error(cl+"NaN");return n.s?(Ui=!1,e=Yc(n,t,0,1).times(t),Ui=!0,n.minus(e)):ci(new i(n),r)};Lt.naturalExponential=Lt.exp=function(){return O5(this)};Lt.naturalLogarithm=Lt.ln=function(){return Iy(this)};Lt.negated=Lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Lt.plus=Lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D5(e,t):N5(e,(t.s=-t.s,t))};Lt.precision=Lt.sd=function(t){var e,n,i,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ep+t);if(e=Ar(r)+1,i=r.d.length-1,n=i*Ci+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};Lt.squareRoot=Lt.sqrt=function(){var t,e,n,i,r,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(cl+"NaN")}for(t=Ar(l),Ui=!1,r=Math.sqrt(+l),r==0||r==1/0?(e=Vu(l.d),(e.length+t)%2==0&&(e+="0"),r=Math.sqrt(e),t=Hg((t+1)/2)-(t<0||t%2),r==1/0?e="5e"+t:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new u(e)):i=new u(r.toString()),n=u.precision,r=s=n+3;;)if(a=i,i=a.plus(Yc(l,a,s+2)).times(.5),Vu(a.d).slice(0,s)===(e=Vu(i.d)).slice(0,s)){if(e=e.slice(s-3,s+1),r==s&&e=="4999"){if(ci(a,n+1,0),a.times(a).eq(l)){i=a;break}}else if(e!="9999")break;s+=4}return Ui=!0,ci(i,n)};Lt.times=Lt.mul=function(t){var e,n,i,r,a,s,l,u,f,p=this,g=p.constructor,v=p.d,y=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,u=v.length,f=y.length,u<f&&(a=v,v=y,y=a,s=u,u=f,f=s),a=[],s=u+f,i=s;i--;)a.push(0);for(i=f;--i>=0;){for(e=0,r=u+i;r>i;)l=a[r]+y[i]*v[r-i-1]+e,a[r--]=l%Jr|0,e=l/Jr|0;a[r]=(a[r]+e)%Jr|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ui?ci(t,g.precision):t};Lt.toDecimalPlaces=Lt.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Yu(t,0,Gg),e===void 0?e=i.rounding:Yu(e,0,8),ci(n,t+Ar(n)+1,e))};Lt.toExponential=function(t,e){var n,i=this,r=i.constructor;return t===void 0?n=hp(i,!0):(Yu(t,0,Gg),e===void 0?e=r.rounding:Yu(e,0,8),i=ci(new r(i),t+1,e),n=hp(i,!0,t+1)),n};Lt.toFixed=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?hp(r):(Yu(t,0,Gg),e===void 0?e=a.rounding:Yu(e,0,8),i=ci(new a(r),t+Ar(r)+1,e),n=hp(i.abs(),!1,t+Ar(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};Lt.toInteger=Lt.toint=function(){var t=this,e=t.constructor;return ci(new e(t),Ar(t)+1,e.rounding)};Lt.toNumber=function(){return+this};Lt.toPower=Lt.pow=function(t){var e,n,i,r,a,s,l=this,u=l.constructor,f=12,p=+(t=new u(t));if(!t.s)return new u(po);if(l=new u(l),!l.s){if(t.s<1)throw Error(cl+"Infinity");return l}if(l.eq(po))return l;if(i=u.precision,t.eq(po))return ci(l,i);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=p<0?-p:p)<=P5){for(r=new u(po),e=Math.ceil(i/Ci+4),Ui=!1;n%2&&(r=r.times(l),SU(r.d,e)),n=Hg(n/2),n!==0;)l=l.times(l),SU(l.d,e);return Ui=!0,t.s<0?new u(po).div(r):ci(r,i)}}else if(a<0)throw Error(cl+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Ui=!1,r=t.times(Iy(l,i+f)),Ui=!0,r=O5(r),r.s=a,r};Lt.toPrecision=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?(n=Ar(r),i=hp(r,n<=a.toExpNeg||n>=a.toExpPos)):(Yu(t,1,Gg),e===void 0?e=a.rounding:Yu(e,0,8),r=ci(new a(r),t,e),n=Ar(r),i=hp(r,t<=n||n<=a.toExpNeg,t)),i};Lt.toSignificantDigits=Lt.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Yu(t,1,Gg),e===void 0?e=i.rounding:Yu(e,0,8)),ci(new i(n),t,e)};Lt.toString=Lt.valueOf=Lt.val=Lt.toJSON=Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ar(t),n=t.constructor;return hp(t,e<=n.toExpNeg||e>=n.toExpPos)};function D5(t,e){var n,i,r,a,s,l,u,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ui?ci(e,g):e;if(u=t.d,f=e.d,s=t.e,r=e.e,u=u.slice(),a=s-r,a){for(a<0?(i=u,a=-a,l=f.length):(i=f,r=s,l=u.length),s=Math.ceil(g/Ci),l=s>l?s+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,i=f,f=u,u=i),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/Jr|0,u[a]%=Jr;for(n&&(u.unshift(n),++r),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=r,Ui?ci(e,g):e}function Yu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ep+t)}function Vu(t){var e,n,i,r=t.length-1,a="",s=t[0];if(r>0){for(a+=s,e=1;e<r;e++)i=t[e]+"",n=Ci-i.length,n&&(a+=cd(n)),a+=i;s=t[e],i=s+"",n=Ci-i.length,n&&(a+=cd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Yc=(function(){function t(i,r){var a,s=0,l=i.length;for(i=i.slice();l--;)a=i[l]*r+s,i[l]=a%Jr|0,s=a/Jr|0;return s&&i.unshift(s),i}function e(i,r,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(i[l]!=r[l]){u=i[l]>r[l]?1:-1;break}return u}function n(i,r,a){for(var s=0;a--;)i[a]-=s,s=i[a]<r[a]?1:0,i[a]=s*Jr+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,s){var l,u,f,p,g,v,y,_,w,S,M,R,T,P,O,N,k,z,I=i.constructor,U=i.s==r.s?1:-1,W=i.d,H=r.d;if(!i.s)return new I(i);if(!r.s)throw Error(cl+"Division by zero");for(u=i.e-r.e,k=H.length,O=W.length,y=new I(U),_=y.d=[],f=0;H[f]==(W[f]||0);)++f;if(H[f]>(W[f]||0)&&--u,a==null?R=a=I.precision:s?R=a+(Ar(i)-Ar(r))+1:R=a,R<0)return new I(0);if(R=R/Ci+2|0,f=0,k==1)for(p=0,H=H[0],R++;(f<O||p)&&R--;f++)T=p*Jr+(W[f]||0),_[f]=T/H|0,p=T%H|0;else{for(p=Jr/(H[0]+1)|0,p>1&&(H=t(H,p),W=t(W,p),k=H.length,O=W.length),P=k,w=W.slice(0,k),S=w.length;S<k;)w[S++]=0;z=H.slice(),z.unshift(0),N=H[0],H[1]>=Jr/2&&++N;do p=0,l=e(H,w,k,S),l<0?(M=w[0],k!=S&&(M=M*Jr+(w[1]||0)),p=M/N|0,p>1?(p>=Jr&&(p=Jr-1),g=t(H,p),v=g.length,S=w.length,l=e(g,w,v,S),l==1&&(p--,n(g,k<v?z:H,v))):(p==0&&(l=p=1),g=H.slice()),v=g.length,v<S&&g.unshift(0),n(w,g,S),l==-1&&(S=w.length,l=e(H,w,k,S),l<1&&(p++,n(w,k<S?z:H,S))),S=w.length):l===0&&(p++,w=[0]),_[f++]=p,l&&w[0]?w[S++]=W[P]||0:(w=[W[P]],S=1);while((P++<O||w[0]!==void 0)&&R--)}return _[0]||_.shift(),y.e=u,ci(y,s?a+Ar(y)+1:a)}})();function O5(t,e){var n,i,r,a,s,l,u=0,f=0,p=t.constructor,g=p.precision;if(Ar(t)>16)throw Error(xP+Ar(t));if(!t.s)return new p(po);for(Ui=!1,l=g,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(i=Math.log(zh(2,f))/Math.LN10*2+5|0,l+=i,n=r=a=new p(po),p.precision=l;;){if(r=ci(r.times(t),l),n=n.times(++u),s=a.plus(Yc(r,n,l)),Vu(s.d).slice(0,l)===Vu(a.d).slice(0,l)){for(;f--;)a=ci(a.times(a),l);return p.precision=g,e==null?(Ui=!0,ci(a,g)):a}a=s}}function Ar(t){for(var e=t.e*Ci,n=t.d[0];n>=10;n/=10)e++;return e}function uT(t,e,n){if(e>t.LN10.sd())throw Ui=!0,n&&(t.precision=n),Error(cl+"LN10 precision limit exceeded");return ci(new t(t.LN10),e)}function cd(t){for(var e="";t--;)e+="0";return e}function Iy(t,e){var n,i,r,a,s,l,u,f,p,g=1,v=10,y=t,_=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(cl+(y.s?"NaN":"-Infinity"));if(y.eq(po))return new w(0);if(e==null?(Ui=!1,f=S):f=e,y.eq(10))return e==null&&(Ui=!0),uT(w,f);if(f+=v,w.precision=f,n=Vu(_),i=n.charAt(0),a=Ar(y),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)y=y.times(t),n=Vu(y.d),i=n.charAt(0),g++;a=Ar(y),i>1?(y=new w("0."+n),a++):y=new w(i+"."+n.slice(1))}else return u=uT(w,f+2,S).times(a+""),y=Iy(new w(i+"."+n.slice(1)),f-v).plus(u),w.precision=S,e==null?(Ui=!0,ci(y,S)):y;for(l=s=y=Yc(y.minus(po),y.plus(po),f),p=ci(y.times(y),f),r=3;;){if(s=ci(s.times(p),f),u=l.plus(Yc(s,new w(r),f)),Vu(u.d).slice(0,f)===Vu(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(uT(w,f+2,S).times(a+""))),l=Yc(l,new w(g),f),w.precision=S,e==null?(Ui=!0,ci(l,S)):l;l=u,r+=2}}function _U(t,e){var n,i,r;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,n=n-i-1,t.e=Hg(n/Ci),t.d=[],i=(n+1)%Ci,n<0&&(i+=Ci),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=Ci;i<r;)t.d.push(+e.slice(i,i+=Ci));e=e.slice(i),i=Ci-e.length}else i-=r;for(;i--;)e+="0";if(t.d.push(+e),Ui&&(t.e>PS||t.e<-PS))throw Error(xP+n)}else t.s=0,t.e=0,t.d=[0];return t}function ci(t,e,n){var i,r,a,s,l,u,f,p,g=t.d;for(s=1,a=g[0];a>=10;a/=10)s++;if(i=e-s,i<0)i+=Ci,r=e,f=g[p=0];else{if(p=Math.ceil((i+1)/Ci),a=g.length,p>=a)return t;for(f=a=g[p],s=1;a>=10;a/=10)s++;i%=Ci,r=i-Ci+s}if(n!==void 0&&(a=zh(10,s-r-1),l=f/a%10|0,u=e<0||g[p+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(i>0?r>0?f/zh(10,s-r):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return u?(a=Ar(t),g.length=1,e=e-a-1,g[0]=zh(10,(Ci-e%Ci)%Ci),t.e=Hg(-e/Ci)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(i==0?(g.length=p,a=1,p--):(g.length=p+1,a=zh(10,Ci-i),g[p]=r>0?(f/zh(10,s-r)%zh(10,r)|0)*a:0),u)for(;;)if(p==0){(g[0]+=a)==Jr&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=Jr)break;g[p--]=0,a=1}for(i=g.length;g[--i]===0;)g.pop();if(Ui&&(t.e>PS||t.e<-PS))throw Error(xP+Ar(t));return t}function N5(t,e){var n,i,r,a,s,l,u,f,p,g,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ui?ci(e,y):e;if(u=t.d,g=e.d,i=e.e,f=t.e,u=u.slice(),s=f-i,s){for(p=s<0,p?(n=u,s=-s,l=g.length):(n=g,i=f,l=u.length),r=Math.max(Math.ceil(y/Ci),l)+2,s>r&&(s=r,n.length=1),n.reverse(),r=s;r--;)n.push(0);n.reverse()}else{for(r=u.length,l=g.length,p=r<l,p&&(l=r),r=0;r<l;r++)if(u[r]!=g[r]){p=u[r]<g[r];break}s=0}for(p&&(n=u,u=g,g=n,e.s=-e.s),l=u.length,r=g.length-l;r>0;--r)u[l++]=0;for(r=g.length;r>s;){if(u[--r]<g[r]){for(a=r;a&&u[--a]===0;)u[a]=Jr-1;--u[a],u[r]+=Jr}u[r]-=g[r]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--i;return u[0]?(e.d=u,e.e=i,Ui?ci(e,y):e):new v(0)}function hp(t,e,n){var i,r=Ar(t),a=Vu(t.d),s=a.length;return e?(n&&(i=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+cd(i):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+cd(-r-1)+a,n&&(i=n-s)>0&&(a+=cd(i))):r>=s?(a+=cd(r+1-s),n&&(i=n-r-1)>0&&(a=a+"."+cd(i))):((i=r+1)<s&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-s)>0&&(r+1===s&&(a+="."),a+=cd(i))),t.s<0?"-"+a:a}function SU(t,e){if(t.length>e)return t.length=e,!0}function L5(t){var e,n,i;function r(a){var s=this;if(!(s instanceof r))return new r(a);if(s.constructor=r,a instanceof r){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ep+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return _U(s,a.toString())}else if(typeof a!="string")throw Error(ep+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,JJ.test(a))_U(s,a);else throw Error(ep+a)}if(r.prototype=Lt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=L5,r.config=r.set=eee,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return r.config(t),r}function eee(t){if(!t||typeof t!="object")throw Error(cl+"Object expected");var e,n,i,r=["precision",1,Gg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=t[n=r[e]])!==void 0)if(Hg(i)===i&&i>=r[e+1]&&i<=r[e+2])this[n]=i;else throw Error(ep+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(ep+n+": "+i);return this}var bP=L5(QJ);po=new bP(1);const Qn=bP;function I5(t){var e;return t===0?e=1:e=Math.floor(new Qn(t).abs().log(10).toNumber())+1,e}function U5(t,e,n){for(var i=new Qn(t),r=0,a=[];i.lt(e)&&r<1e5;)a.push(i.toNumber()),i=i.add(n),r++;return a}var k5=t=>{var[e,n]=t,[i,r]=[e,n];return e>n&&([i,r]=[n,e]),[i,r]},z5=(t,e,n)=>{if(t.lte(0))return new Qn(0);var i=I5(t.toNumber()),r=new Qn(10).pow(i),a=t.div(r),s=i!==1?.05:.1,l=new Qn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=l.mul(r);return e?new Qn(u.toNumber()):new Qn(Math.ceil(u.toNumber()))},tee=(t,e,n)=>{var i=new Qn(1),r=new Qn(t);if(!r.isint()&&n){var a=Math.abs(t);a<1?(i=new Qn(10).pow(I5(t)-1),r=new Qn(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new Qn(Math.floor(t)))}else t===0?r=new Qn(Math.floor((e-1)/2)):n||(r=new Qn(Math.floor(t)));for(var s=Math.floor((e-1)/2),l=[],u=0;u<e;u++)l.push(r.add(new Qn(u-s).mul(i)).toNumber());return l},F5=function(e,n,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new Qn(0),tickMin:new Qn(0),tickMax:new Qn(0)};var s=z5(new Qn(n).sub(e).div(i-1),r,a),l;e<=0&&n>=0?l=new Qn(0):(l=new Qn(e).add(n).div(2),l=l.sub(new Qn(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),f=Math.ceil(new Qn(n).sub(l).div(s).toNumber()),p=u+f+1;return p>i?F5(e,n,i,r,a+1):(p<i&&(f=n>0?f+(i-p):f,u=n>0?u:u+(i-p)),{step:s,tickMin:l.sub(new Qn(u).mul(s)),tickMax:l.add(new Qn(f).mul(s))})},nee=function(e){var[n,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,u]=k5([n,i]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),u];return n>i?f.reverse():f}if(l===u)return tee(l,r,a);var{step:p,tickMin:g,tickMax:v}=F5(l,u,s,a,0),y=U5(g,v.add(new Qn(.1).mul(p)),p);return n>i?y.reverse():y},iee=function(e,n){var[i,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=k5([i,r]);if(s===-1/0||l===1/0)return[i,r];if(s===l)return[s];var u=Math.max(n,2),f=z5(new Qn(l).sub(s).div(u-1),a,0),p=[...U5(new Qn(s),new Qn(l),f),l];return a===!1&&(p=p.map(g=>Math.round(g))),i>r?p.reverse():p},ree=t=>t.rootProps.barCategoryGap,vx=t=>t.rootProps.stackOffset,B5=t=>t.rootProps.reverseStackOrder,_P=t=>t.options.chartName,V5=t=>t.rootProps.syncId,aee=t=>t.rootProps.syncMethod,j5=t=>t.options.eventEmitter,Gye=t=>t.rootProps.baseValue,$u={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ud={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:$u.axis},Pu={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},hw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function SP(t,e,n){if(n!=="auto")return n;if(t!=null)return uf(t,e)?"category":"number"}function MU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function DS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MU(Object(n),!0).forEach(function(i){see(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function see(t,e,n){return(e=oee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=lee(t,"string");return typeof e=="symbol"?e:e+""}function lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wU={allowDataOverflow:ud.allowDataOverflow,allowDecimals:ud.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ud.angleAxisId,includeHidden:!1,name:void 0,reversed:ud.reversed,scale:ud.scale,tick:ud.tick,tickCount:void 0,ticks:void 0,type:ud.type,unit:void 0},EU={allowDataOverflow:Pu.allowDataOverflow,allowDecimals:Pu.allowDecimals,allowDuplicatedCategory:Pu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pu.radiusAxisId,includeHidden:Pu.includeHidden,name:void 0,reversed:Pu.reversed,scale:Pu.scale,tick:Pu.tick,tickCount:Pu.tickCount,ticks:void 0,type:Pu.type,unit:void 0},uee=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},Wg=Ie([uee,XR],(t,e)=>{var n;if(t!=null)return t;var i=(n=SP(e,"angleAxis",wU.type))!==null&&n!==void 0?n:"category";return DS(DS({},wU),{},{type:i})}),cee=(t,e)=>t.polarAxis.radiusAxis[e],yx=Ie([cee,XR],(t,e)=>{var n;if(t!=null)return t;var i=(n=SP(e,"radiusAxis",EU.type))!==null&&n!==void 0?n:"category";return DS(DS({},EU),{},{type:i})}),pw=t=>t.polarOptions,MP=Ie([cf,ff,Xa],d$),G5=Ie([pw,MP],(t,e)=>{if(t!=null)return up(t.innerRadius,e,0)}),H5=Ie([pw,MP],(t,e)=>{if(t!=null)return up(t.outerRadius,e,e*.8)}),fee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},W5=Ie([pw],fee),dee=Ie([Wg,W5],hw),X5=Ie([MP,G5,H5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),hee=Ie([yx,X5],hw),xx=Ie([li,pw,G5,H5,cf,ff],(t,e,n,i,r,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:s,cy:l,startAngle:u,endAngle:f}=e;return{cx:up(s,r,r/2),cy:up(l,a,a/2),innerRadius:n,outerRadius:i,startAngle:u,endAngle:f,clockWise:!1}}}),bi=(t,e)=>e,bx=(t,e,n)=>n;function q5(t){return t?.id}function Y5(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:a}=n,s=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:i;if(!(f==null||f.length===0)){var p=q5(l);f.forEach((g,v)=>{var y=a==null||r?v:String(kr(g,a,null)),_=kr(g,l.dataKey,0),w;s.has(y)?w=s.get(y):w={},Object.assign(w,{[p]:_}),s.set(y,w)})}}),Array.from(s.values())}function wP(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var mw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function gw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function pee(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var na=t=>{var e=li(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xg=t=>t.tooltip.settings.axisId;function mee(t){if(t in Wv)return Wv[t]();var e="scale".concat(WF(t));if(e in Wv)return Wv[e]()}function AU(t){var e=t.ticks,n=t.bandwidth,i=t.range(),r=[Math.min(...i),Math.max(...i)];return{domain:()=>t.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(a){var s=r[0],l=r[1];return s<=l?a>=s&&a<=l:a>=l&&a<=s},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,s)=>{var l=t(a);if(l!=null){if(t.bandwidth&&s!==null&&s!==void 0&&s.position){var u=t.bandwidth();switch(s.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function TU(t,e,n){if(typeof t=="function")return AU(t.copy().domain(e).range(n));if(t!=null){var i=mee(t);if(i!=null)return i.domain(e).range(n),AU(i)}}var K5=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!rf(e)){for(var n,i,r=0;r<e.length;r++){var a=e[r];xi(a)&&((n===void 0||a<n)&&(n=a),(i===void 0||a>i)&&(i=a))}return n!==void 0&&i!==void 0?[n,i]:void 0}return e}default:return e}};function CU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function OS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(n),!0).forEach(function(i){gee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gee(t,e,n){return(e=vee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S3=[0,"auto"],xee={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},bee=(t,e)=>t.cartesianAxis.xAxis[e],Nd=(t,e)=>{var n=bee(t,e);return n??xee},_ee={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:S3,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cx},See=(t,e)=>t.cartesianAxis.yAxis[e],Ld=(t,e)=>{var n=See(t,e);return n??_ee},Mee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},EP=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Mee},rr=(t,e,n)=>{switch(e){case"xAxis":return Nd(t,n);case"yAxis":return Ld(t,n);case"zAxis":return EP(t,n);case"angleAxis":return Wg(t,n);case"radiusAxis":return yx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},wee=(t,e,n)=>{switch(e){case"xAxis":return Nd(t,n);case"yAxis":return Ld(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ap=(t,e,n)=>{switch(e){case"xAxis":return Nd(t,n);case"yAxis":return Ld(t,n);case"angleAxis":return Wg(t,n);case"radiusAxis":return yx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Z5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function AP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Eee=t=>t.graphicalItems.cartesianItems,Aee=Ie([bi,bx],AP),TP=(t,e,n)=>t.filter(n).filter(i=>e?.includeHidden===!0?!0:!i.hide),_x=Ie([Eee,rr,Aee],TP,{memoizeOptions:{resultEqualityCheck:gw}}),$5=Ie([_x],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(wP)),Q5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Tee=Ie([_x],Q5),CP=t=>t.map(e=>e.data).filter(Boolean).flat(1),Cee=Ie([_x],CP,{memoizeOptions:{resultEqualityCheck:gw}}),RP=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=e;return t.length>0?t:n.slice(i,r+1)},PP=Ie([Cee,C5],RP),DP=(t,e,n)=>e?.dataKey!=null?t.map(i=>({value:kr(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(r=>({value:kr(r,i)}))):t.map(i=>({value:i})),vw=Ie([PP,rr,_x],DP);function J5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function V_(t){if(Sy(t)||t instanceof Date){var e=Number(t);if(xi(e))return e}}function RU(t){if(Array.isArray(t)){var e=[V_(t[0]),V_(t[1])];return rf(e)?e:void 0}var n=V_(t);if(n!=null)return[n,n]}function af(t){return t.map(V_).filter(Fu)}function Ree(t,e,n){return!n||typeof e!="number"||Qc(e)?[]:n.length?af(n.flatMap(i=>{var r=kr(t,i.dataKey),a,s;if(Array.isArray(r)?[a,s]=r:a=s=r,!(!xi(a)||!xi(s)))return[e-a,e+s]})):[]}var ia=t=>{var e=na(t),n=Xg(t);return Ap(t,e,n)},Sx=Ie([ia],t=>t?.dataKey),Pee=Ie([$5,C5,ia],Y5),e6=(t,e,n,i)=>{var r={},a=e.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},r);return Object.fromEntries(Object.entries(a).map(s=>{var[l,u]=s,f=i?[...u].reverse():u,p=f.map(q5);return[l,{stackedData:kK(t,p,n),graphicalItems:f}]}))},Dee=Ie([Pee,$5,vx,B5],e6),t6=(t,e,n,i)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(i==null&&n!=="zAxis"){var s=BK(t,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Oee=Ie([rr],t=>t.allowDataOverflow),OP=t=>{var e;if(t==null||!("domain"in t))return S3;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=af(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:S3},NP=Ie([rr],OP),LP=Ie([NP,Oee],R5),Nee=Ie([Dee,hf,bi,LP],t6,{memoizeOptions:{resultEqualityCheck:mw}}),yw=t=>t.errorBars,Lee=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>J5(n,i)),NS=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var a=r.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},IP=(t,e,n,i,r)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var f,p,g=(f=i[u.id])===null||f===void 0?void 0:f.filter(M=>J5(r,M)),v=kr(l,(p=e.dataKey)!==null&&p!==void 0?p:u.dataKey),y=Ree(l,v,g);if(y.length>=2){var _=Math.min(...y),w=Math.max(...y);(a==null||_<a)&&(a=_),(s==null||w>s)&&(s=w)}var S=RU(v);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var u=RU(kr(l,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),xi(a)&&xi(s))return[a,s]},Iee=Ie([PP,rr,Tee,yw,bi],IP,{memoizeOptions:{resultEqualityCheck:mw}});function Uee(t){var{value:e}=t;if(Sy(e)||e instanceof Date)return e}var kee=(t,e,n)=>{var i=t.map(Uee).filter(r=>r!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&GF(i))?YB(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},n6=t=>t.referenceElements.dots,qg=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),zee=Ie([n6,bi,bx],qg),i6=t=>t.referenceElements.areas,Fee=Ie([i6,bi,bx],qg),r6=t=>t.referenceElements.lines,Bee=Ie([r6,bi,bx],qg),a6=(t,e)=>{if(t!=null){var n=af(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Vee=Ie(zee,bi,a6),s6=(t,e)=>{if(t!=null){var n=af(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jee=Ie([Fee,bi],s6);function Gee(t){var e;if(t.x!=null)return af([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.x);return n==null||n.length===0?[]:af(n)}function Hee(t){var e;if(t.y!=null)return af([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.y);return n==null||n.length===0?[]:af(n)}var o6=(t,e)=>{if(t!=null){var n=t.flatMap(i=>e==="xAxis"?Gee(i):Hee(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Wee=Ie([Bee,bi],o6),Xee=Ie(Vee,Wee,jee,(t,e,n)=>NS(t,n,e)),UP=(t,e,n,i,r,a,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",f=u?NS(i,a,r):NS(a,r);return $J(e,f,t.allowDataOverflow)},qee=Ie([rr,NP,LP,Nee,Iee,Xee,li,bi],UP,{memoizeOptions:{resultEqualityCheck:mw}}),Yee=[0,1],kP=(t,e,n,i,r,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=t,f=uf(e,a);if(f&&l==null){var p;return YB(0,(p=n?.length)!==null&&p!==void 0?p:0)}return u==="category"?kee(i,t,f):r==="expand"?Yee:s}},zP=Ie([rr,li,PP,vw,vx,bi,qee],kP);function Kee(t){return t in Wv}var l6=(t,e,n)=>{if(t!=null){var{scale:i,type:r}=t;if(i==="auto")return r==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":r==="category"?"band":"linear";if(typeof i=="string"){var a="scale".concat(WF(i));return Kee(a)?a:"point"}}},Qu=Ie([rr,Z5,_P],l6);function xw(t,e,n,i){if(!(n==null||i==null))return typeof t.scale=="function"?TU(t.scale,n,i):TU(e,n,i)}var FP=(t,e,n)=>{var i=OP(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&rf(t))return nee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&rf(t))return iee(t,e.tickCount,e.allowDecimals)}},BP=Ie([zP,Ap,Qu],FP),VP=(t,e,n,i)=>{if(i!=="angleAxis"&&t?.type==="number"&&rf(e)&&Array.isArray(n)&&n.length>0){var r,a,s=e[0],l=(r=n[0])!==null&&r!==void 0?r:0,u=e[1],f=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,l),Math.max(u,f)]}return e},Zee=Ie([rr,zP,BP,bi],VP),$ee=Ie(vw,rr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(af(t.map(g=>g.value))).sort((g,v)=>g-v),r=i[0],a=i[i.length-1];if(r==null||a==null)return 1/0;var s=a-r;if(s===0)return 1/0;for(var l=0;l<i.length-1;l++){var u=i[l],f=i[l+1];if(!(u==null||f==null)){var p=f-u;n=Math.min(n,p)}}return n/s}}),u6=Ie($ee,li,ree,Xa,(t,e,n,i,r)=>r,(t,e,n,i,r)=>{if(!xi(t))return 0;var a=e==="vertical"?i.height:i.width;if(r==="gap")return t*a/2;if(r==="no-gap"){var s=up(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),Qee=(t,e,n)=>{var i=Nd(t,e);return i==null||typeof i.padding!="string"?0:u6(t,"xAxis",e,n,i.padding)},Jee=(t,e,n)=>{var i=Ld(t,e);return i==null||typeof i.padding!="string"?0:u6(t,"yAxis",e,n,i.padding)},ete=Ie(Nd,Qee,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:r}=t;return typeof r=="string"?{left:e,right:e}:{left:((n=r.left)!==null&&n!==void 0?n:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),tte=Ie(Ld,Jee,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:r}=t;return typeof r=="string"?{top:e,bottom:e}:{top:((n=r.top)!==null&&n!==void 0?n:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),nte=Ie([Xa,ete,nw,tw,(t,e,n)=>n],(t,e,n,i,r)=>{var{padding:a}=i;return r?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),ite=Ie([Xa,li,tte,nw,tw,(t,e,n)=>n],(t,e,n,i,r,a)=>{var{padding:s}=r;return a?[i.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Mx=(t,e,n,i)=>{var r;switch(e){case"xAxis":return nte(t,n,i);case"yAxis":return ite(t,n,i);case"zAxis":return(r=EP(t,n))===null||r===void 0?void 0:r.range;case"angleAxis":return W5(t);case"radiusAxis":return X5(t,n);default:return}},c6=Ie([rr,Mx],hw),rte=Ie([Qu,Zee],K5),bw=Ie([rr,Qu,rte,c6],xw);Ie([_x,yw,bi],Lee);function f6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _w=(t,e)=>e,Sw=(t,e,n)=>n,ate=Ie(JM,_w,Sw,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(f6)),ste=Ie(ew,_w,Sw,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(f6)),d6=(t,e)=>({width:t.width,height:e.height}),ote=(t,e)=>{var n=typeof e.width=="number"?e.width:cx;return{width:n,height:t.height}};Ie(Xa,Nd,d6);var lte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ute=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},cte=Ie(ff,Xa,ate,_w,Sw,(t,e,n,i,r)=>{var a={},s;return n.forEach(l=>{var u=d6(e,l);s==null&&(s=lte(e,i,t));var f=i==="top"&&!r||i==="bottom"&&r;a[l.id]=s-Number(f)*u.height,s+=(f?-1:1)*u.height}),a}),fte=Ie(cf,Xa,ste,_w,Sw,(t,e,n,i,r)=>{var a={},s;return n.forEach(l=>{var u=ote(e,l);s==null&&(s=ute(e,i,t));var f=i==="left"&&!r||i==="right"&&r;a[l.id]=s-Number(f)*u.width,s+=(f?-1:1)*u.width}),a}),dte=(t,e)=>{var n=Nd(t,e);if(n!=null)return cte(t,n.orientation,n.mirror)};Ie([Xa,Nd,dte,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n?.[i];return r==null?{x:t.left,y:0}:{x:t.left,y:r}}});var hte=(t,e)=>{var n=Ld(t,e);if(n!=null)return fte(t,n.orientation,n.mirror)};Ie([Xa,Ld,hte,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n?.[i];return r==null?{x:0,y:t.top}:{x:r,y:t.top}}});Ie(Xa,Ld,(t,e)=>{var n=typeof e.width=="number"?e.width:cx;return{width:n,height:t.height}});var h6=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:a,dataKey:s}=n,l=uf(t,i),u=e.map(f=>f.value);if(s&&l&&a==="category"&&r&&GF(u))return u}},wx=Ie([li,vw,rr,bi],h6),jP=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:a}=n,s=uf(t,i);if(s&&(r==="number"||a!=="auto"))return e.map(l=>l.value)}},GP=Ie([li,vw,Ap,bi],jP);Ie([li,wee,Qu,bw,wx,GP,Mx,BP,bi],(t,e,n,i,r,a,s,l,u)=>{if(e!=null){var f=uf(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:r,isCategorical:f,niceTicks:l,range:s,realScaleType:n,scale:i}}});var p6=(t,e,n,i,r,a,s,l,u)=>{if(!(e==null||i==null)){var f=uf(t,u),{type:p,ticks:g,tickCount:v}=e,y=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,_=p==="category"&&i.bandwidth?i.bandwidth()/y:0;_=u==="angleAxis"&&a!=null&&a.length>=2?md(a[0]-a[1])*2*_:_;var w=g||r;return w?w.map((S,M)=>{var R=s?s.indexOf(S):S,T=i.map(R);return xi(T)?{index:M,coordinate:T+_,value:S,offset:_}:null}).filter(Fu):f&&l?l.map((S,M)=>{var R=i.map(S);return xi(R)?{coordinate:R+_,value:S,index:M,offset:_}:null}).filter(Fu):i.ticks?i.ticks(v).map((S,M)=>{var R=i.map(S);return xi(R)?{coordinate:R+_,value:S,index:M,offset:_}:null}).filter(Fu):i.domain().map((S,M)=>{var R=i.map(S);return xi(R)?{coordinate:R+_,value:s?s[S]:S,index:M,offset:_}:null}).filter(Fu)}};Ie([li,Ap,Qu,bw,BP,Mx,wx,GP,bi],p6);var m6=(t,e,n,i,r,a,s)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var l=uf(t,s),{tickCount:u}=e,f=0;return f=s==="angleAxis"&&i?.length>=2?md(i[0]-i[1])*2*f:f,l&&a?a.map((p,g)=>{var v=n.map(p);return xi(v)?{coordinate:v+f,value:p,index:g,offset:f}:null}).filter(Fu):n.ticks?n.ticks(u).map((p,g)=>{var v=n.map(p);return xi(v)?{coordinate:v+f,value:p,index:g,offset:f}:null}).filter(Fu):n.domain().map((p,g)=>{var v=n.map(p);return xi(v)?{coordinate:v+f,value:r?r[p]:p,index:g,offset:f}:null}).filter(Fu)}},Hye=Ie([li,Ap,bw,Mx,wx,GP,bi],m6),Wye=Ie(rr,bw,(t,e)=>{if(!(t==null||e==null))return OS(OS({},t),{},{scale:e})}),pte=Ie([rr,Qu,zP,c6],xw);Ie((t,e,n)=>EP(t,n),pte,(t,e)=>{if(!(t==null||e==null))return OS(OS({},t),{},{scale:e})});var mte=Ie([li,JM,ew],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),g6=t=>t.options.defaultTooltipEventType,v6=t=>t.options.validateTooltipEventTypes;function y6(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function x6(t,e){var n=g6(t),i=v6(t);return y6(e,n,i)}var b6=(t,e)=>{var n,i=Number(e);if(!(Qc(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},gte=t=>t.tooltip.settings,fd={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},vte={itemInteraction:{click:fd,hover:fd},axisInteraction:{click:fd,hover:fd},keyboardInteraction:fd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_6=Js({name:"tooltip",initialState:vte,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ii()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:i}=e.payload,r=Gl(t).tooltipItemPayloads.indexOf(n);r>-1&&(t.tooltipItemPayloads[r]=i)},prepare:Ii()},removeTooltipEntrySettings:{reducer(t,e){var n=Gl(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ii()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:yte,replaceTooltipEntrySettings:xte,removeTooltipEntrySettings:bte,setTooltipSettingsState:Xye,setActiveMouseOverItemIndex:_te,mouseLeaveItem:qye,mouseLeaveChart:S6,setActiveClickItemIndex:Yye,setMouseOverAxisIndex:M6,setMouseClickAxisIndex:Ste,setSyncInteraction:PU,setKeyboardInteraction:M3}=_6.actions,Mte=_6.reducer;function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function O1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(i){wte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function wte(t,e,n){return(e=Ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Ate(t,"string");return typeof e=="symbol"?e:e+""}function Ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Cte(t){return t.index!=null}var w6=(t,e,n,i)=>{if(e==null)return fd;var r=Tte(t,e,n);if(r==null)return fd;if(r.active)return r;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Cte(r)){if(a)return O1(O1({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return O1(O1({},fd),{},{coordinate:r.coordinate})};function Rte(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Pte(t,e){var n=Rte(t),i=e[0],r=e[1];if(n===void 0)return!1;var a=Math.min(i,r),s=Math.max(i,r);return n>=a&&n<=s}function Dte(t,e,n){if(n==null||e==null)return!0;var i=kr(t,e);return i==null||!rf(n)?!0:Pte(i,n)}var HP=(t,e,n,i)=>{var r=t?.index;if(r==null)return null;var a=Number(r);if(!xi(a))return r;var s=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(s,Math.min(a,l)),f=e[u];return f==null||Dte(f,n,i)?String(u):null},E6=(t,e,n,i,r,a,s)=>{if(a!=null){var l=s[0],u=l?.getPosition(a);if(u!=null)return u;var f=r?.[Number(a)];if(f)return n==="horizontal"?{x:f.coordinate,y:(i.top+e)/2}:{x:(i.left+t)/2,y:f.coordinate}}},A6=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var r;if(n==="hover"?r=t.itemInteraction.hover.graphicalItemId:r=t.itemInteraction.click.graphicalItemId,r==null&&i!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===r})},T6=t=>t.options.tooltipPayloadSearcher,Ex=t=>t.tooltip;function OU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function NU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(n),!0).forEach(function(i){Ote(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ote(t,e,n){return(e=Nte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nte(t){var e=Lte(t,"string");return typeof e=="symbol"?e:e+""}function Lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ite(t,e){return t??e}var C6=(t,e,n,i,r,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:p}=n,g=[];return t.reduce((v,y)=>{var _,{dataDefinedOnItem:w,settings:S}=y,M=Ite(w,l),R=Array.isArray(M)?CB(M,f,p):M,T=(_=S?.dataKey)!==null&&_!==void 0?_:i,P=S?.nameKey,O;if(i&&Array.isArray(R)&&!Array.isArray(R[0])&&s==="axis"?O=HF(R,i,r):O=a(R,e,u,P),Array.isArray(O))O.forEach(k=>{var z=NU(NU({},S),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});v.push(uI({tooltipEntrySettings:z,dataKey:k.dataKey,payload:k.payload,value:kr(k.payload,k.dataKey),name:k.name}))});else{var N;v.push(uI({tooltipEntrySettings:S,dataKey:T,payload:O,value:kr(O,T),name:(N=kr(O,P))!==null&&N!==void 0?N:S?.name}))}return v},g)}},WP=Ie([ia,Z5,_P],l6),Ute=Ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),kte=Ie([na,Xg],AP),Yg=Ie([Ute,ia,kte],TP,{memoizeOptions:{resultEqualityCheck:gw}}),zte=Ie([Yg],t=>t.filter(wP)),Fte=Ie([Yg],CP,{memoizeOptions:{resultEqualityCheck:gw}}),Kg=Ie([Fte,hf],RP),Bte=Ie([zte,hf,ia],Y5),XP=Ie([Kg,ia,Yg],DP),R6=Ie([ia],OP),Vte=Ie([ia],t=>t.allowDataOverflow),P6=Ie([R6,Vte],R5),jte=Ie([Yg],t=>t.filter(wP)),Gte=Ie([Bte,jte,vx,B5],e6),Hte=Ie([Gte,hf,na,P6],t6),Wte=Ie([Yg],Q5),Xte=Ie([Kg,ia,Wte,yw,na],IP,{memoizeOptions:{resultEqualityCheck:mw}}),qte=Ie([n6,na,Xg],qg),Yte=Ie([qte,na],a6),Kte=Ie([i6,na,Xg],qg),Zte=Ie([Kte,na],s6),$te=Ie([r6,na,Xg],qg),Qte=Ie([$te,na],o6),Jte=Ie([Yte,Qte,Zte],NS),ene=Ie([ia,R6,P6,Hte,Xte,Jte,li,na],UP),Ax=Ie([ia,li,Kg,XP,vx,na,ene],kP),tne=Ie([Ax,ia,WP],FP),nne=Ie([ia,Ax,tne,na],VP),D6=t=>{var e=na(t),n=Xg(t),i=!1;return Mx(t,e,n,i)},O6=Ie([ia,D6],hw),ine=Ie([ia,WP,nne,O6],xw),rne=Ie([li,XP,ia,na],h6),ane=Ie([li,XP,ia,na],jP),sne=(t,e,n,i,r,a,s,l)=>{if(e){var{type:u}=e,f=uf(t,l);if(i){var p=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=u==="category"&&i.bandwidth?i.bandwidth()/p:0;return g=l==="angleAxis"&&r!=null&&r?.length>=2?md(r[0]-r[1])*2*g:g,f&&s?s.map((v,y)=>{var _=i.map(v);return xi(_)?{coordinate:_+g,value:v,index:y,offset:g}:null}).filter(Fu):i.domain().map((v,y)=>{var _=i.map(v);return xi(_)?{coordinate:_+g,value:a?a[v]:v,index:y,offset:g}:null}).filter(Fu)}}},Id=Ie([li,ia,WP,ine,D6,rne,ane,na],sne),qP=Ie([g6,v6,gte],(t,e,n)=>y6(n.shared,t,e)),N6=t=>t.tooltip.settings.trigger,YP=t=>t.tooltip.settings.defaultIndex,Tx=Ie([Ex,qP,N6,YP],w6),Uy=Ie([Tx,Kg,Sx,Ax],HP),L6=Ie([Id,Uy],b6),one=Ie([Tx],t=>{if(t)return t.dataKey});Ie([Tx],t=>{if(t)return t.graphicalItemId});var I6=Ie([Ex,qP,N6,YP],A6),lne=Ie([cf,ff,li,Xa,Id,YP,I6],E6),une=Ie([Tx,lne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),cne=Ie([Tx],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),fne=Ie([I6,Uy,hf,Sx,L6,T6,qP],C6),dne=Ie([fne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function LU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(n),!0).forEach(function(i){hne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hne(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gne=(t,e,n,i)=>{var r=e.find(a=>a&&a.index===n);if(r){if(t==="horizontal")return{x:r.coordinate,y:i.chartY};if(t==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},vne=(t,e,n,i)=>{var r=e.find(f=>f&&f.index===n);if(r){if(t==="centric"){var a=r.coordinate,{radius:s}=i;return Lm(Lm(Lm({},i),$s(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=r.coordinate,{angle:u}=i;return Lm(Lm(Lm({},i),$s(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yne(t,e){var{chartX:n,chartY:i}=t;return n>=e.left&&n<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var U6=(t,e,n,i,r)=>{var a,s=(a=e?.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,f,p,g,v,y=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(f=n[s-1])===null||f===void 0?void 0:f.coordinate,_=(p=n[l])===null||p===void 0?void 0:p.coordinate,w=l>=s-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(v=n[l+1])===null||v===void 0?void 0:v.coordinate,S=void 0;if(!(y==null||_==null||w==null))if(md(_-y)!==md(w-_)){var M=[];if(md(w-_)===md(r[1]-r[0])){S=w;var R=_+r[1]-r[0];M[0]=Math.min(R,(R+y)/2),M[1]=Math.max(R,(R+y)/2)}else{S=y;var T=w+r[1]-r[0];M[0]=Math.min(_,(T+_)/2),M[1]=Math.max(_,(T+_)/2)}var P=[Math.min(_,(S+_)/2),Math.max(_,(S+_)/2)];if(t>P[0]&&t<=P[1]||t>=M[0]&&t<=M[1]){var O;return(O=n[l])===null||O===void 0?void 0:O.index}}else{var N=Math.min(y,w),k=Math.max(y,w);if(t>(N+_)/2&&t<=(k+_)/2){var z;return(z=n[l])===null||z===void 0?void 0:z.index}}}else if(e)for(var I=0;I<s;I++){var U=e[I];if(U!=null){var W=e[I+1],H=e[I-1];if(I===0&&W!=null&&t<=(U.coordinate+W.coordinate)/2||I===s-1&&H!=null&&t>(U.coordinate+H.coordinate)/2||I>0&&I<s-1&&H!=null&&W!=null&&t>(U.coordinate+H.coordinate)/2&&t<=(U.coordinate+W.coordinate)/2)return U.index}}return-1},Kye=()=>zn(_P),KP=(t,e)=>e,k6=(t,e,n)=>n,ZP=(t,e,n,i)=>i,xne=Ie(Id,t=>UR(t,e=>e.coordinate)),$P=Ie([Ex,KP,k6,ZP],w6),QP=Ie([$P,Kg,Sx,Ax],HP),z6=Ie([Ex,KP,k6,ZP],A6),LS=Ie([cf,ff,li,Xa,Id,ZP,z6],E6);Ie([$P,LS],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e});var bne=Ie([Id,QP],b6);Ie([z6,QP,hf,Sx,bne,T6,KP],C6);Ie([$P,QP],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e}));var _ne=(t,e,n,i,r,a,s)=>{if(!(!t||!n||!i||!r)&&yne(t,s)){var l=VK(t,e),u=U6(l,a,r,n,i),f=gne(e,r,u,t);return{activeIndex:String(u),activeCoordinate:f}}},Sne=(t,e,n,i,r,a,s)=>{if(!(!t||!i||!r||!a||!n)){var l=v$(t,n);if(l){var u=jK(l,e),f=U6(u,s,a,i,r),p=vne(e,a,f,l);return{activeIndex:String(f),activeCoordinate:p}}}},Mne=(t,e,n,i,r,a,s,l)=>{if(!(!t||!e||!i||!r||!a))return e==="horizontal"||e==="vertical"?_ne(t,e,i,r,a,s,l):Sne(t,e,n,i,r,a,s)},wne=Ie(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var i=t[e];if(i!=null)return n?i.panoramaElement:i.element}}),Ene=Ie(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(i=>parseInt(i,10)).concat(Object.values($u)),n=Array.from(new Set(e));return n.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:pee}});function IU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function UU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(n),!0).forEach(function(i){Ane(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ane(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Cne(t,"string");return typeof e=="symbol"?e:e+""}function Cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rne={},Pne={zIndexMap:Object.values($u).reduce((t,e)=>UU(UU({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Rne)},Dne=new Set(Object.values($u));function One(t){return Dne.has(t)}var F6=Js({name:"zIndex",initialState:Pne,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ii()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!One(n)&&delete t.zIndexMap[n])},prepare:Ii()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:i,isPanorama:r}=e.payload;t.zIndexMap[n]?r?t.zIndexMap[n].panoramaElement=i:t.zIndexMap[n].element=i:t.zIndexMap[n]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:Ii()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Ii()}}}),{registerZIndexPortal:Nne,unregisterZIndexPortal:Lne,registerZIndexPortalElement:Ine,unregisterZIndexPortalElement:Une}=F6.actions,kne=F6.reducer;function Tp(t){var{zIndex:e,children:n}=t,i=SZ(),r=i&&e!==void 0&&e!==0,a=Yl(),s=ea();F.useLayoutEffect(()=>r?(s(Nne({zIndex:e})),()=>{s(Lne({zIndex:e}))}):Mp,[s,e,r]);var l=zn(u=>wne(u,e,a));return r?l?Rq.createPortal(n,l):null:n}var zne=F.createContext(null),cT={exports:{}},kU;function Fne(){return kU||(kU=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(u,f,p){this.fn=u,this.context=f,this.once=p||!1}function a(u,f,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new r(p,g||u,v),_=n?n+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],y]:u._events[_].push(y):(u._events[_]=y,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new i:delete u._events[f]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},l.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,_=new Array(y);v<y;v++)_[v]=g[v].fn;return _},l.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},l.prototype.emit=function(f,p,g,v,y,_){var w=n?n+f:f;if(!this._events[w])return!1;var S=this._events[w],M=arguments.length,R,T;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),M){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,v),!0;case 5:return S.fn.call(S.context,p,g,v,y),!0;case 6:return S.fn.call(S.context,p,g,v,y,_),!0}for(T=1,R=new Array(M-1);T<M;T++)R[T-1]=arguments[T];S.fn.apply(S.context,R)}else{var P=S.length,O;for(T=0;T<P;T++)switch(S[T].once&&this.removeListener(f,S[T].fn,void 0,!0),M){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,p);break;case 3:S[T].fn.call(S[T].context,p,g);break;case 4:S[T].fn.call(S[T].context,p,g,v);break;default:if(!R)for(O=1,R=new Array(M-1);O<M;O++)R[O-1]=arguments[O];S[T].fn.apply(S[T].context,R)}}return!0},l.prototype.on=function(f,p,g){return a(this,f,p,g,!1)},l.prototype.once=function(f,p,g){return a(this,f,p,g,!0)},l.prototype.removeListener=function(f,p,g,v){var y=n?n+f:f;if(!this._events[y])return this;if(!p)return s(this,y),this;var _=this._events[y];if(_.fn)_.fn===p&&(!v||_.once)&&(!g||_.context===g)&&s(this,y);else{for(var w=0,S=[],M=_.length;w<M;w++)(_[w].fn!==p||v&&!_[w].once||g&&_[w].context!==g)&&S.push(_[w]);S.length?this._events[y]=S.length===1?S[0]:S:s(this,y)}return this},l.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&s(this,p)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(cT)),cT.exports}var Bne=Fne();const Vne=lf(Bne);var IS=new Vne,zU="recharts.syncEvent.tooltip",FU="recharts.syncEvent.brush",jne=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Qc(n))return t[n]}},Gne={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},B6=Js({name:"options",initialState:Gne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Hne=B6.reducer,{createEventEmitter:Wne}=B6.actions,Xne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V6=Js({name:"chartData",initialState:Xne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:BU,setDataStartEndIndexes:qne,setComputedData:Zye}=V6.actions,Yne=V6.reducer,Kne=["x","y"];function VU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VU(Object(n),!0).forEach(function(i){Zne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Zne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Qne(t,"string");return typeof e=="symbol"?e:e+""}function Qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jne(t,e){if(t==null)return{};var n,i,r=eie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eie(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function tie(){var t=zn(V5),e=zn(j5),n=ea(),i=zn(aee),r=zn(Id),a=WR(),s=LB(),l=zn(u=>u.rootProps.className);F.useEffect(()=>{if(t==null)return Mp;var u=(f,p,g)=>{if(e!==g&&t===f){if(i==="index"){var v;if(s&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:_,y:w}=y,S=Jne(y,Kne),{x:M,y:R,width:T,height:P}=p.payload.sourceViewBox,O=Im(Im({},S),{},{x:s.x+(T?(_-M)/T:0)*s.width,y:s.y+(P?(w-R)/P:0)*s.height});n(Im(Im({},p),{},{payload:Im(Im({},p.payload),{},{coordinate:O})}))}else n(p);return}if(r!=null){var N;if(typeof i=="function"){var k={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},z=i(r,k);N=r[z]}else i==="value"&&(N=r.find(X=>String(X.value)===p.payload.label));var{coordinate:I}=p.payload;if(N==null||p.payload.active===!1||I==null||s==null){n(PU({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:W}=I,H=Math.min(U,s.x+s.width),Y=Math.min(W,s.y+s.height),J={x:a==="horizontal"?N.coordinate:H,y:a==="horizontal"?Y:N.coordinate},ie=PU({active:p.payload.active,coordinate:J,dataKey:p.payload.dataKey,index:String(N.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(ie)}}};return IS.on(zU,u),()=>{IS.off(zU,u)}},[l,n,e,t,i,r,a,s])}function nie(){var t=zn(V5),e=zn(j5),n=ea();F.useEffect(()=>{if(t==null)return Mp;var i=(r,a,s)=>{e!==s&&t===r&&n(qne(a))};return IS.on(FU,i),()=>{IS.off(FU,i)}},[n,e,t])}function iie(){var t=ea();F.useEffect(()=>{t(Wne())},[t]),tie(),nie()}function rie(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return typeof e=="symbol"?e:e+""}function sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oie{constructor(e){rie(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function jU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function lie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jU(Object(n),!0).forEach(function(i){uie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function uie(t,e,n){return(e=cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cie(t){var e=fie(t,"string");return typeof e=="symbol"?e:e+""}function fie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var die={cacheSize:2e3,enableCache:!0},j6=lie({},die),GU=new oie(j6.cacheSize),hie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HU="recharts_measurement_span";function pie(t,e){var n=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l)}var WU=(t,e)=>{try{var n=document.getElementById(HU);n||(n=document.createElement("span"),n.setAttribute("id",HU),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,hie,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},XU=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||KR.isSsr)return{width:0,height:0};if(!j6.enableCache)return WU(e,n);var i=pie(e,n),r=GU.get(i);if(r)return r;var a=WU(e,n);return GU.set(i,a),a},G6;function mie(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=vie(t,"string");return typeof e=="symbol"?e:e+""}function vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_ie=["cm","mm","pt","pc","in","Q","px"];function Sie(t){return _ie.includes(t)}var hg="NaN";function Mie(t,e){return t*bie[e]}class Sa{static parse(e){var n,[,i,r]=(n=xie.exec(e))!==null&&n!==void 0?n:[];return i==null?Sa.NaN:new Sa(parseFloat(i),r??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Qc(e)&&(this.unit=""),n!==""&&!yie.test(n)&&(this.num=NaN,this.unit=""),Sie(n)&&(this.num=Mie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Sa(NaN,""):new Sa(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Sa(NaN,""):new Sa(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Sa(NaN,""):new Sa(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Sa(NaN,""):new Sa(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qc(this.num)}}G6=Sa;mie(Sa,"NaN",new G6(NaN,""));function H6(t){if(t==null||t.includes(hg))return hg;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,r,a]=(n=qU.exec(e))!==null&&n!==void 0?n:[],s=Sa.parse(i??""),l=Sa.parse(a??""),u=r==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return hg;e=e.replace(qU,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,g,v]=(f=YU.exec(e))!==null&&f!==void 0?f:[],y=Sa.parse(p??""),_=Sa.parse(v??""),w=g==="+"?y.add(_):y.subtract(_);if(w.isNaN())return hg;e=e.replace(YU,w.toString())}return e}var KU=/\(([^()]*)\)/;function wie(t){for(var e=t,n;(n=KU.exec(e))!=null;){var[,i]=n;e=e.replace(KU,H6(i))}return e}function Eie(t){var e=t.replace(/\s+/g,"");return e=wie(e),e=H6(e),e}function Aie(t){try{return Eie(t)}catch{return hg}}function fT(t){var e=Aie(t.slice(5,-1));return e===hg?"":e}var Tie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Cie=["dx","dy","angle","className","breakAll"];function w3(){return w3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w3.apply(null,arguments)}function ZU(t,e){if(t==null)return{};var n,i,r=Rie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rie(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var W6=/[ \f\n\r\t\v\u2028\u2029]+/,X6=t=>{var{children:e,breakAll:n,style:i}=t;try{var r=[];Wa(e)||(n?r=e.toString().split(""):r=e.toString().split(W6));var a=r.map(l=>({word:l,width:XU(l,i).width})),s=n?0:XU("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Pie(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var q6=(t,e,n,i)=>t.reduce((r,a)=>{var{word:s,width:l}=a,u=r[r.length-1];if(u&&l!=null&&(e==null||i||u.width+l+n<Number(e)))u.words.push(s),u.width+=l+n;else{var f={words:[s],width:l};r.push(f)}return r},[]),Y6=t=>t.reduce((e,n)=>e.width>n.width?e:n),Die="",$U=(t,e,n,i,r,a,s,l)=>{var u=t.slice(0,e),f=X6({breakAll:n,style:i,children:u+Die});if(!f)return[!1,[]];var p=q6(f.wordsWithComputedWidth,a,s,l),g=p.length>r||Y6(p).width>Number(a);return[g,p]},Oie=(t,e,n,i,r)=>{var{maxLines:a,children:s,style:l,breakAll:u}=t,f=si(a),p=String(s),g=q6(e,i,n,r);if(!f||r)return g;var v=g.length>a||Y6(g).width>Number(i);if(!v)return g;for(var y=0,_=p.length-1,w=0,S;y<=_&&w<=p.length-1;){var M=Math.floor((y+_)/2),R=M-1,[T,P]=$U(p,R,u,l,a,i,n,r),[O]=$U(p,M,u,l,a,i,n,r);if(!T&&!O&&(y=M+1),T&&O&&(_=M-1),!T&&O){S=P;break}w++}return S||g},QU=t=>{var e=Wa(t)?[]:t.toString().split(W6);return[{words:e,width:void 0}]},Nie=t=>{var{width:e,scaleToFit:n,children:i,style:r,breakAll:a,maxLines:s}=t;if((e||n)&&!KR.isSsr){var l,u,f=X6({breakAll:a,children:i,style:r});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;l=p,u=g}else return QU(i);return Oie({breakAll:a,children:i,maxLines:s,style:r},l,u,e,!!n)}return QU(i)},K6="#808080",Lie={angle:0,breakAll:!1,capHeight:"0.71em",fill:K6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},JP=F.forwardRef((t,e)=>{var n=Pd(t,Lie),{x:i,y:r,lineHeight:a,capHeight:s,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:p}=n,g=ZU(n,Tie),v=F.useMemo(()=>Nie({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:y,dy:_,angle:w,className:S,breakAll:M}=g,R=ZU(g,Cie);if(!Sy(i)||!Sy(r)||v.length===0)return null;var T=Number(i)+(si(y)?y:0),P=Number(r)+(si(_)?_:0);if(!xi(T)||!xi(P))return null;var O;switch(p){case"start":O=fT("calc(".concat(s,")"));break;case"middle":O=fT("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:O=fT("calc(".concat(v.length-1," * -").concat(a,")"));break}var N=[],k=v[0];if(u&&k!=null){var z=k.width,{width:I}=g;N.push("scale(".concat(si(I)&&si(z)?I/z:1,")"))}return w&&N.push("rotate(".concat(w,", ").concat(T,", ").concat(P,")")),N.length&&(R.transform=N.join(" ")),F.createElement("text",w3({},rl(R),{ref:e,x:T,y:P,className:Br("recharts-text",S),textAnchor:f,fill:l.includes("url")?K6:l}),v.map((U,W)=>{var H=U.words.join(M?"":" ");return F.createElement("tspan",{x:T,dy:W===0?O:a,key:"".concat(H,"-").concat(W)},H)}))});JP.displayName="Text";function JU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(n),!0).forEach(function(i){Iie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Iie(t,e,n){return(e=Uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uie(t){var e=kie(t,"string");return typeof e=="symbol"?e:e+""}function kie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zie=t=>{var{viewBox:e,position:n,offset:i=0,parentViewBox:r}=t,{x:a,y:s,height:l,upperWidth:u,lowerWidth:f}=HR(e),p=a,g=a+(u-f)/2,v=(p+g)/2,y=(u+f)/2,_=p+u/2,w=l>=0?1:-1,S=w*i,M=w>0?"end":"start",R=w>0?"start":"end",T=u>=0?1:-1,P=T*i,O=T>0?"end":"start",N=T>0?"start":"end",k=r;if(n==="top"){var z={x:p+u/2,y:s-S,horizontalAnchor:"middle",verticalAnchor:M};return k&&(z.height=Math.max(s-k.y,0),z.width=u),z}if(n==="bottom"){var I={x:g+f/2,y:s+l+S,horizontalAnchor:"middle",verticalAnchor:R};return k&&(I.height=Math.max(k.y+k.height-(s+l),0),I.width=f),I}if(n==="left"){var U={x:v-P,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"};return k&&(U.width=Math.max(U.x-k.x,0),U.height=l),U}if(n==="right"){var W={x:v+y+P,y:s+l/2,horizontalAnchor:N,verticalAnchor:"middle"};return k&&(W.width=Math.max(k.x+k.width-W.x,0),W.height=l),W}var H=k?{width:y,height:l}:{};return n==="insideLeft"?Du({x:v+P,y:s+l/2,horizontalAnchor:N,verticalAnchor:"middle"},H):n==="insideRight"?Du({x:v+y-P,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"},H):n==="insideTop"?Du({x:p+u/2,y:s+S,horizontalAnchor:"middle",verticalAnchor:R},H):n==="insideBottom"?Du({x:g+f/2,y:s+l-S,horizontalAnchor:"middle",verticalAnchor:M},H):n==="insideTopLeft"?Du({x:p+P,y:s+S,horizontalAnchor:N,verticalAnchor:R},H):n==="insideTopRight"?Du({x:p+u-P,y:s+S,horizontalAnchor:O,verticalAnchor:R},H):n==="insideBottomLeft"?Du({x:g+P,y:s+l-S,horizontalAnchor:N,verticalAnchor:M},H):n==="insideBottomRight"?Du({x:g+f-P,y:s+l-S,horizontalAnchor:O,verticalAnchor:M},H):n&&typeof n=="object"&&(si(n.x)||lp(n.x))&&(si(n.y)||lp(n.y))?Du({x:a+up(n.x,y),y:s+up(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},H):Du({x:_,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},H)},Fie=["labelRef"],Bie=["content"];function e4(t,e){if(t==null)return{};var n,i,r=Vie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vie(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function N1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(i){jie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jie(t,e,n){return(e=Gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Hie(t,"string");return typeof e=="symbol"?e:e+""}function Hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},US.apply(null,arguments)}var Wie=F.createContext(null),Xie=()=>{var t=F.useContext(Wie),e=LB();return t||(e?HR(e):void 0)},qie=F.createContext(null),Yie=()=>{var t=F.useContext(qie),e=zn(xx);return t||e},Kie=t=>{var{value:e,formatter:n}=t,i=Wa(t.children)?e:t.children;return typeof n=="function"?n(i):i},Zie=t=>t!=null&&typeof t=="function",$ie=(t,e)=>{var n=md(e-t),i=Math.min(Math.abs(e-t),360);return n*i},Qie=(t,e,n,i,r)=>{var{offset:a,className:s}=t,{cx:l,cy:u,innerRadius:f,outerRadius:p,startAngle:g,endAngle:v,clockWise:y}=r,_=(f+p)/2,w=$ie(g,v),S=w>=0?1:-1,M,R;switch(e){case"insideStart":M=g+S*a,R=y;break;case"insideEnd":M=v-S*a,R=!y;break;case"end":M=v+S*a,R=y;break;default:throw new Error("Unsupported position ".concat(e))}R=w<=0?R:!R;var T=$s(l,u,_,M),P=$s(l,u,_,M+(R?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(R?0:1,`,
    `).concat(P.x,",").concat(P.y),N=Wa(t.id)?My("recharts-radial-line-"):t.id;return F.createElement("text",US({},i,{dominantBaseline:"central",className:Br("recharts-radial-bar-label",s)}),F.createElement("defs",null,F.createElement("path",{id:N,d:O})),F.createElement("textPath",{xlinkHref:"#".concat(N)},n))},Jie=(t,e,n)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:s,startAngle:l,endAngle:u}=t,f=(l+u)/2;if(n==="outside"){var{x:p,y:g}=$s(i,r,s+e,f);return{x:p,y:g,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var v=(a+s)/2,{x:y,y:_}=$s(i,r,v,f);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},j_=t=>t!=null&&"cx"in t&&si(t.cx),ere={angle:0,offset:5,zIndex:$u.label,position:"middle",textBreakAll:!1};function tre(t){if(!j_(t))return t;var{cx:e,cy:n,outerRadius:i}=t,r=i*2;return{x:e-i,y:n-i,width:r,upperWidth:r,lowerWidth:r,height:r}}function Z6(t){var e=Pd(t,ere),{viewBox:n,parentViewBox:i,position:r,value:a,children:s,content:l,className:u="",textBreakAll:f,labelRef:p}=e,g=Yie(),v=Xie(),y=r==="center"?v:g??v,_,w,S;n==null?_=y:j_(n)?_=n:_=HR(n);var M=tre(_);if(!_||Wa(a)&&Wa(s)&&!F.isValidElement(l)&&typeof l!="function")return null;var R=N1(N1({},e),{},{viewBox:_});if(F.isValidElement(l)){var{labelRef:T}=R,P=e4(R,Fie);return F.cloneElement(l,P)}if(typeof l=="function"){var{content:O}=R,N=e4(R,Bie);if(w=F.createElement(l,N),F.isValidElement(w))return w}else w=Kie(e);var k=rl(e);if(j_(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Qie(e,r,w,k,_);S=Jie(_,e.offset,e.position)}else{if(!M)return null;var z=zie({viewBox:M,position:r,offset:e.offset,parentViewBox:j_(i)?void 0:i});S=N1(N1({x:z.x,y:z.y,textAnchor:z.horizontalAnchor,verticalAnchor:z.verticalAnchor},z.width!==void 0?{width:z.width}:{}),z.height!==void 0?{height:z.height}:{})}return F.createElement(Tp,{zIndex:e.zIndex},F.createElement(JP,US({ref:p,className:Br("recharts-label",u)},k,S,{textAnchor:Pie(k.textAnchor)?k.textAnchor:S.textAnchor,breakAll:f}),w))}Z6.displayName="Label";var dT={},hT={},n4;function nre(){return n4||(n4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(hT)),hT}var pT={},i4;function ire(){return i4||(i4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(pT)),pT}var r4;function rre(){return r4||(r4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nre(),n=ire(),i=qF();function r(a){if(i.isArrayLike(a))return e.last(n.toArray(a))}t.last=r})(dT)),dT}var mT,a4;function are(){return a4||(a4=1,mT=rre().last),mT}var sre=are();const $6=lf(sre);var ore=["valueAccessor"],lre=["dataKey","clockWise","id","textBreakAll","zIndex"];function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kS.apply(null,arguments)}function s4(t,e){if(t==null)return{};var n,i,r=ure(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ure(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var cre=t=>Array.isArray(t.value)?$6(t.value):t.value,Q6=F.createContext(void 0),fre=Q6.Provider,J6=F.createContext(void 0);J6.Provider;function dre(){return F.useContext(Q6)}function hre(){return F.useContext(J6)}function G_(t){var{valueAccessor:e=cre}=t,n=s4(t,ore),{dataKey:i,clockWise:r,id:a,textBreakAll:s,zIndex:l}=n,u=s4(n,lre),f=dre(),p=hre(),g=f||p;return!g||!g.length?null:F.createElement(Tp,{zIndex:l??$u.label},F.createElement(Md,{className:"recharts-label-list"},g.map((v,y)=>{var _,w=Wa(i)?e(v,y):kr(v.payload,i),S=Wa(a)?{}:{id:"".concat(a,"-").concat(y)};return F.createElement(Z6,kS({key:"label-".concat(y)},rl(v),u,S,{fill:(_=n.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:w,textBreakAll:s,viewBox:v.viewBox,index:y,zIndex:0}))})))}G_.displayName="LabelList";function pre(t){var{label:e}=t;return e?e===!0?F.createElement(G_,{key:"labelList-implicit"}):F.isValidElement(e)||Zie(e)?F.createElement(G_,{key:"labelList-implicit",content:e}):typeof e=="object"?F.createElement(G_,kS({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var mre=["points","className","baseLinePoints","connectNulls"],o4;function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pg.apply(null,arguments)}function gre(t,e){if(t==null)return{};var n,i,r=vre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vre(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function yre(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var l4=t=>t!=null&&t.x===+t.x&&t.y===+t.y,xre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];e.forEach(s=>{var l=n[n.length-1];l4(s)?l&&l.push(s):l&&l.length>0&&n.push([])});var i=e[0],r=n[n.length-1];l4(i)&&r&&r.push(i);var a=n[n.length-1];return a&&a.length<=0&&(n=n.slice(0,-1)),n},ty=(t,e)=>{var n=xre(t);e&&(n=[n.reduce((r,a)=>[...r,...a],[])]);var i=n.map(r=>r.reduce((a,s,l)=>Wq(o4||(o4=yre(["","","",",",""])),a,l===0?"M":"L",s.x,s.y),"")).join("");return n.length===1?"".concat(i,"Z"):i},bre=(t,e,n)=>{var i=ty(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ty(Array.from(e).reverse(),n).slice(1))},eV=t=>{var{points:e,className:n,baseLinePoints:i,connectNulls:r}=t,a=gre(t,mre);if(!e||!e.length)return null;var s=Br("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=bre(e,i,r);return F.createElement("g",{className:s},F.createElement("path",pg({},rl(a),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?F.createElement("path",pg({},rl(a),{fill:"none",d:ty(e,r)})):null,l?F.createElement("path",pg({},rl(a),{fill:"none",d:ty(i,r)})):null)}var f=ty(e,r);return F.createElement("path",pg({},rl(a),{fill:f.slice(-1)==="Z"?a.fill:"none",className:s,d:f}))};function E3(){return E3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},E3.apply(null,arguments)}var eD=t=>{var{cx:e,cy:n,r:i,className:r}=t,a=Br("recharts-dot",r);return si(e)&&si(n)&&si(i)?F.createElement("circle",E3({},ll(t),XF(t),{className:a,cx:e,cy:n,r:i})):null},tV=t=>t.graphicalItems.polarItems,_re=Ie([bi,bx],AP),Mw=Ie([tV,rr,_re],TP),Sre=Ie([Mw],CP),ww=Ie([Sre,dw],RP),nV=Ie([ww,rr,Mw],DP);Ie([ww,rr,Mw],(t,e,n)=>n.length>0?t.flatMap(i=>n.flatMap(r=>{var a,s=kr(i,(a=e.dataKey)!==null&&a!==void 0?a:r.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(i=>({value:kr(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})));var u4=()=>{},Mre=Ie([ww,rr,Mw,yw,bi],IP),wre=Ie([rr,NP,LP,u4,Mre,u4,li,bi],UP),iV=Ie([rr,li,ww,nV,vx,bi,wre],kP),rV=Ie([iV,Ap,Qu],FP),Ere=Ie([rr,iV,rV,bi],VP),Are=Ie([Qu,Ere],K5),tD=(t,e,n)=>{switch(e){case"angleAxis":return Wg(t,n);case"radiusAxis":return yx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nD=(t,e,n)=>{switch(e){case"angleAxis":return dee(t,n);case"radiusAxis":return hee(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Cx=Ie([tD,Qu,Are,nD],xw),aV=Ie([li,nV,Ap,bi],jP),Rx=Ie([li,tD,Qu,Cx,rV,nD,wx,aV,bi],p6),Tre=Ie([Rx],t=>{if(t){var e=new Map;return t.forEach(n=>{var i=(n.coordinate+360)%360;e.has(i)||e.set(i,n)}),Array.from(e.values())}});Ie([li,tD,Cx,nD,wx,aV,bi],m6);var Cre=(t,e)=>Rx(t,"angleAxis",e,!1),Rre=Ie([Cre],t=>{if(t)return t.map(e=>e.coordinate)}),Pre=(t,e)=>Rx(t,"radiusAxis",e,!1),Dre=Ie([Pre],t=>{if(t)return t.map(e=>e.coordinate)}),Ore=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function Nre(t,e){if(t==null)return{};var n,i,r=Lre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lre(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vl.apply(null,arguments)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(i){Ire(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ire(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=kre(t,"string");return typeof e=="symbol"?e:e+""}function kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zre=(t,e,n,i)=>{var r="";return i.forEach((a,s)=>{var l=$s(e,n,t,a);s?r+="L ".concat(l.x,",").concat(l.y):r+="M ".concat(l.x,",").concat(l.y)}),r+="Z",r},Fre=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,polarAngles:a,radialLines:s}=t;if(!a||!a.length||!s)return null;var l=Ew({stroke:"#ccc"},ll(t));return F.createElement("g",{className:"recharts-polar-grid-angle"},a.map(u=>{var f=$s(e,n,i,u),p=$s(e,n,r,u);return F.createElement("line",Vl({key:"line-".concat(u)},l,{x1:f.x,y1:f.y,x2:p.x,y2:p.y}))}))},f4=t=>{var{cx:e,cy:n,radius:i}=t,r=Ew({stroke:"#ccc",fill:"none"},ll(t));return F.createElement("circle",Vl({},r,{className:Br("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r:i}))},d4=t=>{var{radius:e}=t,n=Ew({stroke:"#ccc",fill:"none"},ll(t));return F.createElement("path",Vl({},n,{className:Br("recharts-polar-grid-concentric-polygon",t.className),d:zre(e,t.cx,t.cy,t.polarAngles)}))},Bre=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var i=Math.max(...e),r=t.fill&&t.fill!=="none";return F.createElement("g",{className:"recharts-polar-grid-concentric"},r&&n==="circle"&&F.createElement(f4,Vl({},t,{radius:i})),r&&n!=="circle"&&F.createElement(d4,Vl({},t,{radius:i})),e.map((a,s)=>{var l=s;return n==="circle"?F.createElement(f4,Vl({key:l},t,{fill:"none",radius:a})):F.createElement(d4,Vl({key:l},t,{fill:"none",radius:a}))}))},Vre={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:$u.grid},sV=t=>{var e,n,i,r,a,s,l,u,f=Pd(t,Vre),{gridType:p,radialLines:g,angleAxisId:v,radiusAxisId:y,cx:_,cy:w,innerRadius:S,outerRadius:M,polarAngles:R,polarRadius:T,zIndex:P}=f,O=Nre(f,Ore),N=zn(xx),k=zn(Y=>Rre(Y,v)),z=zn(Y=>Dre(Y,y)),I=Array.isArray(R)?R:k,U=Array.isArray(T)?T:z;if(I==null||U==null)return null;var W=Ew({cx:(e=(n=N?.cx)!==null&&n!==void 0?n:_)!==null&&e!==void 0?e:0,cy:(i=(r=N?.cy)!==null&&r!==void 0?r:w)!==null&&i!==void 0?i:0,innerRadius:(a=(s=N?.innerRadius)!==null&&s!==void 0?s:S)!==null&&a!==void 0?a:0,outerRadius:(l=(u=N?.outerRadius)!==null&&u!==void 0?u:M)!==null&&l!==void 0?l:0,polarAngles:I,polarRadius:U,zIndex:P},O),{outerRadius:H}=W;return H<=0?null:F.createElement(Tp,{zIndex:W.zIndex},F.createElement("g",{className:"recharts-polar-grid"},F.createElement(Bre,Vl({gridType:p,radialLines:g},W,{polarAngles:I,polarRadius:U})),F.createElement(Fre,Vl({gridType:p,radialLines:g},W,{polarAngles:I,polarRadius:U}))))};sV.displayName="PolarGrid";var jre={radiusAxis:{},angleAxis:{}},oV=Js({name:"polarAxis",initialState:jre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:$ye,removeRadiusAxis:Qye,addAngleAxis:Gre,removeAngleAxis:Hre}=oV.actions,Wre=oV.reducer;function Xre(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var qre=["children","type"];function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pp.apply(null,arguments)}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(i){Yre(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Yre(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $re(t,e){if(t==null)return{};var n,i,r=Qre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qre(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var p4=1e-5,Jre=Math.cos(xS(45)),eae="angleAxis";function tae(t){var e=ea(),n=_Z(),i=F.useMemo(()=>{var{children:s,type:l}=t,u=$re(t,qre),f=SP(n,"angleAxis",l);if(f!=null)return tl(tl({},u),{},{type:f})},[t,n]),r=zn(s=>Wg(s,i?.id)),a=i===r;return F.useEffect(()=>i==null?Mp:(e(Gre(i)),()=>{e(Hre(i))}),[e,i]),a?t.children:null}var nae=(t,e)=>{var{cx:n,cy:i,radius:r,orientation:a,tickSize:s}=e,l=s||8,u=$s(n,i,r,t.coordinate),f=$s(n,i,r+(a==="inner"?-1:1)*l,t.coordinate);return{x1:u.x,y1:u.y,x2:f.x,y2:f.y}},iae=(t,e)=>{var n=Math.cos(xS(-t.coordinate));return n>p4?e==="outer"?"start":"end":n<-p4?e==="outer"?"end":"start":"middle"},rae=t=>{var e=Math.cos(xS(-t.coordinate)),n=Math.sin(xS(-t.coordinate));return Math.abs(e)<=Jre?n>0?"start":"end":"middle"},aae=t=>{var{cx:e,cy:n,radius:i,axisLineType:r,axisLine:a,ticks:s}=t;if(!a)return null;var l=tl(tl({},ll(t)),{},{fill:"none"},ll(a));if(r==="circle")return F.createElement(eD,pp({className:"recharts-polar-angle-axis-line"},l,{cx:e,cy:n,r:i}));var u=s.map(f=>$s(e,n,i,f.coordinate));return F.createElement(eV,pp({className:"recharts-polar-angle-axis-line"},l,{points:u}))},sae=t=>{var{tick:e,tickProps:n,value:i}=t;return e?F.isValidElement(e)?F.cloneElement(e,n):typeof e=="function"?e(n):F.createElement(JP,pp({},n,{className:"recharts-polar-angle-axis-tick-value"}),i):null},oae=t=>{var{tick:e,tickLine:n,tickFormatter:i,stroke:r,ticks:a}=t,s=ll(t),l=kF(e),u=tl(tl({},s),{},{fill:"none"},ll(n)),f=a.map((p,g)=>{var v=nae(p,t),y=iae(p,t.orientation),_=rae(p),w=tl(tl(tl({},s),{},{textAnchor:y,verticalAnchor:_,stroke:"none",fill:r},l),{},{index:g,payload:p,x:v.x2,y:v.y2});return F.createElement(Md,pp({className:Br("recharts-polar-angle-axis-tick",Xre(e)),key:"tick-".concat(p.coordinate)},Yq(t,p,g)),n&&F.createElement("line",pp({className:"recharts-polar-angle-axis-tick-line"},u,v)),F.createElement(sae,{tick:e,tickProps:w,value:i?i(p.value,g):p.value}))});return F.createElement(Md,{className:"recharts-polar-angle-axis-ticks"},f)},lae=t=>{var{angleAxisId:e}=t,n=zn(xx),i=zn(l=>Cx(l,"angleAxis",e)),r=Yl(),a=zn(l=>Tre(l,"angleAxis",e,r));if(n==null||!a||!a.length||i==null)return null;var s=tl(tl(tl({},t),{},{scale:i},n),{},{radius:n.outerRadius,ticks:a});return F.createElement(Tp,{zIndex:s.zIndex},F.createElement(Md,{className:Br("recharts-polar-angle-axis",eae,s.className)},F.createElement(aae,s),F.createElement(oae,s)))};function lV(t){var e=Pd(t,ud);return F.createElement(tae,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},F.createElement(lae,e))}lV.displayName="PolarAngleAxis";var uae=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function cae(t){var{tooltipEntrySettings:e}=t,n=ea(),i=Yl(),r=F.useRef(null);return F.useLayoutEffect(()=>{i||(r.current===null?n(yte(e)):r.current!==e&&n(xte({prev:r.current,next:e})),r.current=e)},[e,n,i]),F.useLayoutEffect(()=>()=>{r.current&&(n(bte(r.current)),r.current=null)},[n]),null}function Jye(t){var{legendPayload:e}=t,n=ea(),i=Yl(),r=F.useRef(null);return F.useLayoutEffect(()=>{i||(r.current===null?n(jB(e)):r.current!==e&&n(GB({prev:r.current,next:e})),r.current=e)},[n,i,e]),F.useLayoutEffect(()=>()=>{r.current&&(n(HB(r.current)),r.current=null)},[n]),null}function fae(t){var{legendPayload:e}=t,n=ea(),i=zn(li),r=F.useRef(null);return F.useLayoutEffect(()=>{i!=="centric"&&i!=="radial"||(r.current===null?n(jB(e)):r.current!==e&&n(GB({prev:r.current,next:e})),r.current=e)},[n,i,e]),F.useLayoutEffect(()=>()=>{r.current&&(n(HB(r.current)),r.current=null)},[n]),null}var gT,dae=()=>{var[t]=F.useState(()=>My("uid-"));return t},hae=(gT=zG.useId)!==null&&gT!==void 0?gT:dae;function pae(t,e){var n=hae();return e||(t?"".concat(t,"-").concat(n):n)}var mae=F.createContext(void 0),gae=t=>{var{id:e,type:n,children:i}=t,r=pae("recharts-".concat(n),e);return F.createElement(mae.Provider,{value:r},i(r))},vae={cartesianItems:[],polarItems:[]},uV=Js({name:"graphicalItems",initialState:vae,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ii()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:i}=e.payload,r=Gl(t).cartesianItems.indexOf(n);r>-1&&(t.cartesianItems[r]=i)},prepare:Ii()},removeCartesianGraphicalItem:{reducer(t,e){var n=Gl(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ii()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ii()},removePolarGraphicalItem:{reducer(t,e){var n=Gl(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ii()}}}),{addCartesianGraphicalItem:yae,replaceCartesianGraphicalItem:xae,removeCartesianGraphicalItem:bae,addPolarGraphicalItem:_ae,removePolarGraphicalItem:Sae}=uV.actions,Mae=uV.reducer,wae=t=>{var e=ea(),n=F.useRef(null);return F.useLayoutEffect(()=>{n.current===null?e(yae(t)):n.current!==t&&e(xae({prev:n.current,next:t})),n.current=t},[e,t]),F.useLayoutEffect(()=>()=>{n.current&&(e(bae(n.current)),n.current=null)},[e]),null},exe=F.memo(wae);function Eae(t){var e=ea();return F.useLayoutEffect(()=>(e(_ae(t)),()=>{e(Sae(t))}),[e,t]),null}var Aae=["points"];function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function vT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(i){Tae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Tae(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=Rae(t,"string");return typeof e=="symbol"?e:e+""}function Rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zS.apply(null,arguments)}function Pae(t,e){if(t==null)return{};var n,i,r=Dae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dae(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Oae(t){var{option:e,dotProps:n,className:i}=t;if(F.isValidElement(e))return F.cloneElement(e,n);if(typeof e=="function")return e(n);var r=Br(i,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,l=Pae(a,Aae);return F.createElement(eD,zS({},l,{className:r}))}function Nae(t,e){return t==null?!1:e?!0:t.length===1}function Lae(t){var{points:e,dot:n,className:i,dotClassName:r,dataKey:a,baseProps:s,needClip:l,clipPathId:u,zIndex:f=$u.scatter}=t;if(!Nae(e,n))return null;var p=uae(n),g=Sq(n),v=e.map((_,w)=>{var S,M,R=vT(vT(vT({r:3},s),g),{},{index:w,cx:(S=_.x)!==null&&S!==void 0?S:void 0,cy:(M=_.y)!==null&&M!==void 0?M:void 0,dataKey:a,value:_.value,payload:_.payload,points:e});return F.createElement(Oae,{key:"dot-".concat(w),option:n,dotProps:R,className:r})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(u,")")),F.createElement(Tp,{zIndex:f},F.createElement(Md,zS({className:i},y),v))}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function v4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(i){Iae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Iae(t,e,n){return(e=Uae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=kae(t,"string");return typeof e=="symbol"?e:e+""}function kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var txe=0,zae={xAxis:{},yAxis:{},zAxis:{}},cV=Js({name:"cartesianAxis",initialState:zae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ii()},replaceXAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.xAxis[n.id],t.xAxis[i.id]=i)},prepare:Ii()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ii()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ii()},replaceYAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.yAxis[n.id],t.yAxis[i.id]=i)},prepare:Ii()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ii()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ii()},replaceZAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.zAxis[n.id],t.zAxis[i.id]=i)},prepare:Ii()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ii()},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload,r=t.yAxis[n];if(r){var a,s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var l=[...s,i].slice(-3);t.yAxis[n]=v4(v4({},r),{},{width:i,widthHistory:l})}}}}),{addXAxis:nxe,replaceXAxis:ixe,removeXAxis:rxe,addYAxis:axe,replaceYAxis:sxe,removeYAxis:oxe,addZAxis:lxe,replaceZAxis:uxe,removeZAxis:cxe,updateYAxisWidth:fxe}=cV.actions,Fae=cV.reducer,Bae=Ie([Xa],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Vae=Ie([Bae,cf,ff],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),jae=()=>zn(Vae),Gae=()=>zn(dne);function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(i){Hae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Hae(t,e,n){return(e=Wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wae(t){var e=Xae(t,"string");return typeof e=="symbol"?e:e+""}function Xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qae=t=>{var{point:e,childIndex:n,mainColor:i,activeDot:r,dataKey:a,clipPath:s}=t;if(r===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=yT(yT(yT({},l),kF(r)),XF(r)),f;return F.isValidElement(r)?f=F.cloneElement(r,u):typeof r=="function"?f=r(u):f=F.createElement(eD,u),F.createElement(Md,{className:"recharts-active-dot",clipPath:s},f)};function Yae(t){var{points:e,mainColor:n,activeDot:i,itemDataKey:r,clipPath:a,zIndex:s=$u.activeDot}=t,l=zn(Uy),u=Gae();if(e==null||u==null)return null;var f=e.find(p=>u.includes(p.payload));return Wa(f)?null:F.createElement(Tp,{zIndex:s},F.createElement(qae,{point:f,childIndex:Number(l),mainColor:n,dataKey:r,activeDot:i,clipPath:a}))}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function FS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(i){Kae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Kae(t,e,n){return(e=Zae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fV=(t,e)=>Cx(t,"radiusAxis",e),Qae=Ie([fV],t=>{if(t!=null)return{scale:t}}),Jae=Ie([yx,fV],(t,e)=>{if(!(t==null||e==null))return FS(FS({},t),{},{scale:e})}),ese=(t,e,n,i)=>Rx(t,"radiusAxis",e,i),dV=(t,e,n)=>Wg(t,n),hV=(t,e,n)=>Cx(t,"angleAxis",n),tse=Ie([dV,hV],(t,e)=>{if(!(t==null||e==null))return FS(FS({},t),{},{scale:e})}),nse=(t,e,n,i)=>Rx(t,"angleAxis",n,i),ise=Ie([dV,hV,xx],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),rse=(t,e,n,i,r)=>r,ase=Ie([li,Jae,ese,tse,nse],(t,e,n,i,r)=>uf(t,"radiusAxis")?lI(e,n,!1):lI(i,r,!1)),sse=Ie([tV,rse],(t,e)=>{if(t!=null){var n=t.find(i=>i.type==="radar"&&e===i.id);return n?.dataKey}}),ose=Ie([Qae,ise,dw,sse,ase],(t,e,n,i,r)=>{var{chartData:a,dataStartIndex:s,dataEndIndex:l}=n;if(!(t==null||e==null||a==null||r==null||i==null)){var u=a.slice(s,l+1);return vse({radiusAxis:t,angleAxis:e,displayedData:u,dataKey:i,bandSize:r})}}),lse=["id"];function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ky.apply(null,arguments)}function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(i){use(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function use(t,e,n){return(e=cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cse(t){var e=fse(t,"string");return typeof e=="symbol"?e:e+""}function fse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dse(t,e){if(t==null)return{};var n,i,r=hse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hse(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function iD(t,e){return t&&t!=="none"?t:e}var pse=t=>{var{dataKey:e,name:n,stroke:i,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:iD(i,r),value:RB(n,e),payload:t}]},mse=F.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:i,fill:r,name:a,hide:s,tooltipType:l,id:u}=t,f={dataDefinedOnItem:void 0,getPosition:Mp,settings:{stroke:n,strokeWidth:i,fill:r,nameKey:void 0,dataKey:e,name:RB(a,e),hide:s,type:l,color:iD(n,r),unit:"",graphicalItemId:u}};return F.createElement(cae,{tooltipEntrySettings:f})});function gse(t){var{points:e,props:n}=t,{dot:i,dataKey:r}=n,{id:a}=n,s=dse(n,lse),l=ll(s);return F.createElement(Lae,{points:e,dot:i,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:r,baseProps:l})}function vse(t){var{radiusAxis:e,angleAxis:n,displayedData:i,dataKey:r,bandSize:a}=t,{cx:s,cy:l}=n,u=!1,f=[],p=n.type!=="number"?a??0:0;i.forEach((v,y)=>{var _,w,S=kr(v,n.dataKey,y),M=kr(v,r),R=((_=n.scale.map(S))!==null&&_!==void 0?_:0)+p,T=Array.isArray(M)?$6(M):M,P=Wa(T)?0:(w=e.scale.map(T))!==null&&w!==void 0?w:0;Array.isArray(M)&&M.length>=2&&(u=!0),f.push(Ys(Ys({},$s(s,l,P,R)),{},{name:S,value:M,cx:s,cy:l,radius:P,angle:R,payload:v}))});var g=[];return u&&f.forEach(v=>{if(Array.isArray(v.value)){var y,_=v.value[0],w=Wa(_)?0:(y=e.scale.map(_))!==null&&y!==void 0?y:0;g.push(Ys(Ys({},v),{},{radius:w},$s(s,l,w,v.angle)))}else g.push(v)}),{points:f,isRange:u,baseLinePoints:g}}function yse(t){var{showLabels:e,points:n,children:i}=t,r=n.map(a=>{var s,l={x:a.x,y:a.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Ys(Ys({},l),{},{value:(s=a.value)!==null&&s!==void 0?s:"",payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return F.createElement(fre,{value:e?r:void 0},i)}function xse(t){var{points:e,baseLinePoints:n,props:i}=t;if(e==null)return null;var{shape:r,isRange:a,connectNulls:s}=i,l=p=>{var{onMouseEnter:g}=i;g&&g(i,p)},u=p=>{var{onMouseLeave:g}=i;g&&g(i,p)},f;return F.isValidElement(r)?f=F.cloneElement(r,Ys(Ys({},i),{},{points:e})):typeof r=="function"?f=r(Ys(Ys({},i),{},{points:e})):f=F.createElement(eV,ky({},rl(i),{onMouseEnter:l,onMouseLeave:u,points:e,baseLinePoints:a?n:void 0,connectNulls:s})),F.createElement(Md,{className:"recharts-radar-polygon"},f,F.createElement(gse,{props:i,points:e}))}var _4=(t,e,n)=>(i,r)=>{var a=t&&t[Math.floor(r*e)];return a?Ys(Ys({},i),{},{x:S1(a.x,i.x,n),y:S1(a.y,i.y,n)}):Ys(Ys({},i),{},{x:S1(i.cx,i.x,n),y:S1(i.cy,i.y,n)})};function bse(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:i}=t,{points:r,baseLinePoints:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:p,onAnimationStart:g}=e,v=n.current,y=i.current,_=v?v.length/r.length:1,w=y?y.length/a.length:1,S=o$(e,"recharts-radar-"),[M,R]=F.useState(!1),T=!M,P=F.useCallback(()=>{typeof p=="function"&&p(),R(!1)},[p]),O=F.useCallback(()=>{typeof g=="function"&&g(),R(!0)},[g]);return F.createElement(yse,{showLabels:T,points:r},F.createElement(s$,{animationId:S,begin:l,duration:u,isActive:s,easing:f,key:"radar-".concat(S),onAnimationEnd:P,onAnimationStart:O},N=>{var k=N===1?r:r.map(_4(v,_,N)),z=N===1?a:a?.map(_4(y,w,N));return N>0&&(n.current=k,i.current=z),F.createElement(xse,{points:k,baseLinePoints:z,props:e})}),F.createElement(pre,{label:e.label}),e.children)}function _se(t){var e=F.useRef(void 0),n=F.useRef(void 0);return F.createElement(bse,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var Sse={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:$u.area};function Mse(t){var{hide:e,className:n,points:i}=t;if(e)return null;var r=Br("recharts-radar",n);return F.createElement(Tp,{zIndex:t.zIndex},F.createElement(Md,{className:r},F.createElement(_se,t)),F.createElement(Yae,{points:i,mainColor:iD(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function wse(t){var e=Yl(),n=zn(i=>ose(i,t.radiusAxisId,t.angleAxisId,e,t.id));return n?.points==null?null:F.createElement(Mse,ky({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}function pV(t){var e=Pd(t,Sse);return F.createElement(gae,{id:e.id,type:"radar"},n=>F.createElement(F.Fragment,null,F.createElement(Eae,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),F.createElement(fae,{legendPayload:pse(e)}),F.createElement(mse,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),F.createElement(wse,ky({},e,{id:n}))))}pV.displayName="Radar";var Ese=t=>{var{chartData:e}=t,n=ea(),i=Yl();return F.useEffect(()=>i?()=>{}:(n(BU(e)),()=>{n(BU(void 0))}),[e,n,i]),null},S4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},mV=Js({name:"brush",initialState:S4,reducers:{setBrushSettings(t,e){return e.payload==null?S4:e.payload}}}),{setBrushSettings:dxe}=mV.actions,Ase=mV.reducer,Tse={dots:[],areas:[],lines:[]},gV=Js({name:"referenceElements",initialState:Tse,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Gl(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Gl(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Gl(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:hxe,removeDot:pxe,addArea:mxe,removeArea:gxe,addLine:vxe,removeLine:yxe}=gV.actions,Cse=gV.reducer,Rse=F.createContext(void 0),Pse=t=>{var{children:e}=t,[n]=F.useState("".concat(My("recharts"),"-clip")),i=jae();if(i==null)return null;var{x:r,y:a,width:s,height:l}=i;return F.createElement(Rse.Provider,{value:n},F.createElement("defs",null,F.createElement("clipPath",{id:n},F.createElement("rect",{x:r,y:a,height:l,width:s}))),e)},Dse={},vV=Js({name:"errorBars",initialState:Dse,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:r}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:xxe,replaceErrorBar:bxe,removeErrorBar:_xe}=vV.actions,Ose=vV.reducer,xT={exports:{}},bT={};var M4;function Nse(){if(M4)return bT;M4=1;var t=zg();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return bT.useSyncExternalStoreWithSelector=function(u,f,p,g,v){var y=r(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=s(function(){function S(O){if(!M){if(M=!0,R=O,O=g(O),v!==void 0&&_.hasValue){var N=_.value;if(v(N,O))return T=N}return T=O}if(N=T,n(R,O))return N;var k=g(O);return v!==void 0&&v(N,k)?(R=O,N):(R=O,T=k)}var M=!1,R,T,P=p===void 0?null:p;return[function(){return S(f())},P===null?void 0:function(){return S(P())}]},[f,p,g,v]);var w=i(u,y[0],y[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),l(w),w},bT}var w4;function Lse(){return w4||(w4=1,xT.exports=Nse()),xT.exports}Lse();function Ise(t){t()}function Use(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ise(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var E4={notify(){},get:()=>[]};function kse(t,e){let n,i=E4,r=0,a=!1;function s(w){p();const S=i.subscribe(w);let M=!1;return()=>{M||(M=!0,S(),g())}}function l(){i.notify()}function u(){_.onStateChange&&_.onStateChange()}function f(){return a}function p(){r++,n||(n=t.subscribe(u),i=Use())}function g(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=E4)}function v(){a||(a=!0,p())}function y(){a&&(a=!1,g())}const _={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>i};return _}var zse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fse=zse(),Bse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vse=Bse(),jse=()=>Fse||Vse?F.useLayoutEffect:F.useEffect,Gse=jse();function A4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Hse(t,e){if(A4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!A4(t[n[r]],e[n[r]]))return!1;return!0}var Wse=Symbol.for("react-redux-context"),Xse=typeof globalThis<"u"?globalThis:{};function qse(){if(!F.createContext)return{};const t=Xse[Wse]??=new Map;let e=t.get(F.createContext);return e||(e=F.createContext(null),t.set(F.createContext,e)),e}var Yse=qse();function Kse(t){const{children:e,context:n,serverState:i,store:r}=t,a=F.useMemo(()=>{const u=kse(r);return{store:r,subscription:u,getServerState:i?()=>i:void 0}},[r,i]),s=F.useMemo(()=>r.getState(),[r]);Gse(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=n||Yse;return F.createElement(l.Provider,{value:a},e)}var Zse=Kse,$se=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Qse(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Jse(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var i of n)if($se.has(i)){if(t[i]==null&&e[i]==null)continue;if(!Hse(t[i],e[i]))return!1}else if(!Qse(t[i],e[i]))return!1;return!0}var eoe=(t,e)=>e,rD=Ie([eoe,li,xx,na,O6,Id,xne,Xa],Mne),aD=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},yV=ul("mouseClick"),xV=ux();xV.startListening({actionCreator:yV,effect:(t,e)=>{var n=t.payload,i=rD(e.getState(),aD(n));i?.activeIndex!=null&&e.dispatch(Ste({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var A3=ul("mouseMove"),bV=ux(),L1=null;bV.startListening({actionCreator:A3,effect:(t,e)=>{var n=t.payload;L1!==null&&cancelAnimationFrame(L1);var i=aD(n);L1=requestAnimationFrame(()=>{var r=e.getState(),a=x6(r,r.tooltip.settings.shared);if(a==="axis"){var s=rD(r,i);s?.activeIndex!=null?e.dispatch(M6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(S6())}L1=null})}});function toe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var T4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_V=Js({name:"rootProps",initialState:T4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:T4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),noe=_V.reducer,{updateOptions:ioe}=_V.actions,roe=null,aoe={updatePolarOptions:(t,e)=>e.payload},SV=Js({name:"polarOptions",initialState:roe,reducers:aoe}),{updatePolarOptions:soe}=SV.actions,ooe=SV.reducer,MV=ul("keyDown"),wV=ul("focus"),sD=ux();sD.startListening({actionCreator:MV,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=HP(r,Kg(n),Sx(n),Ax(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=Id(n);if(a==="Enter"){var f=LS(n,"axis","hover",String(r.index));e.dispatch(M3({active:!r.active,activeIndex:r.index,activeCoordinate:f}));return}var p=mte(n),g=p==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,y=l+v*g;if(!(u==null||y>=u.length||y<0)){var _=LS(n,"axis","hover",String(y));e.dispatch(M3({active:!0,activeIndex:y.toString(),activeCoordinate:_}))}}}}}});sD.startListening({actionCreator:wV,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var a="0",s=LS(n,"axis","hover",String(a));e.dispatch(M3({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Jo=ul("externalEvent"),EV=ux(),_T=new Map;EV.startListening({actionCreator:Jo,effect:(t,e)=>{var{handler:n,reactEvent:i}=t.payload;if(n!=null){i.persist();var r=i.type,a=_T.get(r);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:une(l),activeDataKey:one(l),activeIndex:Uy(l),activeLabel:L6(l),activeTooltipIndex:Uy(l),isTooltipActive:cne(l)};n(u,i)}finally{_T.delete(r)}});_T.set(r,s)}}});var loe=Ie([Ex],t=>t.tooltipItemPayloads),uoe=Ie([loe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var i=t.find(a=>a.settings.graphicalItemId===n);if(i!=null){var{getPosition:r}=i;if(r!=null)return r(e)}}}),AV=ul("touchMove"),TV=ux();TV.startListening({actionCreator:AV,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var i=e.getState(),r=x6(i,i.tooltip.settings.shared);if(r==="axis"){var a=n.touches[0];if(a==null)return;var s=rD(i,aD({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(M6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var p=f.getAttribute(HK),g=(l=f.getAttribute(WK))!==null&&l!==void 0?l:void 0,v=Yg(i).find(w=>w.id===g);if(p==null||v==null||g==null)return;var{dataKey:y}=v,_=uoe(i,p,g);e.dispatch(_te({activeDataKey:y,activeIndex:p,activeCoordinate:_,activeGraphicalItemId:g}))}}}});var coe=eB({brush:Ase,cartesianAxis:Fae,chartData:Yne,errorBars:Ose,graphicalItems:Mae,layout:RK,legend:IZ,options:Hne,polarAxis:Wre,polarOptions:ooe,referenceElements:Cse,rootProps:noe,tooltip:Mte,zIndex:kne}),foe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return eK({reducer:coe,preloadedState:e,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([xV.middleware,bV.middleware,sD.middleware,EV.middleware,TV.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(mB({type:"raf"}))},devTools:{serialize:{replacer:toe},name:"recharts-".concat(n)}})};function doe(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,r=Yl(),a=F.useRef(null);if(r)return n;a.current==null&&(a.current=foe(e,i));var s=IR;return F.createElement(Zse,{context:s,store:a.current},n)}function hoe(t){var{layout:e,margin:n}=t,i=ea(),r=Yl();return F.useEffect(()=>{r||(i(AK(e)),i(EK(n)))},[i,r,e,n]),null}var poe=F.memo(hoe,Jse);function moe(t){var e=ea();return F.useEffect(()=>{e(ioe(t))},[e,t]),null}function C4(t){var{zIndex:e,isPanorama:n}=t,i=F.useRef(null),r=ea();return F.useLayoutEffect(()=>(i.current&&r(Ine({zIndex:e,element:i.current,isPanorama:n})),()=>{r(Une({zIndex:e,isPanorama:n}))}),[r,e,n]),F.createElement("g",{tabIndex:-1,ref:i})}function R4(t){var{children:e,isPanorama:n}=t,i=zn(Ene);if(!i||i.length===0)return e;var r=i.filter(s=>s<0),a=i.filter(s=>s>0);return F.createElement(F.Fragment,null,r.map(s=>F.createElement(C4,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>F.createElement(C4,{key:s,zIndex:s,isPanorama:n})))}var goe=["children"];function voe(t,e){if(t==null)return{};var n,i,r=yoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yoe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},BS.apply(null,arguments)}var xoe={width:"100%",height:"100%",display:"block"},boe=F.forwardRef((t,e)=>{var n=xZ(),i=bZ(),r=UZ();if(!wd(n)||!wd(i))return null;var{children:a,otherAttributes:s,title:l,desc:u}=t,f,p;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=r?0:void 0,typeof s.role=="string"?p=s.role:p=r?"application":void 0),F.createElement(zF,BS({},s,{title:l,desc:u,role:p,tabIndex:f,width:n,height:i,style:xoe,ref:e}),a)}),_oe=t=>{var{children:e}=t,n=zn(nw);if(!n)return null;var{width:i,height:r,y:a,x:s}=n;return F.createElement(zF,{width:i,height:r,x:s,y:a},e)},P4=F.forwardRef((t,e)=>{var{children:n}=t,i=voe(t,goe),r=Yl();return r?F.createElement(_oe,null,F.createElement(R4,{isPanorama:!0},n)):F.createElement(boe,BS({ref:e},i),F.createElement(R4,{isPanorama:!1},n))});function Soe(){var t=ea(),[e,n]=F.useState(null),i=zn(GK);return F.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),a=r.width/e.offsetWidth;xi(a)&&a!==i&&t(CK(a))}},[e,t,i]),n}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Moe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(i){woe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function woe(t,e,n){return(e=Eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t){var e=Aoe(t,"string");return typeof e=="symbol"?e:e+""}function Aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bd.apply(null,arguments)}var Toe=()=>(iie(),null);function VS(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Coe=F.forwardRef((t,e)=>{var n,i,r=F.useRef(null),[a,s]=F.useState({containerWidth:VS((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:VS((i=t.style)===null||i===void 0?void 0:i.height)}),l=F.useCallback((f,p)=>{s(g=>{var v=Math.round(f),y=Math.round(p);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),u=F.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=f.getBoundingClientRect();l(p,g);var v=_=>{var w=_[0];if(w!=null){var{width:S,height:M}=w.contentRect;l(S,M)}},y=new ResizeObserver(v);y.observe(f),r.current=y}},[e,l]);return F.useEffect(()=>()=>{var f=r.current;f?.disconnect()},[l]),F.createElement(F.Fragment,null,F.createElement(fx,{width:a.containerWidth,height:a.containerHeight}),F.createElement("div",bd({ref:u},t)))}),Roe=F.forwardRef((t,e)=>{var{width:n,height:i}=t,[r,a]=F.useState({containerWidth:VS(n),containerHeight:VS(i)}),s=F.useCallback((u,f)=>{a(p=>{var g=Math.round(u),v=Math.round(f);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),l=F.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:f,height:p}=u.getBoundingClientRect();s(f,p)}},[e,s]);return F.createElement(F.Fragment,null,F.createElement(fx,{width:r.containerWidth,height:r.containerHeight}),F.createElement("div",bd({ref:l},t)))}),Poe=F.forwardRef((t,e)=>{var{width:n,height:i}=t;return F.createElement(F.Fragment,null,F.createElement(fx,{width:n,height:i}),F.createElement("div",bd({ref:e},t)))}),Doe=F.forwardRef((t,e)=>{var{width:n,height:i}=t;return typeof n=="string"||typeof i=="string"?F.createElement(Roe,bd({},t,{ref:e})):typeof n=="number"&&typeof i=="number"?F.createElement(Poe,bd({},t,{width:n,height:i,ref:e})):F.createElement(F.Fragment,null,F.createElement(fx,{width:n,height:i}),F.createElement("div",bd({ref:e},t)))});function Ooe(t){return t?Coe:Doe}var Noe=F.forwardRef((t,e)=>{var{children:n,className:i,height:r,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:_,onTouchStart:w,style:S,width:M,responsive:R,dispatchTouchEvents:T=!0}=t,P=F.useRef(null),O=ea(),[N,k]=F.useState(null),[z,I]=F.useState(null),U=Soe(),W=GR(),H=W?.width>0?W.width:M,Y=W?.height>0?W.height:r,J=F.useCallback(fe=>{U(fe),typeof e=="function"&&e(fe),k(fe),I(fe),fe!=null&&(P.current=fe)},[U,e,k,I]),ie=F.useCallback(fe=>{O(yV(fe)),O(Jo({handler:a,reactEvent:fe}))},[O,a]),X=F.useCallback(fe=>{O(A3(fe)),O(Jo({handler:f,reactEvent:fe}))},[O,f]),te=F.useCallback(fe=>{O(S6()),O(Jo({handler:p,reactEvent:fe}))},[O,p]),de=F.useCallback(fe=>{O(A3(fe)),O(Jo({handler:g,reactEvent:fe}))},[O,g]),he=F.useCallback(()=>{O(wV())},[O]),le=F.useCallback(fe=>{O(MV(fe.key))},[O]),V=F.useCallback(fe=>{O(Jo({handler:s,reactEvent:fe}))},[O,s]),ee=F.useCallback(fe=>{O(Jo({handler:l,reactEvent:fe}))},[O,l]),re=F.useCallback(fe=>{O(Jo({handler:u,reactEvent:fe}))},[O,u]),pe=F.useCallback(fe=>{O(Jo({handler:v,reactEvent:fe}))},[O,v]),ye=F.useCallback(fe=>{O(Jo({handler:w,reactEvent:fe}))},[O,w]),se=F.useCallback(fe=>{T&&O(AV(fe)),O(Jo({handler:_,reactEvent:fe}))},[O,T,_]),ce=F.useCallback(fe=>{O(Jo({handler:y,reactEvent:fe}))},[O,y]),Se=Ooe(R);return F.createElement(zne.Provider,{value:N},F.createElement(Pq.Provider,{value:z},F.createElement(Se,{width:H??S?.width,height:Y??S?.height,className:Br("recharts-wrapper",i),style:Moe({position:"relative",cursor:"default",width:H,height:Y},S),onClick:ie,onContextMenu:V,onDoubleClick:ee,onFocus:he,onKeyDown:le,onMouseDown:re,onMouseEnter:X,onMouseLeave:te,onMouseMove:de,onMouseUp:pe,onTouchEnd:ce,onTouchMove:se,onTouchStart:ye,ref:J},F.createElement(Toe,null),n)))}),Loe=["width","height","responsive","children","className","style","compact","title","desc"];function Ioe(t,e){if(t==null)return{};var n,i,r=Uoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uoe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var koe=F.forwardRef((t,e)=>{var{width:n,height:i,responsive:r,children:a,className:s,style:l,compact:u,title:f,desc:p}=t,g=Ioe(t,Loe),v=ll(g);return u?F.createElement(F.Fragment,null,F.createElement(fx,{width:n,height:i}),F.createElement(P4,{otherAttributes:v,title:f,desc:p},a)):F.createElement(Noe,{className:s,style:l,width:n,height:i,responsive:r??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},F.createElement(P4,{otherAttributes:v,title:f,desc:p,ref:e},F.createElement(Pse,null,a)))});function zoe(t){var e=ea();return F.useEffect(()=>{e(soe(t))},[e,t]),null}var Foe=["layout"];function T3(){return T3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},T3.apply(null,arguments)}function Boe(t,e){if(t==null)return{};var n,i,r=Voe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Voe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var joe={top:5,right:5,bottom:5,left:5},CV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:joe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Goe=F.forwardRef(function(e,n){var i,r=Pd(e.categoricalChartProps,CV),{layout:a}=r,s=Boe(r,Foe),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=e,g={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return F.createElement(doe,{preloadedState:{options:g},reduxStoreName:(i=r.id)!==null&&i!==void 0?i:l},F.createElement(Ese,{chartData:r.data}),F.createElement(poe,{layout:a,margin:r.margin}),F.createElement(moe,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),F.createElement(zoe,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),F.createElement(koe,T3({},s,{ref:n})))});function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function N4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(i){Hoe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Hoe(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Xoe(t,"string");return typeof e=="symbol"?e:e+""}function Xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qoe=["axis"],Yoe=N4(N4({},CV),{},{layout:"centric",startAngle:90,endAngle:-270}),Koe=F.forwardRef((t,e)=>{var n=Pd(t,Yoe);return F.createElement(Goe,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qoe,tooltipPayloadSearcher:jne,categoricalChartProps:n,ref:e})});const C3=()=>G.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-[200px] text-blue-500 font-mono text-xs uppercase tracking-widest animate-pulse",children:"Initializing..."}),Zoe=(t,e,n)=>{const i=[];if(!t||e.length===0)return i;const r=e.filter(T=>T.userId===t.name);if(r.length===0)return[{id:"new",label:" ",description:"No data yet",color:"text-white/50"}];const a=r.length,s={},l={};r.forEach(T=>{s[T.cluster]=(s[T.cluster]||0)+1,l[T.cluster]=(l[T.cluster]||0)+(T.cognitiveLoad||0)});const u=Object.entries(s).sort((T,P)=>P[1]-T[1])[0],f=u?u[1]/a:0;Object.keys(s).filter(T=>s[T]>a*.15).length>=3&&i.push({id:"connector",label:" ",description:"Active in 3+ clusters",color:"text-pink-400"}),u&&u[0]==="Science"&&f>.8&&i.push({id:"purist",label:" ",description:">80% Science",color:"text-cyan-400"}),u&&u[0]==="Politics"&&f>.4&&i.push({id:"strategist",label:" ",description:"High Politics activity",color:"text-red-400"}),u&&u[0]==="Technology"&&f>.5&&i.push({id:"evangelist",label:" ",description:"High Technology activity",color:"text-blue-400"}),u&&u[0]==="Economics"&&f>.5&&i.push({id:"allocator",label:" ",description:"High Economics activity",color:"text-yellow-400"});const g=s.Art||0,v=s.Society||0;(g+v)/a>.5&&i.push({id:"architect",label:" ",description:"Dominant Art/Society",color:"text-purple-400"});const y=r.filter(T=>T.evidenceLevel==="Low").length;y/a>.6&&i.push({id:"observer",label:"",description:"High Low-Evidence events",color:"text-gray-400"}),r.filter(T=>(T.cognitiveLoad||0)>7).length/a>.3&&i.push({id:"instigator",label:" ",description:"Frequent high cognitive load",color:"text-orange-500"}),f<.3&&i.push({id:"nomad",label:" ",description:"No dominant cluster",color:"text-emerald-300"}),f>.9&&i.push({id:"specialist",label:" ",description:">90% single cluster",color:"text-indigo-400"}),r.filter(T=>(T.latency||0)<30).length/a>.4&&i.push({id:"gossip",label:" ",description:"High frequency low latency",color:"text-yellow-200"});const S=r.filter(T=>(T.latency||0)>100).length;S/a>.4&&i.push({id:"deep_diver",label:"-",description:"High latency interactions",color:"text-blue-800"});let M=0;r.slice(0,20).forEach(T=>{const P=n.find(O=>O.name===T.cluster);P&&P.activeUnits>500&&M++}),M>10&&i.push({id:"trend",label:" ",description:"Follows high activity",color:"text-green-400"});let R=0;return r.slice(0,20).forEach(T=>{const P=n.find(O=>O.name===T.cluster);P&&P.activeUnits<300&&R++}),R>10&&i.push({id:"contrarian",label:" ",description:"Seeks low activity zones",color:"text-rose-400"}),y/a>.8&&S>0&&i.push({id:"ghost",label:" ",description:"Minimal trace",color:"text-white/10"}),i.slice(0,4)};const Zg="182",Fh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Bh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},RV=0,R3=1,PV=2,$oe=3,DV=0,_g=1,ny=2,qh=3,sf=0,vs=1,nl=2,Xu=0,tp=1,zy=2,P3=3,D3=4,OV=5,dd=100,NV=101,LV=102,IV=103,UV=104,kV=200,zV=201,FV=202,BV=203,jS=204,GS=205,VV=206,jV=207,GV=208,HV=209,WV=210,XV=211,qV=212,YV=213,KV=214,HS=0,WS=1,XS=2,mp=3,qS=4,YS=5,KS=6,ZS=7,Px=0,ZV=1,$V=2,ol=0,oD=1,Aw=2,lD=3,Tw=4,uD=5,cD=6,fD=7,O3="attached",QV="detached",Cw=300,Ku=301,Ed=302,Fy=303,By=304,$g=306,Vy=1e3,Ks=1001,jy=1002,dr=1003,dD=1004,Qoe=1004,mg=1005,Joe=1005,Jn=1006,iy=1007,ele=1007,ju=1008,tle=1008,ds=1009,hD=1010,pD=1011,Rg=1012,Rw=1013,fl=1014,ja=1015,ql=1016,Pw=1017,Dw=1018,Pg=1020,mD=35902,gD=35899,vD=1021,yD=1022,Ga=1023,Zu=1026,gd=1027,Ow=1028,Dx=1029,gp=1030,Nw=1031,nle=1032,Lw=1033,ry=33776,ay=33777,sy=33778,oy=33779,$S=35840,QS=35841,JS=35842,eM=35843,tM=36196,nM=37492,iM=37496,rM=37488,aM=37489,sM=37490,oM=37491,lM=37808,uM=37809,cM=37810,fM=37811,dM=37812,hM=37813,pM=37814,mM=37815,gM=37816,vM=37817,yM=37818,xM=37819,bM=37820,_M=37821,SM=36492,MM=36494,wM=36495,EM=36283,AM=36284,TM=36285,CM=36286,JV=2200,e8=2201,t8=2202,Gy=2300,RM=2301,H_=2302,Yh=2400,Kh=2401,Hy=2402,Iw=2500,xD=2501,ile=0,rle=1,ale=2,n8=3200,i8=3201,sle=3202,ole=3203,Ud=0,r8=1,Gc="",Fa="srgb",Ad="srgb-linear",Wy="linear",$n="srgb",lle="",ule="rg",cle="ga",fle=0,Vh=7680,dle=7681,hle=7682,ple=7683,mle=34055,gle=34056,vle=5386,yle=512,xle=513,ble=514,_le=515,Sle=516,Mle=517,wle=518,N3=519,a8=512,s8=513,o8=514,Uw=515,l8=516,u8=517,kw=518,c8=519,Xy=35044,Ele=35048,Ale=35040,Tle=35045,Cle=35049,Rle=35041,Ple=35046,Dle=35050,Ole=35042,Nle="100",L3="300 es",go=2e3,Dg=2001,Lle={COMPUTE:"compute",RENDER:"render"},Ile={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Ule={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function f8(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const kle={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function gg(t,e){return new kle[t](e)}function d8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qy(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function h8(){const t=qy("canvas");return t.style.display="block",t}const L4={};let Td=null;function zle(t){Td=t}function Fle(){return Td}function Yy(...t){const e="THREE."+t.shift();Td?Td("log",e,...t):console.log(e,...t)}function Et(...t){const e="THREE."+t.shift();Td?Td("warn",e,...t):console.warn(e,...t)}function Vt(...t){const e="THREE."+t.shift();Td?Td("error",e,...t):console.error(e,...t)}function Og(...t){const e=t.join(" ");e in L4||(L4[e]=!0,Et(...t))}function Ble(t,e,n){return new Promise(function(i,r){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}}setTimeout(a,n)})}let Ju=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}};const Ua=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let I4=1234567;const np=Math.PI/180,Ng=180/Math.PI;function xo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ua[t&255]+Ua[t>>8&255]+Ua[t>>16&255]+Ua[t>>24&255]+"-"+Ua[e&255]+Ua[e>>8&255]+"-"+Ua[e>>16&15|64]+Ua[e>>24&255]+"-"+Ua[n&63|128]+Ua[n>>8&255]+"-"+Ua[n>>16&255]+Ua[n>>24&255]+Ua[i&255]+Ua[i>>8&255]+Ua[i>>16&255]+Ua[i>>24&255]).toLowerCase()}function Qt(t,e,n){return Math.max(e,Math.min(n,t))}function bD(t,e){return(t%e+e)%e}function Vle(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function jle(t,e,n){return t!==e?(n-t)/(e-t):0}function ly(t,e,n){return(1-n)*t+n*e}function Gle(t,e,n,i){return ly(t,e,1-Math.exp(-n*i))}function Hle(t,e=1){return e-Math.abs(bD(t,e*2)-e)}function Wle(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Xle(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function qle(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Yle(t,e){return t+Math.random()*(e-t)}function Kle(t){return t*(.5-Math.random())}function Zle(t){t!==void 0&&(I4=t);let e=I4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function $le(t){return t*np}function Qle(t){return t*Ng}function Jle(t){return(t&t-1)===0&&t!==0}function eue(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function tue(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function nue(t,e,n,i,r){const a=Math.cos,s=Math.sin,l=a(n/2),u=s(n/2),f=a((e+i)/2),p=s((e+i)/2),g=a((e-i)/2),v=s((e-i)/2),y=a((i-e)/2),_=s((i-e)/2);switch(r){case"XYX":t.set(l*p,u*g,u*v,l*f);break;case"YZY":t.set(u*v,l*p,u*g,l*f);break;case"ZXZ":t.set(u*g,u*v,l*p,l*f);break;case"XZX":t.set(l*p,u*_,u*y,l*f);break;case"YXY":t.set(u*y,l*p,u*_,l*f);break;case"ZYZ":t.set(u*_,u*y,l*p,l*f);break;default:Et("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function hs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function dn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const _D={DEG2RAD:np,RAD2DEG:Ng,generateUUID:xo,clamp:Qt,euclideanModulo:bD,mapLinear:Vle,inverseLerp:jle,lerp:ly,damp:Gle,pingpong:Hle,smoothstep:Wle,smootherstep:Xle,randInt:qle,randFloat:Yle,randFloatSpread:Kle,seededRandom:Zle,degToRad:$le,radToDeg:Qle,isPowerOfTwo:Jle,ceilPowerOfTwo:eue,floorPowerOfTwo:tue,setQuaternionFromProperEuler:nue,normalize:dn,denormalize:hs};class rt{constructor(e=0,n=0){rt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Qt(this.x,e.x,n.x),this.y=Qt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Qt(this.x,e,n),this.y=Qt(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ha{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,s,l){let u=i[r+0],f=i[r+1],p=i[r+2],g=i[r+3],v=a[s+0],y=a[s+1],_=a[s+2],w=a[s+3];if(l<=0){e[n+0]=u,e[n+1]=f,e[n+2]=p,e[n+3]=g;return}if(l>=1){e[n+0]=v,e[n+1]=y,e[n+2]=_,e[n+3]=w;return}if(g!==w||u!==v||f!==y||p!==_){let S=u*v+f*y+p*_+g*w;S<0&&(v=-v,y=-y,_=-_,w=-w,S=-S);let M=1-l;if(S<.9995){const R=Math.acos(S),T=Math.sin(R);M=Math.sin(M*R)/T,l=Math.sin(l*R)/T,u=u*M+v*l,f=f*M+y*l,p=p*M+_*l,g=g*M+w*l}else{u=u*M+v*l,f=f*M+y*l,p=p*M+_*l,g=g*M+w*l;const R=1/Math.sqrt(u*u+f*f+p*p+g*g);u*=R,f*=R,p*=R,g*=R}}e[n]=u,e[n+1]=f,e[n+2]=p,e[n+3]=g}static multiplyQuaternionsFlat(e,n,i,r,a,s){const l=i[r],u=i[r+1],f=i[r+2],p=i[r+3],g=a[s],v=a[s+1],y=a[s+2],_=a[s+3];return e[n]=l*_+p*g+u*y-f*v,e[n+1]=u*_+p*v+f*g-l*y,e[n+2]=f*_+p*y+l*v-u*g,e[n+3]=p*_-l*g-u*v-f*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,s=e._order,l=Math.cos,u=Math.sin,f=l(i/2),p=l(r/2),g=l(a/2),v=u(i/2),y=u(r/2),_=u(a/2);switch(s){case"XYZ":this._x=v*p*g+f*y*_,this._y=f*y*g-v*p*_,this._z=f*p*_+v*y*g,this._w=f*p*g-v*y*_;break;case"YXZ":this._x=v*p*g+f*y*_,this._y=f*y*g-v*p*_,this._z=f*p*_-v*y*g,this._w=f*p*g+v*y*_;break;case"ZXY":this._x=v*p*g-f*y*_,this._y=f*y*g+v*p*_,this._z=f*p*_+v*y*g,this._w=f*p*g-v*y*_;break;case"ZYX":this._x=v*p*g-f*y*_,this._y=f*y*g+v*p*_,this._z=f*p*_-v*y*g,this._w=f*p*g+v*y*_;break;case"YZX":this._x=v*p*g+f*y*_,this._y=f*y*g+v*p*_,this._z=f*p*_-v*y*g,this._w=f*p*g-v*y*_;break;case"XZY":this._x=v*p*g-f*y*_,this._y=f*y*g-v*p*_,this._z=f*p*_+v*y*g,this._w=f*p*g+v*y*_;break;default:Et("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],s=n[1],l=n[5],u=n[9],f=n[2],p=n[6],g=n[10],v=i+l+g;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(p-u)*y,this._y=(a-f)*y,this._z=(s-r)*y}else if(i>l&&i>g){const y=2*Math.sqrt(1+i-l-g);this._w=(p-u)/y,this._x=.25*y,this._y=(r+s)/y,this._z=(a+f)/y}else if(l>g){const y=2*Math.sqrt(1+l-i-g);this._w=(a-f)/y,this._x=(r+s)/y,this._y=.25*y,this._z=(u+p)/y}else{const y=2*Math.sqrt(1+g-i-l);this._w=(s-r)/y,this._x=(a+f)/y,this._y=(u+p)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qt(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,s=e._w,l=n._x,u=n._y,f=n._z,p=n._w;return this._x=i*p+s*l+r*f-a*u,this._y=r*p+s*u+a*l-i*f,this._z=a*p+s*f+i*u-r*l,this._w=s*p-i*l-r*u-a*f,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let i=e._x,r=e._y,a=e._z,s=e._w,l=this.dot(e);l<0&&(i=-i,r=-r,a=-a,s=-s,l=-l);let u=1-n;if(l<.9995){const f=Math.acos(l),p=Math.sin(f);u=Math.sin(u*f)/p,n=Math.sin(n*f)/p,this._x=this._x*u+i*n,this._y=this._y*u+r*n,this._z=this._z*u+a*n,this._w=this._w*u+s*n,this._onChangeCallback()}else this._x=this._x*u+i*n,this._y=this._y*u+r*n,this._z=this._z*u+a*n,this._w=this._w*u+s*n,this.normalize();return this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,n=0,i=0){ne.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(U4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(U4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,s=e.y,l=e.z,u=e.w,f=2*(s*r-l*i),p=2*(l*n-a*r),g=2*(a*i-s*n);return this.x=n+u*f+s*g-l*p,this.y=i+u*p+l*f-a*g,this.z=r+u*g+a*p-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Qt(this.x,e.x,n.x),this.y=Qt(this.y,e.y,n.y),this.z=Qt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Qt(this.x,e,n),this.y=Qt(this.y,e,n),this.z=Qt(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,s=n.x,l=n.y,u=n.z;return this.x=r*u-a*l,this.y=a*s-i*u,this.z=i*l-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ST.copy(this).projectOnVector(e),this.sub(ST)}reflect(e){return this.sub(ST.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ST=new ne,U4=new Ha;class an{constructor(e,n,i,r,a,s,l,u,f){an.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,l,u,f)}set(e,n,i,r,a,s,l,u,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=n,p[4]=a,p[5]=u,p[6]=i,p[7]=s,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],l=i[3],u=i[6],f=i[1],p=i[4],g=i[7],v=i[2],y=i[5],_=i[8],w=r[0],S=r[3],M=r[6],R=r[1],T=r[4],P=r[7],O=r[2],N=r[5],k=r[8];return a[0]=s*w+l*R+u*O,a[3]=s*S+l*T+u*N,a[6]=s*M+l*P+u*k,a[1]=f*w+p*R+g*O,a[4]=f*S+p*T+g*N,a[7]=f*M+p*P+g*k,a[2]=v*w+y*R+_*O,a[5]=v*S+y*T+_*N,a[8]=v*M+y*P+_*k,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8];return n*s*p-n*l*f-i*a*p+i*l*u+r*a*f-r*s*u}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8],g=p*s-l*f,v=l*u-p*a,y=f*a-s*u,_=n*g+i*v+r*y;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=g*w,e[1]=(r*f-p*i)*w,e[2]=(l*i-r*s)*w,e[3]=v*w,e[4]=(p*n-r*u)*w,e[5]=(r*a-l*n)*w,e[6]=y*w,e[7]=(i*u-f*n)*w,e[8]=(s*n-i*a)*w,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,s,l){const u=Math.cos(a),f=Math.sin(a);return this.set(i*u,i*f,-i*(u*s+f*l)+s+e,-r*f,r*u,-r*(-f*s+u*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(MT.makeScale(e,n)),this}rotate(e){return this.premultiply(MT.makeRotation(-e)),this}translate(e,n){return this.premultiply(MT.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const MT=new an,k4=new an().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),z4=new an().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function iue(){const t={enabled:!0,workingColorSpace:Ad,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===$n&&(r.r=Kc(r.r),r.g=Kc(r.g),r.b=Kc(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===$n&&(r.r=Sg(r.r),r.g=Sg(r.g),r.b=Sg(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Gc?Wy:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return Og("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return Og("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[Ad]:{primaries:e,whitePoint:i,transfer:Wy,toXYZ:k4,fromXYZ:z4,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Fa},outputColorSpaceConfig:{drawingBufferColorSpace:Fa}},[Fa]:{primaries:e,whitePoint:i,transfer:$n,toXYZ:k4,fromXYZ:z4,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Fa}}}),t}const Dn=iue();function Kc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Sg(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Um;class p8{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Um===void 0&&(Um=qy("canvas")),Um.width=e.width,Um.height=e.height;const r=Um.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Um}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=qy("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=Kc(a[s]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Kc(n[i]/255)*255):n[i]=Kc(n[i]);return{data:n,width:e.width,height:e.height}}else return Et("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let rue=0;class vd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:rue++}),this.uuid=xo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,l=r.length;s<l;s++)r[s].isDataTexture?a.push(wT(r[s].image)):a.push(wT(r[s]))}else a=wT(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function wT(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?p8.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Et("Texture: Unable to serialize Texture."),{})}let aue=0;const ET=new ne;class Ki extends Ju{constructor(e=Ki.DEFAULT_IMAGE,n=Ki.DEFAULT_MAPPING,i=Ks,r=Ks,a=Jn,s=ju,l=Ga,u=ds,f=Ki.DEFAULT_ANISOTROPY,p=Gc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:aue++}),this.uuid=xo(),this.name="",this.source=new vd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=u,this.offset=new rt(0,0),this.repeat=new rt(1,1),this.center=new rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new an,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(ET).x}get height(){return this.source.getSize(ET).y}get depth(){return this.source.getSize(ET).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){Et(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){Et(`Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Cw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vy:e.x=e.x-Math.floor(e.x);break;case Ks:e.x=e.x<0?0:1;break;case jy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vy:e.y=e.y-Math.floor(e.y);break;case Ks:e.y=e.y<0?0:1;break;case jy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ki.DEFAULT_IMAGE=null;Ki.DEFAULT_MAPPING=Cw;Ki.DEFAULT_ANISOTROPY=1;class Nn{constructor(e=0,n=0,i=0,r=1){Nn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const u=e.elements,f=u[0],p=u[4],g=u[8],v=u[1],y=u[5],_=u[9],w=u[2],S=u[6],M=u[10];if(Math.abs(p-v)<.01&&Math.abs(g-w)<.01&&Math.abs(_-S)<.01){if(Math.abs(p+v)<.1&&Math.abs(g+w)<.1&&Math.abs(_+S)<.1&&Math.abs(f+y+M-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(f+1)/2,P=(y+1)/2,O=(M+1)/2,N=(p+v)/4,k=(g+w)/4,z=(_+S)/4;return T>P&&T>O?T<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(T),r=N/i,a=k/i):P>O?P<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(P),i=N/r,a=z/r):O<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(O),i=k/a,r=z/a),this.set(i,r,a,n),this}let R=Math.sqrt((S-_)*(S-_)+(g-w)*(g-w)+(v-p)*(v-p));return Math.abs(R)<.001&&(R=1),this.x=(S-_)/R,this.y=(g-w)/R,this.z=(v-p)/R,this.w=Math.acos((f+y+M-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Qt(this.x,e.x,n.x),this.y=Qt(this.y,e.y,n.y),this.z=Qt(this.z,e.z,n.z),this.w=Qt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Qt(this.x,e,n),this.y=Qt(this.y,e,n),this.z=Qt(this.z,e,n),this.w=Qt(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class SD extends Ju{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new Nn(0,0,e,n),this.scissorTest=!1,this.viewport=new Nn(0,0,e,n);const r={width:e,height:n,depth:i.depth},a=new Ki(r);this.textures=[];const s=i.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:Jn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new vd(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Zs extends SD{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class zw extends Ki{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=dr,this.minFilter=dr,this.wrapR=Ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class sue extends Zs{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new zw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Fw extends Ki{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=dr,this.minFilter=dr,this.wrapR=Ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oue extends Zs{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Fw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class hr{constructor(e=new ne(1/0,1/0,1/0),n=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Nl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Nl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Nl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,Nl):Nl.fromBufferAttribute(a,s),Nl.applyMatrix4(e.matrixWorld),this.expandByPoint(Nl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),I1.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),I1.copy(i.boundingBox)),I1.applyMatrix4(e.matrixWorld),this.union(I1)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Nl),Nl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cv),U1.subVectors(this.max,Cv),km.subVectors(e.a,Cv),zm.subVectors(e.b,Cv),Fm.subVectors(e.c,Cv),td.subVectors(zm,km),nd.subVectors(Fm,zm),_h.subVectors(km,Fm);let n=[0,-td.z,td.y,0,-nd.z,nd.y,0,-_h.z,_h.y,td.z,0,-td.x,nd.z,0,-nd.x,_h.z,0,-_h.x,-td.y,td.x,0,-nd.y,nd.x,0,-_h.y,_h.x,0];return!AT(n,km,zm,Fm,U1)||(n=[1,0,0,0,1,0,0,0,1],!AT(n,km,zm,Fm,U1))?!1:(k1.crossVectors(td,nd),n=[k1.x,k1.y,k1.z],AT(n,km,zm,Fm,U1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Nl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Nl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Lc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Lc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Lc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Lc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Lc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Lc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Lc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Lc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Lc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Lc=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],Nl=new ne,I1=new hr,km=new ne,zm=new ne,Fm=new ne,td=new ne,nd=new ne,_h=new ne,Cv=new ne,U1=new ne,k1=new ne,Sh=new ne;function AT(t,e,n,i,r){for(let a=0,s=t.length-3;a<=s;a+=3){Sh.fromArray(t,a);const l=r.x*Math.abs(Sh.x)+r.y*Math.abs(Sh.y)+r.z*Math.abs(Sh.z),u=e.dot(Sh),f=n.dot(Sh),p=i.dot(Sh);if(Math.max(-Math.max(u,f,p),Math.min(u,f,p))>l)return!1}return!0}const lue=new hr,Rv=new ne,TT=new ne;class Tr{constructor(e=new ne,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):lue.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Rv.subVectors(e,this.center);const n=Rv.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Rv,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(TT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Rv.copy(e.center).add(TT)),this.expandByPoint(Rv.copy(e.center).sub(TT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Ic=new ne,CT=new ne,z1=new ne,id=new ne,RT=new ne,F1=new ne,PT=new ne;class Cp{constructor(e=new ne,n=new ne(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ic)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ic.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ic.copy(this.origin).addScaledVector(this.direction,n),Ic.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){CT.copy(e).add(n).multiplyScalar(.5),z1.copy(n).sub(e).normalize(),id.copy(this.origin).sub(CT);const a=e.distanceTo(n)*.5,s=-this.direction.dot(z1),l=id.dot(this.direction),u=-id.dot(z1),f=id.lengthSq(),p=Math.abs(1-s*s);let g,v,y,_;if(p>0)if(g=s*u-l,v=s*l-u,_=a*p,g>=0)if(v>=-_)if(v<=_){const w=1/p;g*=w,v*=w,y=g*(g+s*v+2*l)+v*(s*g+v+2*u)+f}else v=a,g=Math.max(0,-(s*v+l)),y=-g*g+v*(v+2*u)+f;else v=-a,g=Math.max(0,-(s*v+l)),y=-g*g+v*(v+2*u)+f;else v<=-_?(g=Math.max(0,-(-s*a+l)),v=g>0?-a:Math.min(Math.max(-a,-u),a),y=-g*g+v*(v+2*u)+f):v<=_?(g=0,v=Math.min(Math.max(-a,-u),a),y=v*(v+2*u)+f):(g=Math.max(0,-(s*a+l)),v=g>0?a:Math.min(Math.max(-a,-u),a),y=-g*g+v*(v+2*u)+f);else v=s>0?-a:a,g=Math.max(0,-(s*v+l)),y=-g*g+v*(v+2*u)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(CT).addScaledVector(z1,v),y}intersectSphere(e,n){Ic.subVectors(e.center,this.origin);const i=Ic.dot(this.direction),r=Ic.dot(Ic)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),l=i-s,u=i+s;return u<0?null:l<0?this.at(u,n):this.at(l,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,s,l,u;const f=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,v=this.origin;return f>=0?(i=(e.min.x-v.x)*f,r=(e.max.x-v.x)*f):(i=(e.max.x-v.x)*f,r=(e.min.x-v.x)*f),p>=0?(a=(e.min.y-v.y)*p,s=(e.max.y-v.y)*p):(a=(e.max.y-v.y)*p,s=(e.min.y-v.y)*p),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),g>=0?(l=(e.min.z-v.z)*g,u=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,u=(e.min.z-v.z)*g),i>u||l>r)||((l>i||i!==i)&&(i=l),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Ic)!==null}intersectTriangle(e,n,i,r,a){RT.subVectors(n,e),F1.subVectors(i,e),PT.crossVectors(RT,F1);let s=this.direction.dot(PT),l;if(s>0){if(r)return null;l=1}else if(s<0)l=-1,s=-s;else return null;id.subVectors(this.origin,e);const u=l*this.direction.dot(F1.crossVectors(id,F1));if(u<0)return null;const f=l*this.direction.dot(RT.cross(id));if(f<0||u+f>s)return null;const p=-l*id.dot(PT);return p<0?null:this.at(p/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class $t{constructor(e,n,i,r,a,s,l,u,f,p,g,v,y,_,w,S){$t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,l,u,f,p,g,v,y,_,w,S)}set(e,n,i,r,a,s,l,u,f,p,g,v,y,_,w,S){const M=this.elements;return M[0]=e,M[4]=n,M[8]=i,M[12]=r,M[1]=a,M[5]=s,M[9]=l,M[13]=u,M[2]=f,M[6]=p,M[10]=g,M[14]=v,M[3]=y,M[7]=_,M[11]=w,M[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new $t().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),i.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this)}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,i=e.elements,r=1/Bm.setFromMatrixColumn(e,0).length(),a=1/Bm.setFromMatrixColumn(e,1).length(),s=1/Bm.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),f=Math.sin(r),p=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const v=s*p,y=s*g,_=l*p,w=l*g;n[0]=u*p,n[4]=-u*g,n[8]=f,n[1]=y+_*f,n[5]=v-w*f,n[9]=-l*u,n[2]=w-v*f,n[6]=_+y*f,n[10]=s*u}else if(e.order==="YXZ"){const v=u*p,y=u*g,_=f*p,w=f*g;n[0]=v+w*l,n[4]=_*l-y,n[8]=s*f,n[1]=s*g,n[5]=s*p,n[9]=-l,n[2]=y*l-_,n[6]=w+v*l,n[10]=s*u}else if(e.order==="ZXY"){const v=u*p,y=u*g,_=f*p,w=f*g;n[0]=v-w*l,n[4]=-s*g,n[8]=_+y*l,n[1]=y+_*l,n[5]=s*p,n[9]=w-v*l,n[2]=-s*f,n[6]=l,n[10]=s*u}else if(e.order==="ZYX"){const v=s*p,y=s*g,_=l*p,w=l*g;n[0]=u*p,n[4]=_*f-y,n[8]=v*f+w,n[1]=u*g,n[5]=w*f+v,n[9]=y*f-_,n[2]=-f,n[6]=l*u,n[10]=s*u}else if(e.order==="YZX"){const v=s*u,y=s*f,_=l*u,w=l*f;n[0]=u*p,n[4]=w-v*g,n[8]=_*g+y,n[1]=g,n[5]=s*p,n[9]=-l*p,n[2]=-f*p,n[6]=y*g+_,n[10]=v-w*g}else if(e.order==="XZY"){const v=s*u,y=s*f,_=l*u,w=l*f;n[0]=u*p,n[4]=-g,n[8]=f*p,n[1]=v*g+w,n[5]=s*p,n[9]=y*g-_,n[2]=_*g-y,n[6]=l*p,n[10]=w*g+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uue,e,cue)}lookAt(e,n,i){const r=this.elements;return fo.subVectors(e,n),fo.lengthSq()===0&&(fo.z=1),fo.normalize(),rd.crossVectors(i,fo),rd.lengthSq()===0&&(Math.abs(i.z)===1?fo.x+=1e-4:fo.z+=1e-4,fo.normalize(),rd.crossVectors(i,fo)),rd.normalize(),B1.crossVectors(fo,rd),r[0]=rd.x,r[4]=B1.x,r[8]=fo.x,r[1]=rd.y,r[5]=B1.y,r[9]=fo.y,r[2]=rd.z,r[6]=B1.z,r[10]=fo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],l=i[4],u=i[8],f=i[12],p=i[1],g=i[5],v=i[9],y=i[13],_=i[2],w=i[6],S=i[10],M=i[14],R=i[3],T=i[7],P=i[11],O=i[15],N=r[0],k=r[4],z=r[8],I=r[12],U=r[1],W=r[5],H=r[9],Y=r[13],J=r[2],ie=r[6],X=r[10],te=r[14],de=r[3],he=r[7],le=r[11],V=r[15];return a[0]=s*N+l*U+u*J+f*de,a[4]=s*k+l*W+u*ie+f*he,a[8]=s*z+l*H+u*X+f*le,a[12]=s*I+l*Y+u*te+f*V,a[1]=p*N+g*U+v*J+y*de,a[5]=p*k+g*W+v*ie+y*he,a[9]=p*z+g*H+v*X+y*le,a[13]=p*I+g*Y+v*te+y*V,a[2]=_*N+w*U+S*J+M*de,a[6]=_*k+w*W+S*ie+M*he,a[10]=_*z+w*H+S*X+M*le,a[14]=_*I+w*Y+S*te+M*V,a[3]=R*N+T*U+P*J+O*de,a[7]=R*k+T*W+P*ie+O*he,a[11]=R*z+T*H+P*X+O*le,a[15]=R*I+T*Y+P*te+O*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],s=e[1],l=e[5],u=e[9],f=e[13],p=e[2],g=e[6],v=e[10],y=e[14],_=e[3],w=e[7],S=e[11],M=e[15],R=u*y-f*v,T=l*y-f*g,P=l*v-u*g,O=s*y-f*p,N=s*v-u*p,k=s*g-l*p;return n*(w*R-S*T+M*P)-i*(_*R-S*O+M*N)+r*(_*T-w*O+M*k)-a*(_*P-w*N+S*k)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8],g=e[9],v=e[10],y=e[11],_=e[12],w=e[13],S=e[14],M=e[15],R=g*S*f-w*v*f+w*u*y-l*S*y-g*u*M+l*v*M,T=_*v*f-p*S*f-_*u*y+s*S*y+p*u*M-s*v*M,P=p*w*f-_*g*f+_*l*y-s*w*y-p*l*M+s*g*M,O=_*g*u-p*w*u-_*l*v+s*w*v+p*l*S-s*g*S,N=n*R+i*T+r*P+a*O;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/N;return e[0]=R*k,e[1]=(w*v*a-g*S*a-w*r*y+i*S*y+g*r*M-i*v*M)*k,e[2]=(l*S*a-w*u*a+w*r*f-i*S*f-l*r*M+i*u*M)*k,e[3]=(g*u*a-l*v*a-g*r*f+i*v*f+l*r*y-i*u*y)*k,e[4]=T*k,e[5]=(p*S*a-_*v*a+_*r*y-n*S*y-p*r*M+n*v*M)*k,e[6]=(_*u*a-s*S*a-_*r*f+n*S*f+s*r*M-n*u*M)*k,e[7]=(s*v*a-p*u*a+p*r*f-n*v*f-s*r*y+n*u*y)*k,e[8]=P*k,e[9]=(_*g*a-p*w*a-_*i*y+n*w*y+p*i*M-n*g*M)*k,e[10]=(s*w*a-_*l*a+_*i*f-n*w*f-s*i*M+n*l*M)*k,e[11]=(p*l*a-s*g*a-p*i*f+n*g*f+s*i*y-n*l*y)*k,e[12]=O*k,e[13]=(p*w*r-_*g*r+_*i*v-n*w*v-p*i*S+n*g*S)*k,e[14]=(_*l*r-s*w*r-_*i*u+n*w*u+s*i*S-n*l*S)*k,e[15]=(s*g*r-p*l*r+p*i*u-n*g*u-s*i*v+n*l*v)*k,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,s=e.x,l=e.y,u=e.z,f=a*s,p=a*l;return this.set(f*s+i,f*l-r*u,f*u+r*l,0,f*l+r*u,p*l+i,p*u-r*s,0,f*u-r*l,p*u+r*s,a*u*u+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,s=n._y,l=n._z,u=n._w,f=a+a,p=s+s,g=l+l,v=a*f,y=a*p,_=a*g,w=s*p,S=s*g,M=l*g,R=u*f,T=u*p,P=u*g,O=i.x,N=i.y,k=i.z;return r[0]=(1-(w+M))*O,r[1]=(y+P)*O,r[2]=(_-T)*O,r[3]=0,r[4]=(y-P)*N,r[5]=(1-(v+M))*N,r[6]=(S+R)*N,r[7]=0,r[8]=(_+T)*k,r[9]=(S-R)*k,r[10]=(1-(v+w))*k,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],this.determinant()===0)return i.set(1,1,1),n.identity(),this;let a=Bm.set(r[0],r[1],r[2]).length();const s=Bm.set(r[4],r[5],r[6]).length(),l=Bm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),Ll.copy(this);const f=1/a,p=1/s,g=1/l;return Ll.elements[0]*=f,Ll.elements[1]*=f,Ll.elements[2]*=f,Ll.elements[4]*=p,Ll.elements[5]*=p,Ll.elements[6]*=p,Ll.elements[8]*=g,Ll.elements[9]*=g,Ll.elements[10]*=g,n.setFromRotationMatrix(Ll),i.x=a,i.y=s,i.z=l,this}makePerspective(e,n,i,r,a,s,l=go,u=!1){const f=this.elements,p=2*a/(n-e),g=2*a/(i-r),v=(n+e)/(n-e),y=(i+r)/(i-r);let _,w;if(u)_=a/(s-a),w=s*a/(s-a);else if(l===go)_=-(s+a)/(s-a),w=-2*s*a/(s-a);else if(l===Dg)_=-s/(s-a),w=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return f[0]=p,f[4]=0,f[8]=v,f[12]=0,f[1]=0,f[5]=g,f[9]=y,f[13]=0,f[2]=0,f[6]=0,f[10]=_,f[14]=w,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,n,i,r,a,s,l=go,u=!1){const f=this.elements,p=2/(n-e),g=2/(i-r),v=-(n+e)/(n-e),y=-(i+r)/(i-r);let _,w;if(u)_=1/(s-a),w=s/(s-a);else if(l===go)_=-2/(s-a),w=-(s+a)/(s-a);else if(l===Dg)_=-1/(s-a),w=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return f[0]=p,f[4]=0,f[8]=0,f[12]=v,f[1]=0,f[5]=g,f[9]=0,f[13]=y,f[2]=0,f[6]=0,f[10]=_,f[14]=w,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Bm=new ne,Ll=new $t,uue=new ne(0,0,0),cue=new ne(1,1,1),rd=new ne,B1=new ne,fo=new ne,F4=new $t,B4=new Ha;class _o{constructor(e=0,n=0,i=0,r=_o.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],l=r[8],u=r[1],f=r[5],p=r[9],g=r[2],v=r[6],y=r[10];switch(n){case"XYZ":this._y=Math.asin(Qt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,y),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,y),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,y),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Qt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(Qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,y));break;case"XZY":this._z=Math.asin(-Qt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,f),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,y),this._y=0);break;default:Et("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return F4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(F4,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return B4.setFromEuler(this),this.setFromQuaternion(B4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}_o.DEFAULT_ORDER="XYZ";class Lg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let fue=0;const V4=new ne,Vm=new Ha,Uc=new $t,V1=new ne,Pv=new ne,due=new ne,hue=new Ha,j4=new ne(1,0,0),G4=new ne(0,1,0),H4=new ne(0,0,1),W4={type:"added"},pue={type:"removed"},jm={type:"childadded",child:null},DT={type:"childremoved",child:null};class Fn extends Ju{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:fue++}),this.uuid=xo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Fn.DEFAULT_UP.clone();const e=new ne,n=new _o,i=new Ha,r=new ne(1,1,1);function a(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new $t},normalMatrix:{value:new an}}),this.matrix=new $t,this.matrixWorld=new $t,this.matrixAutoUpdate=Fn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Fn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Lg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Vm.setFromAxisAngle(e,n),this.quaternion.multiply(Vm),this}rotateOnWorldAxis(e,n){return Vm.setFromAxisAngle(e,n),this.quaternion.premultiply(Vm),this}rotateX(e){return this.rotateOnAxis(j4,e)}rotateY(e){return this.rotateOnAxis(G4,e)}rotateZ(e){return this.rotateOnAxis(H4,e)}translateOnAxis(e,n){return V4.copy(e).applyQuaternion(this.quaternion),this.position.add(V4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(j4,e)}translateY(e){return this.translateOnAxis(G4,e)}translateZ(e){return this.translateOnAxis(H4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Uc.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?V1.copy(e):V1.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Pv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Uc.lookAt(Pv,V1,this.up):Uc.lookAt(V1,Pv,this.up),this.quaternion.setFromRotationMatrix(Uc),r&&(Uc.extractRotation(r.matrixWorld),Vm.setFromRotationMatrix(Uc),this.quaternion.premultiply(Vm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Vt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(W4),jm.child=e,this.dispatchEvent(jm),jm.child=null):Vt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(pue),DT.child=e,this.dispatchEvent(DT),DT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Uc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Uc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Uc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(W4),jm.child=e,this.dispatchEvent(jm),jm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pv,e,due),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pv,hue,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let f=0,p=u.length;f<p;f++){const g=u[f];a(e.shapes,g)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,f=this.material.length;u<f;u++)l.push(a(e.materials,this.material[u]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];r.animations.push(a(e.animations,u))}}if(n){const l=s(e.geometries),u=s(e.materials),f=s(e.textures),p=s(e.images),g=s(e.shapes),v=s(e.skeletons),y=s(e.animations),_=s(e.nodes);l.length>0&&(i.geometries=l),u.length>0&&(i.materials=u),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),y.length>0&&(i.animations=y),_.length>0&&(i.nodes=_)}return i.object=r,i;function s(l){const u=[];for(const f in l){const p=l[f];delete p.metadata,u.push(p)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Fn.DEFAULT_UP=new ne(0,1,0);Fn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Fn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Il=new ne,kc=new ne,OT=new ne,zc=new ne,Gm=new ne,Hm=new ne,X4=new ne,NT=new ne,LT=new ne,IT=new ne,UT=new Nn,kT=new Nn,zT=new Nn;class Xs{constructor(e=new ne,n=new ne,i=new ne){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Il.subVectors(e,n),r.cross(Il);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){Il.subVectors(r,n),kc.subVectors(i,n),OT.subVectors(e,n);const s=Il.dot(Il),l=Il.dot(kc),u=Il.dot(OT),f=kc.dot(kc),p=kc.dot(OT),g=s*f-l*l;if(g===0)return a.set(0,0,0),null;const v=1/g,y=(f*u-l*p)*v,_=(s*p-l*u)*v;return a.set(1-y-_,_,y)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,zc)===null?!1:zc.x>=0&&zc.y>=0&&zc.x+zc.y<=1}static getInterpolation(e,n,i,r,a,s,l,u){return this.getBarycoord(e,n,i,r,zc)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,zc.x),u.addScaledVector(s,zc.y),u.addScaledVector(l,zc.z),u)}static getInterpolatedAttribute(e,n,i,r,a,s){return UT.setScalar(0),kT.setScalar(0),zT.setScalar(0),UT.fromBufferAttribute(e,n),kT.fromBufferAttribute(e,i),zT.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(UT,a.x),s.addScaledVector(kT,a.y),s.addScaledVector(zT,a.z),s}static isFrontFacing(e,n,i,r){return Il.subVectors(i,n),kc.subVectors(e,n),Il.cross(kc).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Il.subVectors(this.c,this.b),kc.subVectors(this.a,this.b),Il.cross(kc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Xs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Xs.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return Xs.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return Xs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Xs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let s,l;Gm.subVectors(r,i),Hm.subVectors(a,i),NT.subVectors(e,i);const u=Gm.dot(NT),f=Hm.dot(NT);if(u<=0&&f<=0)return n.copy(i);LT.subVectors(e,r);const p=Gm.dot(LT),g=Hm.dot(LT);if(p>=0&&g<=p)return n.copy(r);const v=u*g-p*f;if(v<=0&&u>=0&&p<=0)return s=u/(u-p),n.copy(i).addScaledVector(Gm,s);IT.subVectors(e,a);const y=Gm.dot(IT),_=Hm.dot(IT);if(_>=0&&y<=_)return n.copy(a);const w=y*f-u*_;if(w<=0&&f>=0&&_<=0)return l=f/(f-_),n.copy(i).addScaledVector(Hm,l);const S=p*_-y*g;if(S<=0&&g-p>=0&&y-_>=0)return X4.subVectors(a,r),l=(g-p)/(g-p+(y-_)),n.copy(r).addScaledVector(X4,l);const M=1/(S+w+v);return s=w*M,l=v*M,n.copy(i).addScaledVector(Gm,s).addScaledVector(Hm,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const m8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ad={h:0,s:0,l:0},j1={h:0,s:0,l:0};function FT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class At{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Fa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Dn.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=Dn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Dn.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=Dn.workingColorSpace){if(e=bD(e,1),n=Qt(n,0,1),i=Qt(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;this.r=FT(s,a,e+1/3),this.g=FT(s,a,e),this.b=FT(s,a,e-1/3)}return Dn.colorSpaceToWorking(this,r),this}setStyle(e,n=Fa){function i(a){a!==void 0&&parseFloat(a)<1&&Et("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],l=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:Et("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);Et("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Fa){const i=m8[e.toLowerCase()];return i!==void 0?this.setHex(i,n):Et("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Kc(e.r),this.g=Kc(e.g),this.b=Kc(e.b),this}copyLinearToSRGB(e){return this.r=Sg(e.r),this.g=Sg(e.g),this.b=Sg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fa){return Dn.workingToColorSpace(ka.copy(this),e),Math.round(Qt(ka.r*255,0,255))*65536+Math.round(Qt(ka.g*255,0,255))*256+Math.round(Qt(ka.b*255,0,255))}getHexString(e=Fa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Dn.workingColorSpace){Dn.workingToColorSpace(ka.copy(this),n);const i=ka.r,r=ka.g,a=ka.b,s=Math.max(i,r,a),l=Math.min(i,r,a);let u,f;const p=(l+s)/2;if(l===s)u=0,f=0;else{const g=s-l;switch(f=p<=.5?g/(s+l):g/(2-s-l),s){case i:u=(r-a)/g+(r<a?6:0);break;case r:u=(a-i)/g+2;break;case a:u=(i-r)/g+4;break}u/=6}return e.h=u,e.s=f,e.l=p,e}getRGB(e,n=Dn.workingColorSpace){return Dn.workingToColorSpace(ka.copy(this),n),e.r=ka.r,e.g=ka.g,e.b=ka.b,e}getStyle(e=Fa){Dn.workingToColorSpace(ka.copy(this),e);const n=ka.r,i=ka.g,r=ka.b;return e!==Fa?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(ad),this.setHSL(ad.h+e,ad.s+n,ad.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(ad),e.getHSL(j1);const i=ly(ad.h,j1.h,n),r=ly(ad.s,j1.s,n),a=ly(ad.l,j1.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ka=new At;At.NAMES=m8;let mue=0;class qa extends Ju{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:mue++}),this.uuid=xo(),this.name="",this.type="Material",this.blending=tp,this.side=sf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=jS,this.blendDst=GS,this.blendEquation=dd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new At(0,0,0),this.blendAlpha=0,this.depthFunc=mp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=N3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Vh,this.stencilZFail=Vh,this.stencilZPass=Vh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){Et(`Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){Et(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==tp&&(i.blending=this.blending),this.side!==sf&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==jS&&(i.blendSrc=this.blendSrc),this.blendDst!==GS&&(i.blendDst=this.blendDst),this.blendEquation!==dd&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==mp&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==N3&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Vh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Vh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Vh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.allowOverride===!1&&(i.allowOverride=!1),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const l in a){const u=a[l];delete u.metadata,s.push(u)}return s}if(n){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class pf extends qa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new At(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.combine=Px,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Hc=gue();function gue(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):f<-14?(i[u]=1024>>-f-14,i[u|256]=1024>>-f-14|32768,r[u]=-f-1,r[u|256]=-f-1):f<=15?(i[u]=f+15<<10,i[u|256]=f+15<<10|32768,r[u]=13,r[u|256]=13):f<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,p=0;for(;(f&8388608)===0;)f<<=1,p-=8388608;f&=-8388609,p+=947912704,a[u]=f|p}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:l}}function Hs(t){Math.abs(t)>65504&&Et("DataUtils.toHalfFloat(): Value out of range."),t=Qt(t,-65504,65504),Hc.floatView[0]=t;const e=Hc.uint32View[0],n=e>>23&511;return Hc.baseTable[n]+((e&8388607)>>Hc.shiftTable[n])}function Xv(t){const e=t>>10;return Hc.uint32View[0]=Hc.mantissaTable[Hc.offsetTable[e]+(t&1023)]+Hc.exponentTable[e],Hc.floatView[0]}class vue{static toHalfFloat(e){return Hs(e)}static fromHalfFloat(e){return Xv(e)}}const wr=new ne,G1=new rt;let yue=0;class oi{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:yue++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Xy,this.updateRanges=[],this.gpuType=ja,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)G1.fromBufferAttribute(this,n),G1.applyMatrix3(e),this.setXY(n,G1.x,G1.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)wr.fromBufferAttribute(this,n),wr.applyMatrix3(e),this.setXYZ(n,wr.x,wr.y,wr.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)wr.fromBufferAttribute(this,n),wr.applyMatrix4(e),this.setXYZ(n,wr.x,wr.y,wr.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)wr.fromBufferAttribute(this,n),wr.applyNormalMatrix(e),this.setXYZ(n,wr.x,wr.y,wr.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)wr.fromBufferAttribute(this,n),wr.transformDirection(e),this.setXYZ(n,wr.x,wr.y,wr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=hs(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=dn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=hs(n,this.array)),n}setX(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=hs(n,this.array)),n}setY(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=hs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=hs(n,this.array)),n}setW(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array),r=dn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array),r=dn(r,this.array),a=dn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Xy&&(e.usage=this.usage),e}}class xue extends oi{constructor(e,n,i){super(new Int8Array(e),n,i)}}class bue extends oi{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class _ue extends oi{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class Sue extends oi{constructor(e,n,i){super(new Int16Array(e),n,i)}}class MD extends oi{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class Mue extends oi{constructor(e,n,i){super(new Int32Array(e),n,i)}}class wD extends oi{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class wue extends oi{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Xv(this.array[e*this.itemSize]);return this.normalized&&(n=hs(n,this.array)),n}setX(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize]=Hs(n),this}getY(e){let n=Xv(this.array[e*this.itemSize+1]);return this.normalized&&(n=hs(n,this.array)),n}setY(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+1]=Hs(n),this}getZ(e){let n=Xv(this.array[e*this.itemSize+2]);return this.normalized&&(n=hs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+2]=Hs(n),this}getW(e){let n=Xv(this.array[e*this.itemSize+3]);return this.normalized&&(n=hs(n,this.array)),n}setW(e,n){return this.normalized&&(n=dn(n,this.array)),this.array[e*this.itemSize+3]=Hs(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array)),this.array[e+0]=Hs(n),this.array[e+1]=Hs(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array),r=dn(r,this.array)),this.array[e+0]=Hs(n),this.array[e+1]=Hs(i),this.array[e+2]=Hs(r),this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array),r=dn(r,this.array),a=dn(a,this.array)),this.array[e+0]=Hs(n),this.array[e+1]=Hs(i),this.array[e+2]=Hs(r),this.array[e+3]=Hs(a),this}}class Ot extends oi{constructor(e,n,i){super(new Float32Array(e),n,i)}}let Eue=0;const Qo=new $t,BT=new Fn,Wm=new ne,ho=new hr,Dv=new hr,Qr=new ne;class sn extends Ju{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Eue++}),this.uuid=xo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(f8(e)?wD:MD)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new an().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qo.makeRotationFromQuaternion(e),this.applyMatrix4(Qo),this}rotateX(e){return Qo.makeRotationX(e),this.applyMatrix4(Qo),this}rotateY(e){return Qo.makeRotationY(e),this.applyMatrix4(Qo),this}rotateZ(e){return Qo.makeRotationZ(e),this.applyMatrix4(Qo),this}translate(e,n,i){return Qo.makeTranslation(e,n,i),this.applyMatrix4(Qo),this}scale(e,n,i){return Qo.makeScale(e,n,i),this.applyMatrix4(Qo),this}lookAt(e){return BT.lookAt(e),BT.updateMatrix(),this.applyMatrix4(BT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wm).negate(),this.translate(Wm.x,Wm.y,Wm.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Ot(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const a=e[r];n.setXYZ(r,a.x,a.y,a.z||0)}e.length>n.count&&Et("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Vt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];ho.setFromBufferAttribute(a),this.morphTargetsRelative?(Qr.addVectors(this.boundingBox.min,ho.min),this.boundingBox.expandByPoint(Qr),Qr.addVectors(this.boundingBox.max,ho.max),this.boundingBox.expandByPoint(Qr)):(this.boundingBox.expandByPoint(ho.min),this.boundingBox.expandByPoint(ho.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Vt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Tr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Vt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ne,1/0);return}if(e){const i=this.boundingSphere.center;if(ho.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const l=n[a];Dv.setFromBufferAttribute(l),this.morphTargetsRelative?(Qr.addVectors(ho.min,Dv.min),ho.expandByPoint(Qr),Qr.addVectors(ho.max,Dv.max),ho.expandByPoint(Qr)):(ho.expandByPoint(Dv.min),ho.expandByPoint(Dv.max))}ho.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Qr.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Qr));if(n)for(let a=0,s=n.length;a<s;a++){const l=n[a],u=this.morphTargetsRelative;for(let f=0,p=l.count;f<p;f++)Qr.fromBufferAttribute(l,f),u&&(Wm.fromBufferAttribute(e,f),Qr.add(Wm)),r=Math.max(r,i.distanceToSquared(Qr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Vt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Vt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new oi(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),l=[],u=[];for(let z=0;z<i.count;z++)l[z]=new ne,u[z]=new ne;const f=new ne,p=new ne,g=new ne,v=new rt,y=new rt,_=new rt,w=new ne,S=new ne;function M(z,I,U){f.fromBufferAttribute(i,z),p.fromBufferAttribute(i,I),g.fromBufferAttribute(i,U),v.fromBufferAttribute(a,z),y.fromBufferAttribute(a,I),_.fromBufferAttribute(a,U),p.sub(f),g.sub(f),y.sub(v),_.sub(v);const W=1/(y.x*_.y-_.x*y.y);isFinite(W)&&(w.copy(p).multiplyScalar(_.y).addScaledVector(g,-y.y).multiplyScalar(W),S.copy(g).multiplyScalar(y.x).addScaledVector(p,-_.x).multiplyScalar(W),l[z].add(w),l[I].add(w),l[U].add(w),u[z].add(S),u[I].add(S),u[U].add(S))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let z=0,I=R.length;z<I;++z){const U=R[z],W=U.start,H=U.count;for(let Y=W,J=W+H;Y<J;Y+=3)M(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const T=new ne,P=new ne,O=new ne,N=new ne;function k(z){O.fromBufferAttribute(r,z),N.copy(O);const I=l[z];T.copy(I),T.sub(O.multiplyScalar(O.dot(I))).normalize(),P.crossVectors(N,I);const W=P.dot(u[z])<0?-1:1;s.setXYZW(z,T.x,T.y,T.z,W)}for(let z=0,I=R.length;z<I;++z){const U=R[z],W=U.start,H=U.count;for(let Y=W,J=W+H;Y<J;Y+=3)k(e.getX(Y+0)),k(e.getX(Y+1)),k(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new oi(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let v=0,y=i.count;v<y;v++)i.setXYZ(v,0,0,0);const r=new ne,a=new ne,s=new ne,l=new ne,u=new ne,f=new ne,p=new ne,g=new ne;if(e)for(let v=0,y=e.count;v<y;v+=3){const _=e.getX(v+0),w=e.getX(v+1),S=e.getX(v+2);r.fromBufferAttribute(n,_),a.fromBufferAttribute(n,w),s.fromBufferAttribute(n,S),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),l.fromBufferAttribute(i,_),u.fromBufferAttribute(i,w),f.fromBufferAttribute(i,S),l.add(p),u.add(p),f.add(p),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(w,u.x,u.y,u.z),i.setXYZ(S,f.x,f.y,f.z)}else for(let v=0,y=n.count;v<y;v+=3)r.fromBufferAttribute(n,v+0),a.fromBufferAttribute(n,v+1),s.fromBufferAttribute(n,v+2),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),i.setXYZ(v+0,p.x,p.y,p.z),i.setXYZ(v+1,p.x,p.y,p.z),i.setXYZ(v+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Qr.fromBufferAttribute(e,n),Qr.normalize(),e.setXYZ(n,Qr.x,Qr.y,Qr.z)}toNonIndexed(){function e(l,u){const f=l.array,p=l.itemSize,g=l.normalized,v=new f.constructor(u.length*p);let y=0,_=0;for(let w=0,S=u.length;w<S;w++){l.isInterleavedBufferAttribute?y=u[w]*l.data.stride+l.offset:y=u[w]*p;for(let M=0;M<p;M++)v[_++]=f[y++]}return new oi(v,p,g)}if(this.index===null)return Et("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new sn,i=this.index.array,r=this.attributes;for(const l in r){const u=r[l],f=e(u,i);n.setAttribute(l,f)}const a=this.morphAttributes;for(const l in a){const u=[],f=a[l];for(let p=0,g=f.length;p<g;p++){const v=f[p],y=e(v,i);u.push(y)}n.morphAttributes[l]=u}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,u=s.length;l<u;l++){const f=s[l];n.addGroup(f.start,f.count,f.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const u in i){const f=i[u];e.data.attributes[u]=f.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],p=[];for(let g=0,v=f.length;g<v;g++){const y=f[g];p.push(y.toJSON(e.data))}p.length>0&&(r[u]=p,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(n))}const a=e.morphAttributes;for(const f in a){const p=[],g=a[f];for(let v=0,y=g.length;v<y;v++)p.push(g[v].clone(n));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,p=s.length;f<p;f++){const g=s[f];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const q4=new $t,Mh=new Cp,H1=new Tr,Y4=new ne,W1=new ne,X1=new ne,q1=new ne,VT=new ne,Y1=new ne,K4=new ne,K1=new ne;class ki extends Fn{constructor(e=new sn,n=new pf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(a&&l){Y1.set(0,0,0);for(let u=0,f=a.length;u<f;u++){const p=l[u],g=a[u];p!==0&&(VT.fromBufferAttribute(g,e),s?Y1.addScaledVector(VT,p):Y1.addScaledVector(VT.sub(n),p))}n.add(Y1)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),H1.copy(i.boundingSphere),H1.applyMatrix4(a),Mh.copy(e.ray).recast(e.near),!(H1.containsPoint(Mh.origin)===!1&&(Mh.intersectSphere(H1,Y4)===null||Mh.origin.distanceToSquared(Y4)>(e.far-e.near)**2))&&(q4.copy(a).invert(),Mh.copy(e.ray).applyMatrix4(q4),!(i.boundingBox!==null&&Mh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Mh)))}_computeIntersections(e,n,i){let r;const a=this.geometry,s=this.material,l=a.index,u=a.attributes.position,f=a.attributes.uv,p=a.attributes.uv1,g=a.attributes.normal,v=a.groups,y=a.drawRange;if(l!==null)if(Array.isArray(s))for(let _=0,w=v.length;_<w;_++){const S=v[_],M=s[S.materialIndex],R=Math.max(S.start,y.start),T=Math.min(l.count,Math.min(S.start+S.count,y.start+y.count));for(let P=R,O=T;P<O;P+=3){const N=l.getX(P),k=l.getX(P+1),z=l.getX(P+2);r=Z1(this,M,e,i,f,p,g,N,k,z),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const _=Math.max(0,y.start),w=Math.min(l.count,y.start+y.count);for(let S=_,M=w;S<M;S+=3){const R=l.getX(S),T=l.getX(S+1),P=l.getX(S+2);r=Z1(this,s,e,i,f,p,g,R,T,P),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}else if(u!==void 0)if(Array.isArray(s))for(let _=0,w=v.length;_<w;_++){const S=v[_],M=s[S.materialIndex],R=Math.max(S.start,y.start),T=Math.min(u.count,Math.min(S.start+S.count,y.start+y.count));for(let P=R,O=T;P<O;P+=3){const N=P,k=P+1,z=P+2;r=Z1(this,M,e,i,f,p,g,N,k,z),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const _=Math.max(0,y.start),w=Math.min(u.count,y.start+y.count);for(let S=_,M=w;S<M;S+=3){const R=S,T=S+1,P=S+2;r=Z1(this,s,e,i,f,p,g,R,T,P),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}}}function Aue(t,e,n,i,r,a,s,l){let u;if(e.side===vs?u=i.intersectTriangle(s,a,r,!0,l):u=i.intersectTriangle(r,a,s,e.side===sf,l),u===null)return null;K1.copy(l),K1.applyMatrix4(t.matrixWorld);const f=n.ray.origin.distanceTo(K1);return f<n.near||f>n.far?null:{distance:f,point:K1.clone(),object:t}}function Z1(t,e,n,i,r,a,s,l,u,f){t.getVertexPosition(l,W1),t.getVertexPosition(u,X1),t.getVertexPosition(f,q1);const p=Aue(t,e,n,i,W1,X1,q1,K4);if(p){const g=new ne;Xs.getBarycoord(K4,W1,X1,q1,g),r&&(p.uv=Xs.getInterpolatedAttribute(r,l,u,f,g,new rt)),a&&(p.uv1=Xs.getInterpolatedAttribute(a,l,u,f,g,new rt)),s&&(p.normal=Xs.getInterpolatedAttribute(s,l,u,f,g,new ne),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const v={a:l,b:u,c:f,normal:new ne,materialIndex:0};Xs.getNormal(W1,X1,q1,v.normal),p.face=v,p.barycoord=g}return p}class Rp extends sn{constructor(e=1,n=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const l=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const u=[],f=[],p=[],g=[];let v=0,y=0;_("z","y","x",-1,-1,i,n,e,s,a,0),_("z","y","x",1,-1,i,n,-e,s,a,1),_("x","z","y",1,1,e,i,n,r,s,2),_("x","z","y",1,-1,e,i,-n,r,s,3),_("x","y","z",1,-1,e,n,i,r,a,4),_("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(u),this.setAttribute("position",new Ot(f,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(g,2));function _(w,S,M,R,T,P,O,N,k,z,I){const U=P/k,W=O/z,H=P/2,Y=O/2,J=N/2,ie=k+1,X=z+1;let te=0,de=0;const he=new ne;for(let le=0;le<X;le++){const V=le*W-Y;for(let ee=0;ee<ie;ee++){const re=ee*U-H;he[w]=re*R,he[S]=V*T,he[M]=J,f.push(he.x,he.y,he.z),he[w]=0,he[S]=0,he[M]=N>0?1:-1,p.push(he.x,he.y,he.z),g.push(ee/k),g.push(1-le/z),te+=1}}for(let le=0;le<z;le++)for(let V=0;V<k;V++){const ee=v+V+ie*le,re=v+V+ie*(le+1),pe=v+(V+1)+ie*(le+1),ye=v+(V+1)+ie*le;u.push(ee,re,ye),u.push(re,pe,ye),de+=6}l.addGroup(y,de,I),y+=de,v+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ig(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Et("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function cs(t){const e={};for(let n=0;n<t.length;n++){const i=Ig(t[n]);for(const r in i)e[r]=i[r]}return e}function Tue(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function g8(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Dn.workingColorSpace}const Ky={clone:Ig,merge:cs};var Cue=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Rue=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qs extends qa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Cue,this.fragmentShader=Rue,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ig(e.uniforms),this.uniformsGroups=Tue(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class Bw extends Fn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new $t,this.projectionMatrix=new $t,this.projectionMatrixInverse=new $t,this.coordinateSystem=go,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const sd=new ne,Z4=new rt,$4=new rt;let fr=class extends Bw{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Ng*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(np*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ng*2*Math.atan(Math.tan(np*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){sd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(sd.x,sd.y).multiplyScalar(-e/sd.z),sd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(sd.x,sd.y).multiplyScalar(-e/sd.z)}getViewSize(e,n){return this.getViewBounds(e,Z4,$4),n.subVectors($4,Z4)}setViewOffset(e,n,i,r,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(np*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,f=s.fullHeight;a+=s.offsetX*r/u,n-=s.offsetY*i/f,r*=s.width/u,i*=s.height/f}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const Xm=-90,qm=1;class v8 extends Fn{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new fr(Xm,qm,e,n);r.layers=this.layers,this.add(r);const a=new fr(Xm,qm,e,n);a.layers=this.layers,this.add(a);const s=new fr(Xm,qm,e,n);s.layers=this.layers,this.add(s);const l=new fr(Xm,qm,e,n);l.layers=this.layers,this.add(l);const u=new fr(Xm,qm,e,n);u.layers=this.layers,this.add(u);const f=new fr(Xm,qm,e,n);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,s,l,u]=n;for(const f of n)this.remove(f);if(e===go)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===Dg)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of n)this.add(f),f.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,u,f,p]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,a),e.setRenderTarget(i,1,r),e.render(n,s),e.setRenderTarget(i,2,r),e.render(n,l),e.setRenderTarget(i,3,r),e.render(n,u),e.setRenderTarget(i,4,r),e.render(n,f),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,r),e.render(n,p),e.setRenderTarget(g,v,y),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class Ox extends Ki{constructor(e=[],n=Ku,i,r,a,s,l,u,f,p){super(e,n,i,r,a,s,l,u,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ED extends Zs{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Ox(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Rp(5,5,5),a=new Qs({name:"CubemapFromEquirect",uniforms:Ig(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:vs,blending:Xu});a.uniforms.tEquirect.value=n;const s=new ki(r,a),l=n.minFilter;return n.minFilter===ju&&(n.minFilter=Jn),new v8(1,10,this).update(e,s),n.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(a)}}class vg extends Fn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Pue={type:"move"};class W_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new vg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new vg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new vg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,s=null;const l=this._targetRay,u=this._grip,f=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const w of e.hand.values()){const S=n.getJointPose(w,i),M=this._getHandJoint(f,w);S!==null&&(M.matrix.fromArray(S.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=S.radius),M.visible=S!==null}const p=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],v=p.position.distanceTo(g.position),y=.02,_=.005;f.inputState.pinching&&v>y+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&v<=y-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Pue)))}return l!==null&&(l.visible=r!==null),u!==null&&(u.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new vg;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class Vw{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new At(e),this.density=n}clone(){return new Vw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class jw{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new At(e),this.near=n,this.far=i}clone(){return new jw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class AD extends Fn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new _o,this.environmentIntensity=1,this.environmentRotation=new _o,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Gw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Xy,this.updateRanges=[],this.version=0,this.uuid=xo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const us=new ne;class vo{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)us.fromBufferAttribute(this,n),us.applyMatrix4(e),this.setXYZ(n,us.x,us.y,us.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)us.fromBufferAttribute(this,n),us.applyNormalMatrix(e),this.setXYZ(n,us.x,us.y,us.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)us.fromBufferAttribute(this,n),us.transformDirection(e),this.setXYZ(n,us.x,us.y,us.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=hs(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=dn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=hs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=hs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=hs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=hs(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array),r=dn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=dn(n,this.array),i=dn(i,this.array),r=dn(r,this.array),a=dn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){Yy("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new oi(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Yy("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class TD extends qa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new At(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ym;const Ov=new ne,Km=new ne,Zm=new ne,$m=new rt,Nv=new rt,y8=new $t,$1=new ne,Lv=new ne,Q1=new ne,Q4=new rt,jT=new rt,J4=new rt;class x8 extends Fn{constructor(e=new TD){if(super(),this.isSprite=!0,this.type="Sprite",Ym===void 0){Ym=new sn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Gw(n,5);Ym.setIndex([0,1,2,0,2,3]),Ym.setAttribute("position",new vo(i,3,0,!1)),Ym.setAttribute("uv",new vo(i,2,3,!1))}this.geometry=Ym,this.material=e,this.center=new rt(.5,.5),this.count=1}raycast(e,n){e.camera===null&&Vt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Km.setFromMatrixScale(this.matrixWorld),y8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Zm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Km.multiplyScalar(-Zm.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;J1($1.set(-.5,-.5,0),Zm,s,Km,r,a),J1(Lv.set(.5,-.5,0),Zm,s,Km,r,a),J1(Q1.set(.5,.5,0),Zm,s,Km,r,a),Q4.set(0,0),jT.set(1,0),J4.set(1,1);let l=e.ray.intersectTriangle($1,Lv,Q1,!1,Ov);if(l===null&&(J1(Lv.set(-.5,.5,0),Zm,s,Km,r,a),jT.set(0,1),l=e.ray.intersectTriangle($1,Q1,Lv,!1,Ov),l===null))return;const u=e.ray.origin.distanceTo(Ov);u<e.near||u>e.far||n.push({distance:u,point:Ov.clone(),uv:Xs.getInterpolation(Ov,$1,Lv,Q1,Q4,jT,J4,new rt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function J1(t,e,n,i,r,a){$m.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(Nv.x=a*$m.x-r*$m.y,Nv.y=r*$m.x+a*$m.y):Nv.copy($m),t.copy(e),t.x+=Nv.x,t.y+=Nv.y,t.applyMatrix4(y8)}const e_=new ne,ek=new ne;class b8 extends Fn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let a;for(a=0;a<r.length&&!(n<r[a].distance);a++);return r.splice(a,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),e<a)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){e_.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(e_);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){e_.setFromMatrixPosition(e.matrixWorld),ek.setFromMatrixPosition(this.matrixWorld);const i=e_.distanceTo(ek)/e.zoom;n[0].object.visible=!0;let r,a;for(r=1,a=n.length;r<a;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),i>=s)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const tk=new ne,nk=new Nn,ik=new Nn,Due=new ne,rk=new $t,t_=new ne,GT=new Tr,ak=new $t,HT=new Cp;class _8 extends ki{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=O3,this.bindMatrix=new $t,this.bindMatrixInverse=new $t,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new hr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,t_),this.boundingBox.expandByPoint(t_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Tr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,t_),this.boundingSphere.expandByPoint(t_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),GT.copy(this.boundingSphere),GT.applyMatrix4(r),e.ray.intersectsSphere(GT)!==!1&&(ak.copy(r).invert(),HT.copy(e.ray).applyMatrix4(ak),!(this.boundingBox!==null&&HT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,HT)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Nn,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===O3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===QV?this.bindMatrixInverse.copy(this.bindMatrix).invert():Et("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;nk.fromBufferAttribute(r.attributes.skinIndex,e),ik.fromBufferAttribute(r.attributes.skinWeight,e),tk.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=ik.getComponent(a);if(s!==0){const l=nk.getComponent(a);rk.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),n.addScaledVector(Due.copy(tk).applyMatrix4(rk),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class CD extends Fn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Hl extends Ki{constructor(e=null,n=1,i=1,r,a,s,l,u,f=dr,p=dr,g,v){super(null,s,l,u,f,p,r,a,g,v),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const sk=new $t,Oue=new $t;class Hw{constructor(e=[],n=[]){this.uuid=xo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){Et("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new $t)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new $t;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const l=e[a]?e[a].matrixWorld:Oue;sk.multiplyMatrices(l,n[a]),sk.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Hw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Hl(n,e,e,Ga,ja);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=n[a];s===void 0&&(Et("Skeleton: No bone found with UUID:",a),s=new CD),this.bones.push(s),this.boneInverses.push(new $t().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const s=n[r];e.bones.push(s.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class vp extends oi{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Qm=new $t,ok=new $t,n_=[],lk=new hr,Nue=new $t,Iv=new ki,Uv=new Tr;class S8 extends ki{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new vp(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Nue)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new hr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Qm),lk.copy(e.boundingBox).applyMatrix4(Qm),this.boundingBox.union(lk)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Tr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Qm),Uv.copy(e.boundingSphere).applyMatrix4(Qm),this.boundingSphere.union(Uv)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let l=0;l<i.length;l++)i[l]=r[s+l]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Iv.geometry=this.geometry,Iv.material=this.material,Iv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Uv.copy(this.boundingSphere),Uv.applyMatrix4(i),e.ray.intersectsSphere(Uv)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Qm),ok.multiplyMatrices(i,Qm),Iv.matrixWorld=ok,Iv.raycast(e,n_);for(let s=0,l=n_.length;s<l;s++){const u=n_[s];u.instanceId=a,u.object=this,n.push(u)}n_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new vp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Hl(new Float32Array(r*this.count),r,this.count,Ow,ja));const a=this.morphTexture.source.data.data;let s=0;for(let f=0;f<i.length;f++)s+=i[f];const l=this.geometry.morphTargetsRelative?1:1-s,u=r*e;a[u]=l,a.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const WT=new ne,Lue=new ne,Iue=new an;class Vc{constructor(e=new ne(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=WT.subVectors(i,n).cross(Lue.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(WT),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||Iue.getNormalMatrix(e),r=this.coplanarPoint(WT).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wh=new Tr,Uue=new rt(.5,.5),i_=new ne;class Qg{constructor(e=new Vc,n=new Vc,i=new Vc,r=new Vc,a=new Vc,s=new Vc){this.planes=[e,n,i,r,a,s]}set(e,n,i,r,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=go,i=!1){const r=this.planes,a=e.elements,s=a[0],l=a[1],u=a[2],f=a[3],p=a[4],g=a[5],v=a[6],y=a[7],_=a[8],w=a[9],S=a[10],M=a[11],R=a[12],T=a[13],P=a[14],O=a[15];if(r[0].setComponents(f-s,y-p,M-_,O-R).normalize(),r[1].setComponents(f+s,y+p,M+_,O+R).normalize(),r[2].setComponents(f+l,y+g,M+w,O+T).normalize(),r[3].setComponents(f-l,y-g,M-w,O-T).normalize(),i)r[4].setComponents(u,v,S,P).normalize(),r[5].setComponents(f-u,y-v,M-S,O-P).normalize();else if(r[4].setComponents(f-u,y-v,M-S,O-P).normalize(),n===go)r[5].setComponents(f+u,y+v,M+S,O+P).normalize();else if(n===Dg)r[5].setComponents(u,v,S,P).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),wh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wh)}intersectsSprite(e){wh.center.set(0,0,0);const n=Uue.distanceTo(e.center);return wh.radius=.7071067811865476+n,wh.applyMatrix4(e.matrixWorld),this.intersectsSphere(wh)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(i_.x=r.normal.x>0?e.max.x:e.min.x,i_.y=r.normal.y>0?e.max.y:e.min.y,i_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(i_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Ou=new $t,Nu=new Qg;class Ww{constructor(){this.coordinateSystem=go}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ou.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Nu.setFromProjectionMatrix(Ou,r.coordinateSystem,r.reversedDepth),Nu.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ou.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Nu.setFromProjectionMatrix(Ou,r.coordinateSystem,r.reversedDepth),Nu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ou.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Nu.setFromProjectionMatrix(Ou,r.coordinateSystem,r.reversedDepth),Nu.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ou.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Nu.setFromProjectionMatrix(Ou,r.coordinateSystem,r.reversedDepth),Nu.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ou.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Nu.setFromProjectionMatrix(Ou,r.coordinateSystem,r.reversedDepth),Nu.containsPoint(e))return!0}return!1}clone(){return new Ww}}function XT(t,e){return t-e}function kue(t,e){return t.z-e.z}function zue(t,e){return e.z-t.z}class Fue{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];s.push(l),this.index++,l.start=e,l.count=n,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Gs=new $t,Bue=new At(1,1,1),uk=new Qg,Vue=new Ww,r_=new hr,Eh=new Tr,kv=new ne,ck=new ne,jue=new ne,qT=new Fue,za=new ki,a_=[];function Gue(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+n,s,t.getComponent(a,s))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function Ah(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class M8 extends ki{constructor(e,n,i=n*2,r){super(new sn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Hl(n,e,e,Ga,ja);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Hl(n,e,e,Dx,fl);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Hl(n,e,e,Ga,ja);i.colorSpace=Dn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:l,itemSize:u,normalized:f}=s,p=new l.constructor(i*u),g=new oi(p,u,f);n.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new oi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=n.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hr);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Gs),this.getBoundingBoxAt(a,r_).applyMatrix4(Gs),e.union(r_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Tr);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Gs),this.getBoundingSphereAt(a,Eh).applyMatrix4(Gs),e.union(Eh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(XT),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Gs.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(Bue.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(XT),u=this._availableGeometryIds.shift(),a[u]=r):(u=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=n.getIndex(),l=this._geometryInfo[e];if(r&&s.count>l.reservedIndexCount||n.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,f=l.reservedVertexCount;l.vertexCount=n.getAttribute("position").count;for(const p in i.attributes){const g=n.getAttribute(p),v=i.getAttribute(p);Gue(g,v,u);const y=g.itemSize;for(let _=g.count,w=f;_<w;_++){const S=u+_;for(let M=0;M<y;M++)v.setComponent(S,M,0)}v.needsUpdate=!0,v.addUpdateRange(u*y,f*y)}if(r){const p=l.indexStart,g=l.reservedIndexCount;l.indexCount=n.getIndex().count;for(let v=0;v<s.count;v++)a.setX(p+v,u+s.getX(v));for(let v=s.count,y=g;v<y;v++)a.setX(p+v,u);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,n.boundingBox!==null&&(l.boundingBox=n.boundingBox.clone()),l.boundingSphere=null,n.boundingSphere!==null&&(l.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((s,l)=>l).sort((s,l)=>i[s].vertexStart-i[l].vertexStart),a=this.geometry;for(let s=0,l=i.length;s<l;s++){const u=r[s],f=i[u];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==n){const{indexStart:p,vertexStart:g,reservedIndexCount:v}=f,y=a.index,_=y.array,w=e-g;for(let S=p;S<p+v;S++)_[S]=_[S]+w;y.array.copyWithin(n,p,p+v),y.addUpdateRange(n,v),y.needsUpdate=!0,f.indexStart=n}n+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=f,v=a.attributes;for(const y in v){const _=v[y],{array:w,itemSize:S}=_;w.copyWithin(e*S,p*S,(p+g)*S),_.addUpdateRange(e*S,g*S),_.needsUpdate=!0}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new hr,s=i.index,l=i.attributes.position;for(let u=r.start,f=r.start+r.count;u<f;u++){let p=u;s&&(p=s.getX(p)),a.expandByPoint(kv.fromBufferAttribute(l,p))}r.boundingBox=a}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Tr;this.getBoundingBoxAt(e,r_),r_.getCenter(a.center);const s=i.index,l=i.attributes.position;let u=0;for(let f=r.start,p=r.start+r.count;f<p;f++){let g=f;s&&(g=s.getX(g)),kv.fromBufferAttribute(l,g),u=Math.max(u,a.center.distanceToSquared(kv))}a.radius=Math.sqrt(u),r.boundingSphere=a}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(XT);n[n.length-1]===i.length-1;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Ah(this._multiDrawCounts,r),Ah(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Ah(s.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Ah(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Ah(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new sn,this._initializeGeometry(a));const s=this.geometry;a.index&&Ah(a.index.array,s.index.array);for(const l in a.attributes)Ah(a.attributes[l].array,s.attributes[l].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;za.material=this.material,za.geometry.index=s.index,za.geometry.attributes=s.attributes,za.geometry.boundingBox===null&&(za.geometry.boundingBox=new hr),za.geometry.boundingSphere===null&&(za.geometry.boundingSphere=new Tr);for(let l=0,u=i.length;l<u;l++){if(!i[l].visible||!i[l].active)continue;const f=i[l].geometryIndex,p=r[f];za.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,za.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,za.geometry.boundingBox),this.getBoundingSphereAt(f,za.geometry.boundingSphere),za.raycast(e,a_);for(let g=0,v=a_.length;g<v;g++){const y=a_[g];y.object=this,y.batchId=l,n.push(y)}a_.length=0}za.material=null,za.geometry.index=null,za.geometry.attributes={},za.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),l=s===null?1:s.array.BYTES_PER_ELEMENT,u=this._instanceInfo,f=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,_=y.image.data,w=i.isArrayCamera?Vue:uk;v&&!i.isArrayCamera&&(Gs.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),uk.setFromProjectionMatrix(Gs,i.coordinateSystem,i.reversedDepth));let S=0;if(this.sortObjects){Gs.copy(this.matrixWorld).invert(),kv.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Gs),ck.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Gs);for(let T=0,P=u.length;T<P;T++)if(u[T].visible&&u[T].active){const O=u[T].geometryIndex;this.getMatrixAt(T,Gs),this.getBoundingSphereAt(O,Eh).applyMatrix4(Gs);let N=!1;if(v&&(N=!w.intersectsSphere(Eh,i)),!N){const k=g[O],z=jue.subVectors(Eh.center,kv).dot(ck);qT.push(k.start,k.count,z,T)}}const M=qT.list,R=this.customSort;R===null?M.sort(a.transparent?zue:kue):R.call(this,M,i);for(let T=0,P=M.length;T<P;T++){const O=M[T];f[S]=O.start*l,p[S]=O.count,_[S]=O.index,S++}qT.reset()}else for(let M=0,R=u.length;M<R;M++)if(u[M].visible&&u[M].active){const T=u[M].geometryIndex;let P=!1;if(v&&(this.getMatrixAt(M,Gs),this.getBoundingSphereAt(T,Eh).applyMatrix4(Gs),P=!w.intersectsSphere(Eh,i)),!P){const O=g[T];f[S]=O.start*l,p[S]=O.count,_[S]=M,S++}}y.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class xs extends qa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new At(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const PM=new ne,DM=new ne,fk=new $t,zv=new Cp,s_=new Tr,YT=new ne,dk=new ne;let Cd=class extends Fn{constructor(e=new sn,n=new xs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)PM.fromBufferAttribute(n,r-1),DM.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=PM.distanceTo(DM);e.setAttribute("lineDistance",new Ot(i,1))}else Et("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),s_.copy(i.boundingSphere),s_.applyMatrix4(r),s_.radius+=a,e.ray.intersectsSphere(s_)===!1)return;fk.copy(r).invert(),zv.copy(e.ray).applyMatrix4(fk);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=this.isLineSegments?2:1,p=i.index,v=i.attributes.position;if(p!==null){const y=Math.max(0,s.start),_=Math.min(p.count,s.start+s.count);for(let w=y,S=_-1;w<S;w+=f){const M=p.getX(w),R=p.getX(w+1),T=o_(this,e,zv,u,M,R,w);T&&n.push(T)}if(this.isLineLoop){const w=p.getX(_-1),S=p.getX(y),M=o_(this,e,zv,u,w,S,_-1);M&&n.push(M)}}else{const y=Math.max(0,s.start),_=Math.min(v.count,s.start+s.count);for(let w=y,S=_-1;w<S;w+=f){const M=o_(this,e,zv,u,w,w+1,w);M&&n.push(M)}if(this.isLineLoop){const w=o_(this,e,zv,u,_-1,y,_-1);w&&n.push(w)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}};function o_(t,e,n,i,r,a,s){const l=t.geometry.attributes.position;if(PM.fromBufferAttribute(l,r),DM.fromBufferAttribute(l,a),n.distanceSqToSegment(PM,DM,YT,dk)>i)return;YT.applyMatrix4(t.matrixWorld);const f=e.ray.origin.distanceTo(YT);if(!(f<e.near||f>e.far))return{distance:f,point:dk.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const hk=new ne,pk=new ne;class ec extends Cd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)hk.fromBufferAttribute(n,r),pk.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+hk.distanceTo(pk);e.setAttribute("lineDistance",new Ot(i,1))}else Et("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class w8 extends Cd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class RD extends qa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new At(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const mk=new $t,I3=new Cp,l_=new Tr,u_=new ne;class E8 extends Fn{constructor(e=new sn,n=new RD){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),l_.copy(i.boundingSphere),l_.applyMatrix4(r),l_.radius+=a,e.ray.intersectsSphere(l_)===!1)return;mk.copy(r).invert(),I3.copy(e.ray).applyMatrix4(mk);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=i.index,g=i.attributes.position;if(f!==null){const v=Math.max(0,s.start),y=Math.min(f.count,s.start+s.count);for(let _=v,w=y;_<w;_++){const S=f.getX(_);u_.fromBufferAttribute(g,S),gk(u_,S,u,r,e,n,this)}}else{const v=Math.max(0,s.start),y=Math.min(g.count,s.start+s.count);for(let _=v,w=y;_<w;_++)u_.fromBufferAttribute(g,_),gk(u_,_,u,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function gk(t,e,n,i,r,a,s){const l=I3.distanceSqToPoint(t);if(l<n){const u=new ne;I3.closestPointToPoint(t,u),u.applyMatrix4(i);const f=r.ray.origin.distanceTo(u);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class A8 extends Ki{constructor(e,n,i,r,a=Jn,s=Jn,l,u,f){super(e,n,i,r,a,s,l,u,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const p=this;function g(){p.needsUpdate=!0,p._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Hue extends A8{constructor(e,n,i,r,a,s,l,u){super({},e,n,i,r,a,s,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Wue extends Ki{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=dr,this.minFilter=dr,this.generateMipmaps=!1,this.needsUpdate=!0}}class Xw extends Ki{constructor(e,n,i,r,a,s,l,u,f,p,g,v){super(null,s,l,u,f,p,r,a,g,v),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Xue extends Xw{constructor(e,n,i,r,a,s){super(e,n,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ks,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class que extends Xw{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Ku),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Yue extends Ki{constructor(e,n,i,r,a,s,l,u,f){super(e,n,i,r,a,s,l,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class yp extends Ki{constructor(e,n,i=fl,r,a,s,l=dr,u=dr,f,p=Zu,g=1){if(p!==Zu&&p!==gd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:n,depth:g};super(v,r,a,s,l,u,p,i,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new vd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class T8 extends yp{constructor(e,n=fl,i=Ku,r,a,s=dr,l=dr,u,f=Zu){const p={width:e,height:e,depth:1},g=[p,p,p,p,p,p];super(e,e,n,i,r,a,s,l,u,f),this.image=g,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class PD extends Ki{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class qw extends sn{constructor(e=1,n=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:a},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],l=[],u=[],f=[],p=n/2,g=Math.PI/2*e,v=n,y=2*g+v,_=i*2+a,w=r+1,S=new ne,M=new ne;for(let R=0;R<=_;R++){let T=0,P=0,O=0,N=0;if(R<=i){const I=R/i,U=I*Math.PI/2;P=-p-e*Math.cos(U),O=e*Math.sin(U),N=-e*Math.cos(U),T=I*g}else if(R<=i+a){const I=(R-i)/a;P=-p+I*n,O=e,N=0,T=g+I*v}else{const I=(R-i-a)/i,U=I*Math.PI/2;P=p+e*Math.sin(U),O=e*Math.cos(U),N=e*Math.sin(U),T=g+v+I*g}const k=Math.max(0,Math.min(1,T/y));let z=0;R===0?z=.5/r:R===_&&(z=-.5/r);for(let I=0;I<=r;I++){const U=I/r,W=U*Math.PI*2,H=Math.sin(W),Y=Math.cos(W);M.x=-O*Y,M.y=P,M.z=O*H,l.push(M.x,M.y,M.z),S.set(-O*Y,N,O*H),S.normalize(),u.push(S.x,S.y,S.z),f.push(U+z,k)}if(R>0){const I=(R-1)*w;for(let U=0;U<r;U++){const W=I+U,H=I+U+1,Y=R*w+U,J=R*w+U+1;s.push(W,H,Y),s.push(H,J,Y)}}}this.setIndex(s),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(u,3)),this.setAttribute("uv",new Ot(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qw(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Yw extends sn{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const a=[],s=[],l=[],u=[],f=new ne,p=new rt;s.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let g=0,v=3;g<=n;g++,v+=3){const y=i+g/n*r;f.x=e*Math.cos(y),f.y=e*Math.sin(y),s.push(f.x,f.y,f.z),l.push(0,0,1),p.x=(s[v]/e+1)/2,p.y=(s[v+1]/e+1)/2,u.push(p.x,p.y)}for(let g=1;g<=n;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Ot(s,3)),this.setAttribute("normal",new Ot(l,3)),this.setAttribute("uv",new Ot(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nx extends sn{constructor(e=1,n=1,i=1,r=32,a=1,s=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:u};const f=this;r=Math.floor(r),a=Math.floor(a);const p=[],g=[],v=[],y=[];let _=0;const w=[],S=i/2;let M=0;R(),s===!1&&(e>0&&T(!0),n>0&&T(!1)),this.setIndex(p),this.setAttribute("position",new Ot(g,3)),this.setAttribute("normal",new Ot(v,3)),this.setAttribute("uv",new Ot(y,2));function R(){const P=new ne,O=new ne;let N=0;const k=(n-e)/i;for(let z=0;z<=a;z++){const I=[],U=z/a,W=U*(n-e)+e;for(let H=0;H<=r;H++){const Y=H/r,J=Y*u+l,ie=Math.sin(J),X=Math.cos(J);O.x=W*ie,O.y=-U*i+S,O.z=W*X,g.push(O.x,O.y,O.z),P.set(ie,k,X).normalize(),v.push(P.x,P.y,P.z),y.push(Y,1-U),I.push(_++)}w.push(I)}for(let z=0;z<r;z++)for(let I=0;I<a;I++){const U=w[I][z],W=w[I+1][z],H=w[I+1][z+1],Y=w[I][z+1];(e>0||I!==0)&&(p.push(U,W,Y),N+=3),(n>0||I!==a-1)&&(p.push(W,H,Y),N+=3)}f.addGroup(M,N,0),M+=N}function T(P){const O=_,N=new rt,k=new ne;let z=0;const I=P===!0?e:n,U=P===!0?1:-1;for(let H=1;H<=r;H++)g.push(0,S*U,0),v.push(0,U,0),y.push(.5,.5),_++;const W=_;for(let H=0;H<=r;H++){const J=H/r*u+l,ie=Math.cos(J),X=Math.sin(J);k.x=I*X,k.y=S*U,k.z=I*ie,g.push(k.x,k.y,k.z),v.push(0,U,0),N.x=ie*.5+.5,N.y=X*.5*U+.5,y.push(N.x,N.y),_++}for(let H=0;H<r;H++){const Y=O+H,J=W+H;P===!0?p.push(J,J+1,Y):p.push(J+1,J,Y),z+=3}f.addGroup(M,z,P===!0?1:2),M+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lx extends Nx{constructor(e=1,n=1,i=32,r=1,a=!1,s=0,l=Math.PI*2){super(0,e,n,i,r,a,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l}}static fromJSON(e){return new Lx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kd extends sn{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const a=[],s=[];l(r),f(i),p(),this.setAttribute("position",new Ot(a,3)),this.setAttribute("normal",new Ot(a.slice(),3)),this.setAttribute("uv",new Ot(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(R){const T=new ne,P=new ne,O=new ne;for(let N=0;N<n.length;N+=3)y(n[N+0],T),y(n[N+1],P),y(n[N+2],O),u(T,P,O,R)}function u(R,T,P,O){const N=O+1,k=[];for(let z=0;z<=N;z++){k[z]=[];const I=R.clone().lerp(P,z/N),U=T.clone().lerp(P,z/N),W=N-z;for(let H=0;H<=W;H++)H===0&&z===N?k[z][H]=I:k[z][H]=I.clone().lerp(U,H/W)}for(let z=0;z<N;z++)for(let I=0;I<2*(N-z)-1;I++){const U=Math.floor(I/2);I%2===0?(v(k[z][U+1]),v(k[z+1][U]),v(k[z][U])):(v(k[z][U+1]),v(k[z+1][U+1]),v(k[z+1][U]))}}function f(R){const T=new ne;for(let P=0;P<a.length;P+=3)T.x=a[P+0],T.y=a[P+1],T.z=a[P+2],T.normalize().multiplyScalar(R),a[P+0]=T.x,a[P+1]=T.y,a[P+2]=T.z}function p(){const R=new ne;for(let T=0;T<a.length;T+=3){R.x=a[T+0],R.y=a[T+1],R.z=a[T+2];const P=S(R)/2/Math.PI+.5,O=M(R)/Math.PI+.5;s.push(P,1-O)}_(),g()}function g(){for(let R=0;R<s.length;R+=6){const T=s[R+0],P=s[R+2],O=s[R+4],N=Math.max(T,P,O),k=Math.min(T,P,O);N>.9&&k<.1&&(T<.2&&(s[R+0]+=1),P<.2&&(s[R+2]+=1),O<.2&&(s[R+4]+=1))}}function v(R){a.push(R.x,R.y,R.z)}function y(R,T){const P=R*3;T.x=e[P+0],T.y=e[P+1],T.z=e[P+2]}function _(){const R=new ne,T=new ne,P=new ne,O=new ne,N=new rt,k=new rt,z=new rt;for(let I=0,U=0;I<a.length;I+=9,U+=6){R.set(a[I+0],a[I+1],a[I+2]),T.set(a[I+3],a[I+4],a[I+5]),P.set(a[I+6],a[I+7],a[I+8]),N.set(s[U+0],s[U+1]),k.set(s[U+2],s[U+3]),z.set(s[U+4],s[U+5]),O.copy(R).add(T).add(P).divideScalar(3);const W=S(O);w(N,U+0,R,W),w(k,U+2,T,W),w(z,U+4,P,W)}}function w(R,T,P,O){O<0&&R.x===1&&(s[T]=R.x-1),P.x===0&&P.z===0&&(s[T]=O/2/Math.PI+.5)}function S(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kd(e.vertices,e.indices,e.radius,e.detail)}}class Kw extends kd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Kw(e.radius,e.detail)}}const c_=new ne,f_=new ne,KT=new ne,d_=new Xs;class C8 extends sn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),a=Math.cos(np*n),s=e.getIndex(),l=e.getAttribute("position"),u=s?s.count:l.count,f=[0,0,0],p=["a","b","c"],g=new Array(3),v={},y=[];for(let _=0;_<u;_+=3){s?(f[0]=s.getX(_),f[1]=s.getX(_+1),f[2]=s.getX(_+2)):(f[0]=_,f[1]=_+1,f[2]=_+2);const{a:w,b:S,c:M}=d_;if(w.fromBufferAttribute(l,f[0]),S.fromBufferAttribute(l,f[1]),M.fromBufferAttribute(l,f[2]),d_.getNormal(KT),g[0]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,g[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,g[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const T=(R+1)%3,P=g[R],O=g[T],N=d_[p[R]],k=d_[p[T]],z=`${P}_${O}`,I=`${O}_${P}`;I in v&&v[I]?(KT.dot(v[I].normal)<=a&&(y.push(N.x,N.y,N.z),y.push(k.x,k.y,k.z)),v[I]=null):z in v||(v[z]={index0:f[R],index1:f[T],normal:KT.clone()})}}for(const _ in v)if(v[_]){const{index0:w,index1:S}=v[_];c_.fromBufferAttribute(l,w),f_.fromBufferAttribute(l,S),y.push(c_.x,c_.y,c_.z),y.push(f_.x,f_.y,f_.z)}this.setAttribute("position",new Ot(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Kl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Et("Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),n.push(a),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const a=i.length;let s;n?s=n:s=e*i[a-1];let l=0,u=a-1,f;for(;l<=u;)if(r=Math.floor(l+(u-l)/2),f=i[r]-s,f<0)l=r+1;else if(f>0)u=r-1;else{u=r;break}if(r=u,i[r]===s)return r/(a-1);const p=i[r],v=i[r+1]-p,y=(s-p)/v;return(r+y)/(a-1)}getTangent(e,n){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),l=this.getPoint(a),u=n||(s.isVector2?new rt:new ne);return u.copy(l).sub(s).normalize(),u}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new ne,r=[],a=[],s=[],l=new ne,u=new $t;for(let y=0;y<=e;y++){const _=y/e;r[y]=this.getTangentAt(_,new ne)}a[0]=new ne,s[0]=new ne;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);p<=f&&(f=p,i.set(1,0,0)),g<=f&&(f=g,i.set(0,1,0)),v<=f&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),s[0].crossVectors(r[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),s[y]=s[y-1].clone(),l.crossVectors(r[y-1],r[y]),l.length()>Number.EPSILON){l.normalize();const _=Math.acos(Qt(r[y-1].dot(r[y]),-1,1));a[y].applyMatrix4(u.makeRotationAxis(l,_))}s[y].crossVectors(r[y],a[y])}if(n===!0){let y=Math.acos(Qt(a[0].dot(a[e]),-1,1));y/=e,r[0].dot(l.crossVectors(a[0],a[e]))>0&&(y=-y);for(let _=1;_<=e;_++)a[_].applyMatrix4(u.makeRotationAxis(r[_],y*_)),s[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Zw extends Kl{constructor(e=0,n=0,i=1,r=1,a=0,s=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=u}getPoint(e,n=new rt){const i=n,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=u-this.aX,y=f-this.aY;u=v*p-y*g+this.aX,f=v*g+y*p+this.aY}return i.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class R8 extends Zw{constructor(e,n,i,r,a,s){super(e,n,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function DD(){let t=0,e=0,n=0,i=0;function r(a,s,l,u){t=a,e=l,n=-3*a+3*s-2*l-u,i=2*a-2*s+l+u}return{initCatmullRom:function(a,s,l,u,f){r(s,l,f*(l-a),f*(u-s))},initNonuniformCatmullRom:function(a,s,l,u,f,p,g){let v=(s-a)/f-(l-a)/(f+p)+(l-s)/p,y=(l-s)/p-(u-s)/(p+g)+(u-l)/g;v*=p,y*=p,r(s,l,v,y)},calc:function(a){const s=a*a,l=s*a;return t+e*a+n*s+i*l}}}const h_=new ne,ZT=new DD,$T=new DD,QT=new DD;class P8 extends Kl{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new ne){const i=n,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:u===0&&l===a-1&&(l=a-2,u=1);let f,p;this.closed||l>0?f=r[(l-1)%a]:(h_.subVectors(r[0],r[1]).add(r[0]),f=h_);const g=r[l%a],v=r[(l+1)%a];if(this.closed||l+2<a?p=r[(l+2)%a]:(h_.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=h_),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let _=Math.pow(f.distanceToSquared(g),y),w=Math.pow(g.distanceToSquared(v),y),S=Math.pow(v.distanceToSquared(p),y);w<1e-4&&(w=1),_<1e-4&&(_=w),S<1e-4&&(S=w),ZT.initNonuniformCatmullRom(f.x,g.x,v.x,p.x,_,w,S),$T.initNonuniformCatmullRom(f.y,g.y,v.y,p.y,_,w,S),QT.initNonuniformCatmullRom(f.z,g.z,v.z,p.z,_,w,S)}else this.curveType==="catmullrom"&&(ZT.initCatmullRom(f.x,g.x,v.x,p.x,this.tension),$T.initCatmullRom(f.y,g.y,v.y,p.y,this.tension),QT.initCatmullRom(f.z,g.z,v.z,p.z,this.tension));return i.set(ZT.calc(u),$T.calc(u),QT.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new ne().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function vk(t,e,n,i,r){const a=(i-e)*.5,s=(r-n)*.5,l=t*t,u=t*l;return(2*n-2*i+a+s)*u+(-3*n+3*i-2*a-s)*l+a*t+n}function Kue(t,e){const n=1-t;return n*n*e}function Zue(t,e){return 2*(1-t)*t*e}function $ue(t,e){return t*t*e}function uy(t,e,n,i){return Kue(t,e)+Zue(t,n)+$ue(t,i)}function Que(t,e){const n=1-t;return n*n*n*e}function Jue(t,e){const n=1-t;return 3*n*n*t*e}function ece(t,e){return 3*(1-t)*t*t*e}function tce(t,e){return t*t*t*e}function cy(t,e,n,i,r){return Que(t,e)+Jue(t,n)+ece(t,i)+tce(t,r)}class OD extends Kl{constructor(e=new rt,n=new rt,i=new rt,r=new rt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new rt){const i=n,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(cy(e,r.x,a.x,s.x,l.x),cy(e,r.y,a.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class D8 extends Kl{constructor(e=new ne,n=new ne,i=new ne,r=new ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new ne){const i=n,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(cy(e,r.x,a.x,s.x,l.x),cy(e,r.y,a.y,s.y,l.y),cy(e,r.z,a.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ND extends Kl{constructor(e=new rt,n=new rt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new rt){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new rt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class O8 extends Kl{constructor(e=new ne,n=new ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ne){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ne){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LD extends Kl{constructor(e=new rt,n=new rt,i=new rt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new rt){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(uy(e,r.x,a.x,s.x),uy(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $w extends Kl{constructor(e=new ne,n=new ne,i=new ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ne){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(uy(e,r.x,a.x,s.x),uy(e,r.y,a.y,s.y),uy(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ID extends Kl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new rt){const i=n,r=this.points,a=(r.length-1)*e,s=Math.floor(a),l=a-s,u=r[s===0?s:s-1],f=r[s],p=r[s>r.length-2?r.length-1:s+1],g=r[s>r.length-3?r.length-1:s+2];return i.set(vk(l,u.x,f.x,p.x,g.x),vk(l,u.y,f.y,p.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new rt().fromArray(r))}return this}}var OM=Object.freeze({__proto__:null,ArcCurve:R8,CatmullRomCurve3:P8,CubicBezierCurve:OD,CubicBezierCurve3:D8,EllipseCurve:Zw,LineCurve:ND,LineCurve3:O8,QuadraticBezierCurve:LD,QuadraticBezierCurve3:$w,SplineCurve:ID});class N8 extends Kl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new OM[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,l=this.curves[a],u=l.getLength(),f=u===0?0:1-s/u;return l.getPointAt(f,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,u=s.getPoints(l);for(let f=0;f<u.length;f++){const p=u[f];i&&i.equals(p)||(n.push(p),i=p)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new OM[r.type]().fromJSON(r))}return this}}class NM extends N8{constructor(e){super(),this.type="Path",this.currentPoint=new rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new ND(this.currentPoint.clone(),new rt(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const a=new LD(this.currentPoint.clone(),new rt(e,n),new rt(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,a,s){const l=new OD(this.currentPoint.clone(),new rt(e,n),new rt(i,r),new rt(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new ID(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,a,s){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,n+u,i,r,a,s),this}absarc(e,n,i,r,a,s){return this.absellipse(e,n,i,i,r,a,s),this}ellipse(e,n,i,r,a,s,l,u){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,n+p,i,r,a,s,l,u),this}absellipse(e,n,i,r,a,s,l,u){const f=new Zw(e,n,i,r,a,s,l,u);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ip extends NM{constructor(e){super(e),this.uuid=xo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new NM().fromJSON(r))}return this}}function nce(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let a=L8(t,0,r,n,!0);const s=[];if(!a||a.next===a.prev)return s;let l,u,f;if(i&&(a=oce(t,e,a,n)),t.length>80*n){l=t[0],u=t[1];let p=l,g=u;for(let v=n;v<r;v+=n){const y=t[v],_=t[v+1];y<l&&(l=y),_<u&&(u=_),y>p&&(p=y),_>g&&(g=_)}f=Math.max(p-l,g-u),f=f!==0?32767/f:0}return Zy(a,s,n,l,u,f,0),s}function L8(t,e,n,i,r){let a;if(r===yce(t,e,n,i)>0)for(let s=e;s<n;s+=i)a=yk(s/i|0,t[s],t[s+1],a);else for(let s=n-i;s>=e;s-=i)a=yk(s/i|0,t[s],t[s+1],a);return a&&Ug(a,a.next)&&(Qy(a),a=a.next),a}function xp(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Ug(n,n.next)||Yi(n.prev,n,n.next)===0)){if(Qy(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Zy(t,e,n,i,r,a,s){if(!t)return;!s&&a&&dce(t,i,r,a);let l=t;for(;t.prev!==t.next;){const u=t.prev,f=t.next;if(a?rce(t,i,r,a):ice(t)){e.push(u.i,t.i,f.i),Qy(t),t=f.next,l=f.next;continue}if(t=f,t===l){s?s===1?(t=ace(xp(t),e),Zy(t,e,n,i,r,a,2)):s===2&&sce(t,e,n,i,r,a):Zy(xp(t),e,n,i,r,a,1);break}}}function ice(t){const e=t.prev,n=t,i=t.next;if(Yi(e,n,i)>=0)return!1;const r=e.x,a=n.x,s=i.x,l=e.y,u=n.y,f=i.y,p=Math.min(r,a,s),g=Math.min(l,u,f),v=Math.max(r,a,s),y=Math.max(l,u,f);let _=i.next;for(;_!==e;){if(_.x>=p&&_.x<=v&&_.y>=g&&_.y<=y&&qv(r,l,a,u,s,f,_.x,_.y)&&Yi(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function rce(t,e,n,i){const r=t.prev,a=t,s=t.next;if(Yi(r,a,s)>=0)return!1;const l=r.x,u=a.x,f=s.x,p=r.y,g=a.y,v=s.y,y=Math.min(l,u,f),_=Math.min(p,g,v),w=Math.max(l,u,f),S=Math.max(p,g,v),M=U3(y,_,e,n,i),R=U3(w,S,e,n,i);let T=t.prevZ,P=t.nextZ;for(;T&&T.z>=M&&P&&P.z<=R;){if(T.x>=y&&T.x<=w&&T.y>=_&&T.y<=S&&T!==r&&T!==s&&qv(l,p,u,g,f,v,T.x,T.y)&&Yi(T.prev,T,T.next)>=0||(T=T.prevZ,P.x>=y&&P.x<=w&&P.y>=_&&P.y<=S&&P!==r&&P!==s&&qv(l,p,u,g,f,v,P.x,P.y)&&Yi(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;T&&T.z>=M;){if(T.x>=y&&T.x<=w&&T.y>=_&&T.y<=S&&T!==r&&T!==s&&qv(l,p,u,g,f,v,T.x,T.y)&&Yi(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;P&&P.z<=R;){if(P.x>=y&&P.x<=w&&P.y>=_&&P.y<=S&&P!==r&&P!==s&&qv(l,p,u,g,f,v,P.x,P.y)&&Yi(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function ace(t,e){let n=t;do{const i=n.prev,r=n.next.next;!Ug(i,r)&&U8(i,n,n.next,r)&&$y(i,r)&&$y(r,i)&&(e.push(i.i,n.i,r.i),Qy(n),Qy(n.next),n=t=r),n=n.next}while(n!==t);return xp(n)}function sce(t,e,n,i,r,a){let s=t;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&mce(s,l)){let u=k8(s,l);s=xp(s,s.next),u=xp(u,u.next),Zy(s,e,n,i,r,a,0),Zy(u,e,n,i,r,a,0);return}l=l.next}s=s.next}while(s!==t)}function oce(t,e,n,i){const r=[];for(let a=0,s=e.length;a<s;a++){const l=e[a]*i,u=a<s-1?e[a+1]*i:t.length,f=L8(t,l,u,i,!1);f===f.next&&(f.steiner=!0),r.push(pce(f))}r.sort(lce);for(let a=0;a<r.length;a++)n=uce(r[a],n);return n}function lce(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function uce(t,e){const n=cce(t,e);if(!n)return e;const i=k8(n,t);return xp(i,i.next),xp(n,n.next)}function cce(t,e){let n=e;const i=t.x,r=t.y;let a=-1/0,s;if(Ug(t,n))return n;do{if(Ug(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const g=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=i&&g>a&&(a=g,s=n.x<n.next.x?n:n.next,g===i))return s}n=n.next}while(n!==e);if(!s)return null;const l=s,u=s.x,f=s.y;let p=1/0;n=s;do{if(i>=n.x&&n.x>=u&&i!==n.x&&I8(r<f?i:a,r,u,f,r<f?a:i,r,n.x,n.y)){const g=Math.abs(r-n.y)/(i-n.x);$y(n,t)&&(g<p||g===p&&(n.x>s.x||n.x===s.x&&fce(s,n)))&&(s=n,p=g)}n=n.next}while(n!==l);return s}function fce(t,e){return Yi(t.prev,t,e.prev)<0&&Yi(e.next,t,t.next)<0}function dce(t,e,n,i){let r=t;do r.z===0&&(r.z=U3(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,hce(r)}function hce(t){let e,n=1;do{let i=t,r;t=null;let a=null;for(e=0;i;){e++;let s=i,l=0;for(let f=0;f<n&&(l++,s=s.nextZ,!!s);f++);let u=n;for(;l>0||u>0&&s;)l!==0&&(u===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,l--):(r=s,s=s.nextZ,u--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=s}a.nextZ=null,n*=2}while(e>1);return t}function U3(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function pce(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function I8(t,e,n,i,r,a,s,l){return(r-s)*(e-l)>=(t-s)*(a-l)&&(t-s)*(i-l)>=(n-s)*(e-l)&&(n-s)*(a-l)>=(r-s)*(i-l)}function qv(t,e,n,i,r,a,s,l){return!(t===s&&e===l)&&I8(t,e,n,i,r,a,s,l)}function mce(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!gce(t,e)&&($y(t,e)&&$y(e,t)&&vce(t,e)&&(Yi(t.prev,t,e.prev)||Yi(t,e.prev,e))||Ug(t,e)&&Yi(t.prev,t,t.next)>0&&Yi(e.prev,e,e.next)>0)}function Yi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ug(t,e){return t.x===e.x&&t.y===e.y}function U8(t,e,n,i){const r=m_(Yi(t,e,n)),a=m_(Yi(t,e,i)),s=m_(Yi(n,i,t)),l=m_(Yi(n,i,e));return!!(r!==a&&s!==l||r===0&&p_(t,n,e)||a===0&&p_(t,i,e)||s===0&&p_(n,t,i)||l===0&&p_(n,e,i))}function p_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function m_(t){return t>0?1:t<0?-1:0}function gce(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&U8(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function $y(t,e){return Yi(t.prev,t,t.next)<0?Yi(t,e,t.next)>=0&&Yi(t,t.prev,e)>=0:Yi(t,e,t.prev)<0||Yi(t,t.next,e)<0}function vce(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function k8(t,e){const n=k3(t.i,t.x,t.y),i=k3(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function yk(t,e,n,i){const r=k3(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Qy(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function k3(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function yce(t,e,n,i){let r=0;for(let a=e,s=n-i;a<n;a+=i)r+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return r}class xce{static triangulate(e,n,i=2){return nce(e,n,i)}}class jl{static area(e){const n=e.length;let i=0;for(let r=n-1,a=0;a<n;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return jl.area(e)<0}static triangulateShape(e,n){const i=[],r=[],a=[];xk(e),bk(i,e);let s=e.length;n.forEach(xk);for(let u=0;u<n.length;u++)r.push(s),s+=n[u].length,bk(i,n[u]);const l=xce.triangulate(i,r);for(let u=0;u<l.length;u+=3)a.push(l.slice(u,u+3));return a}}function xk(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function bk(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Qw extends sn{constructor(e=new ip([new rt(.5,.5),new rt(-.5,.5),new rt(-.5,-.5),new rt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let l=0,u=e.length;l<u;l++){const f=e[l];s(f)}this.setAttribute("position",new Ot(r,3)),this.setAttribute("uv",new Ot(a,2)),this.computeVertexNormals();function s(l){const u=[],f=n.curveSegments!==void 0?n.curveSegments:12,p=n.steps!==void 0?n.steps:1,g=n.depth!==void 0?n.depth:1;let v=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:.2,_=n.bevelSize!==void 0?n.bevelSize:y-.1,w=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const M=n.extrudePath,R=n.UVGenerator!==void 0?n.UVGenerator:bce;let T,P=!1,O,N,k,z;if(M){T=M.getSpacedPoints(p),P=!0,v=!1;const _e=M.isCatmullRomCurve3?M.closed:!1;O=M.computeFrenetFrames(p,_e),N=new ne,k=new ne,z=new ne}v||(S=0,y=0,_=0,w=0);const I=l.extractPoints(f);let U=I.shape;const W=I.holes;if(!jl.isClockWise(U)){U=U.reverse();for(let _e=0,Ae=W.length;_e<Ae;_e++){const Me=W[_e];jl.isClockWise(Me)&&(W[_e]=Me.reverse())}}function Y(_e){const Me=10000000000000001e-36;let Ge=_e[0];for(let Z=1;Z<=_e.length;Z++){const at=Z%_e.length,qe=_e[at],Ne=qe.x-Ge.x,Ze=qe.y-Ge.y,q=Ne*Ne+Ze*Ze,j=Math.max(Math.abs(qe.x),Math.abs(qe.y),Math.abs(Ge.x),Math.abs(Ge.y)),oe=Me*j*j;if(q<=oe){_e.splice(at,1),Z--;continue}Ge=qe}}Y(U),W.forEach(Y);const J=W.length,ie=U;for(let _e=0;_e<J;_e++){const Ae=W[_e];U=U.concat(Ae)}function X(_e,Ae,Me){return Ae||Vt("ExtrudeGeometry: vec does not exist"),_e.clone().addScaledVector(Ae,Me)}const te=U.length;function de(_e,Ae,Me){let Ge,Z,at;const qe=_e.x-Ae.x,Ne=_e.y-Ae.y,Ze=Me.x-_e.x,q=Me.y-_e.y,j=qe*qe+Ne*Ne,oe=qe*q-Ne*Ze;if(Math.abs(oe)>Number.EPSILON){const De=Math.sqrt(j),Re=Math.sqrt(Ze*Ze+q*q),be=Ae.x-Ne/De,nt=Ae.y+qe/De,Je=Me.x-q/Re,pt=Me.y+Ze/Re,St=((Je-be)*q-(pt-nt)*Ze)/(qe*q-Ne*Ze);Ge=be+qe*St-_e.x,Z=nt+Ne*St-_e.y;const Xe=Ge*Ge+Z*Z;if(Xe<=2)return new rt(Ge,Z);at=Math.sqrt(Xe/2)}else{let De=!1;qe>Number.EPSILON?Ze>Number.EPSILON&&(De=!0):qe<-Number.EPSILON?Ze<-Number.EPSILON&&(De=!0):Math.sign(Ne)===Math.sign(q)&&(De=!0),De?(Ge=-Ne,Z=qe,at=Math.sqrt(j)):(Ge=qe,Z=Ne,at=Math.sqrt(j/2))}return new rt(Ge/at,Z/at)}const he=[];for(let _e=0,Ae=ie.length,Me=Ae-1,Ge=_e+1;_e<Ae;_e++,Me++,Ge++)Me===Ae&&(Me=0),Ge===Ae&&(Ge=0),he[_e]=de(ie[_e],ie[Me],ie[Ge]);const le=[];let V,ee=he.concat();for(let _e=0,Ae=J;_e<Ae;_e++){const Me=W[_e];V=[];for(let Ge=0,Z=Me.length,at=Z-1,qe=Ge+1;Ge<Z;Ge++,at++,qe++)at===Z&&(at=0),qe===Z&&(qe=0),V[Ge]=de(Me[Ge],Me[at],Me[qe]);le.push(V),ee=ee.concat(V)}let re;if(S===0)re=jl.triangulateShape(ie,W);else{const _e=[],Ae=[];for(let Me=0;Me<S;Me++){const Ge=Me/S,Z=y*Math.cos(Ge*Math.PI/2),at=_*Math.sin(Ge*Math.PI/2)+w;for(let qe=0,Ne=ie.length;qe<Ne;qe++){const Ze=X(ie[qe],he[qe],at);fe(Ze.x,Ze.y,-Z),Ge===0&&_e.push(Ze)}for(let qe=0,Ne=J;qe<Ne;qe++){const Ze=W[qe];V=le[qe];const q=[];for(let j=0,oe=Ze.length;j<oe;j++){const De=X(Ze[j],V[j],at);fe(De.x,De.y,-Z),Ge===0&&q.push(De)}Ge===0&&Ae.push(q)}}re=jl.triangulateShape(_e,Ae)}const pe=re.length,ye=_+w;for(let _e=0;_e<te;_e++){const Ae=v?X(U[_e],ee[_e],ye):U[_e];P?(k.copy(O.normals[0]).multiplyScalar(Ae.x),N.copy(O.binormals[0]).multiplyScalar(Ae.y),z.copy(T[0]).add(k).add(N),fe(z.x,z.y,z.z)):fe(Ae.x,Ae.y,0)}for(let _e=1;_e<=p;_e++)for(let Ae=0;Ae<te;Ae++){const Me=v?X(U[Ae],ee[Ae],ye):U[Ae];P?(k.copy(O.normals[_e]).multiplyScalar(Me.x),N.copy(O.binormals[_e]).multiplyScalar(Me.y),z.copy(T[_e]).add(k).add(N),fe(z.x,z.y,z.z)):fe(Me.x,Me.y,g/p*_e)}for(let _e=S-1;_e>=0;_e--){const Ae=_e/S,Me=y*Math.cos(Ae*Math.PI/2),Ge=_*Math.sin(Ae*Math.PI/2)+w;for(let Z=0,at=ie.length;Z<at;Z++){const qe=X(ie[Z],he[Z],Ge);fe(qe.x,qe.y,g+Me)}for(let Z=0,at=W.length;Z<at;Z++){const qe=W[Z];V=le[Z];for(let Ne=0,Ze=qe.length;Ne<Ze;Ne++){const q=X(qe[Ne],V[Ne],Ge);P?fe(q.x,q.y+T[p-1].y,T[p-1].x+Me):fe(q.x,q.y,g+Me)}}}se(),ce();function se(){const _e=r.length/3;if(v){let Ae=0,Me=te*Ae;for(let Ge=0;Ge<pe;Ge++){const Z=re[Ge];Oe(Z[2]+Me,Z[1]+Me,Z[0]+Me)}Ae=p+S*2,Me=te*Ae;for(let Ge=0;Ge<pe;Ge++){const Z=re[Ge];Oe(Z[0]+Me,Z[1]+Me,Z[2]+Me)}}else{for(let Ae=0;Ae<pe;Ae++){const Me=re[Ae];Oe(Me[2],Me[1],Me[0])}for(let Ae=0;Ae<pe;Ae++){const Me=re[Ae];Oe(Me[0]+te*p,Me[1]+te*p,Me[2]+te*p)}}i.addGroup(_e,r.length/3-_e,0)}function ce(){const _e=r.length/3;let Ae=0;Se(ie,Ae),Ae+=ie.length;for(let Me=0,Ge=W.length;Me<Ge;Me++){const Z=W[Me];Se(Z,Ae),Ae+=Z.length}i.addGroup(_e,r.length/3-_e,1)}function Se(_e,Ae){let Me=_e.length;for(;--Me>=0;){const Ge=Me;let Z=Me-1;Z<0&&(Z=_e.length-1);for(let at=0,qe=p+S*2;at<qe;at++){const Ne=te*at,Ze=te*(at+1),q=Ae+Ge+Ne,j=Ae+Z+Ne,oe=Ae+Z+Ze,De=Ae+Ge+Ze;ke(q,j,oe,De)}}}function fe(_e,Ae,Me){u.push(_e),u.push(Ae),u.push(Me)}function Oe(_e,Ae,Me){me(_e),me(Ae),me(Me);const Ge=r.length/3,Z=R.generateTopUV(i,r,Ge-3,Ge-2,Ge-1);ut(Z[0]),ut(Z[1]),ut(Z[2])}function ke(_e,Ae,Me,Ge){me(_e),me(Ae),me(Ge),me(Ae),me(Me),me(Ge);const Z=r.length/3,at=R.generateSideWallUV(i,r,Z-6,Z-3,Z-2,Z-1);ut(at[0]),ut(at[1]),ut(at[3]),ut(at[1]),ut(at[2]),ut(at[3])}function me(_e){r.push(u[_e*3+0]),r.push(u[_e*3+1]),r.push(u[_e*3+2])}function ut(_e){a.push(_e.x),a.push(_e.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return _ce(n,i,e)}static fromJSON(e,n){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const l=n[e.shapes[a]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new OM[r.type]().fromJSON(r)),new Qw(i,e.options)}}const bce={generateTopUV:function(t,e,n,i,r){const a=e[n*3],s=e[n*3+1],l=e[i*3],u=e[i*3+1],f=e[r*3],p=e[r*3+1];return[new rt(a,s),new rt(l,u),new rt(f,p)]},generateSideWallUV:function(t,e,n,i,r,a){const s=e[n*3],l=e[n*3+1],u=e[n*3+2],f=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[r*3],y=e[r*3+1],_=e[r*3+2],w=e[a*3],S=e[a*3+1],M=e[a*3+2];return Math.abs(l-p)<Math.abs(s-f)?[new rt(s,1-u),new rt(f,1-g),new rt(v,1-_),new rt(w,1-M)]:[new rt(l,1-u),new rt(p,1-g),new rt(y,1-_),new rt(S,1-M)]}};function _ce(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Jw extends kd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Jw(e.radius,e.detail)}}class eE extends sn{constructor(e=[new rt(0,-.5),new rt(.5,0),new rt(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Qt(r,0,Math.PI*2);const a=[],s=[],l=[],u=[],f=[],p=1/n,g=new ne,v=new rt,y=new ne,_=new ne,w=new ne;let S=0,M=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:S=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,y.x=M*1,y.y=-S,y.z=M*0,w.copy(y),y.normalize(),u.push(y.x,y.y,y.z);break;case e.length-1:u.push(w.x,w.y,w.z);break;default:S=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,y.x=M*1,y.y=-S,y.z=M*0,_.copy(y),y.x+=w.x,y.y+=w.y,y.z+=w.z,y.normalize(),u.push(y.x,y.y,y.z),w.copy(_)}for(let R=0;R<=n;R++){const T=i+R*p*r,P=Math.sin(T),O=Math.cos(T);for(let N=0;N<=e.length-1;N++){g.x=e[N].x*P,g.y=e[N].y,g.z=e[N].x*O,s.push(g.x,g.y,g.z),v.x=R/n,v.y=N/(e.length-1),l.push(v.x,v.y);const k=u[3*N+0]*P,z=u[3*N+1],I=u[3*N+0]*O;f.push(k,z,I)}}for(let R=0;R<n;R++)for(let T=0;T<e.length-1;T++){const P=T+R*e.length,O=P,N=P+e.length,k=P+e.length+1,z=P+1;a.push(O,N,z),a.push(k,z,N)}this.setIndex(a),this.setAttribute("position",new Ot(s,3)),this.setAttribute("uv",new Ot(l,2)),this.setAttribute("normal",new Ot(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eE(e.points,e.segments,e.phiStart,e.phiLength)}}class Ix extends kd{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ix(e.radius,e.detail)}}class mf extends sn{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,s=n/2,l=Math.floor(i),u=Math.floor(r),f=l+1,p=u+1,g=e/l,v=n/u,y=[],_=[],w=[],S=[];for(let M=0;M<p;M++){const R=M*v-s;for(let T=0;T<f;T++){const P=T*g-a;_.push(P,-R,0),w.push(0,0,1),S.push(T/l),S.push(1-M/u)}}for(let M=0;M<u;M++)for(let R=0;R<l;R++){const T=R+f*M,P=R+f*(M+1),O=R+1+f*(M+1),N=R+1+f*M;y.push(T,P,N),y.push(P,O,N)}this.setIndex(y),this.setAttribute("position",new Ot(_,3)),this.setAttribute("normal",new Ot(w,3)),this.setAttribute("uv",new Ot(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mf(e.width,e.height,e.widthSegments,e.heightSegments)}}class tE extends sn{constructor(e=.5,n=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const l=[],u=[],f=[],p=[];let g=e;const v=(n-e)/r,y=new ne,_=new rt;for(let w=0;w<=r;w++){for(let S=0;S<=i;S++){const M=a+S/i*s;y.x=g*Math.cos(M),y.y=g*Math.sin(M),u.push(y.x,y.y,y.z),f.push(0,0,1),_.x=(y.x/n+1)/2,_.y=(y.y/n+1)/2,p.push(_.x,_.y)}g+=v}for(let w=0;w<r;w++){const S=w*(i+1);for(let M=0;M<i;M++){const R=M+S,T=R,P=R+i+1,O=R+i+2,N=R+1;l.push(T,P,N),l.push(P,O,N)}}this.setIndex(l),this.setAttribute("position",new Ot(u,3)),this.setAttribute("normal",new Ot(f,3)),this.setAttribute("uv",new Ot(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class nE extends sn{constructor(e=new ip([new rt(0,.5),new rt(-.5,-.5),new rt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],a=[],s=[];let l=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(l,u,p),l+=u,u=0;this.setIndex(i),this.setAttribute("position",new Ot(r,3)),this.setAttribute("normal",new Ot(a,3)),this.setAttribute("uv",new Ot(s,2));function f(p){const g=r.length/3,v=p.extractPoints(n);let y=v.shape;const _=v.holes;jl.isClockWise(y)===!1&&(y=y.reverse());for(let S=0,M=_.length;S<M;S++){const R=_[S];jl.isClockWise(R)===!0&&(_[S]=R.reverse())}const w=jl.triangulateShape(y,_);for(let S=0,M=_.length;S<M;S++){const R=_[S];y=y.concat(R)}for(let S=0,M=y.length;S<M;S++){const R=y[S];r.push(R.x,R.y,0),a.push(0,0,1),s.push(R.x,R.y)}for(let S=0,M=w.length;S<M;S++){const R=w[S],T=R[0]+g,P=R[1]+g,O=R[2]+g;i.push(T,P,O),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Sce(n,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=n[e.shapes[r]];i.push(s)}return new nE(i,e.curveSegments)}}function Sce(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Ux extends sn{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:l},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const u=Math.min(s+l,Math.PI);let f=0;const p=[],g=new ne,v=new ne,y=[],_=[],w=[],S=[];for(let M=0;M<=i;M++){const R=[],T=M/i;let P=0;M===0&&s===0?P=.5/n:M===i&&u===Math.PI&&(P=-.5/n);for(let O=0;O<=n;O++){const N=O/n;g.x=-e*Math.cos(r+N*a)*Math.sin(s+T*l),g.y=e*Math.cos(s+T*l),g.z=e*Math.sin(r+N*a)*Math.sin(s+T*l),_.push(g.x,g.y,g.z),v.copy(g).normalize(),w.push(v.x,v.y,v.z),S.push(N+P,1-T),R.push(f++)}p.push(R)}for(let M=0;M<i;M++)for(let R=0;R<n;R++){const T=p[M][R+1],P=p[M][R],O=p[M+1][R],N=p[M+1][R+1];(M!==0||s>0)&&y.push(T,P,N),(M!==i-1||u<Math.PI)&&y.push(P,O,N)}this.setIndex(y),this.setAttribute("position",new Ot(_,3)),this.setAttribute("normal",new Ot(w,3)),this.setAttribute("uv",new Ot(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ux(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class iE extends kd{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new iE(e.radius,e.detail)}}class rE extends sn{constructor(e=1,n=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],l=[],u=[],f=[],p=new ne,g=new ne,v=new ne;for(let y=0;y<=i;y++)for(let _=0;_<=r;_++){const w=_/r*a,S=y/i*Math.PI*2;g.x=(e+n*Math.cos(S))*Math.cos(w),g.y=(e+n*Math.cos(S))*Math.sin(w),g.z=n*Math.sin(S),l.push(g.x,g.y,g.z),p.x=e*Math.cos(w),p.y=e*Math.sin(w),v.subVectors(g,p).normalize(),u.push(v.x,v.y,v.z),f.push(_/r),f.push(y/i)}for(let y=1;y<=i;y++)for(let _=1;_<=r;_++){const w=(r+1)*y+_-1,S=(r+1)*(y-1)+_-1,M=(r+1)*(y-1)+_,R=(r+1)*y+_;s.push(w,S,R),s.push(S,M,R)}this.setIndex(s),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(u,3)),this.setAttribute("uv",new Ot(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class aE extends sn{constructor(e=1,n=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const l=[],u=[],f=[],p=[],g=new ne,v=new ne,y=new ne,_=new ne,w=new ne,S=new ne,M=new ne;for(let T=0;T<=i;++T){const P=T/i*a*Math.PI*2;R(P,a,s,e,y),R(P+.01,a,s,e,_),S.subVectors(_,y),M.addVectors(_,y),w.crossVectors(S,M),M.crossVectors(w,S),w.normalize(),M.normalize();for(let O=0;O<=r;++O){const N=O/r*Math.PI*2,k=-n*Math.cos(N),z=n*Math.sin(N);g.x=y.x+(k*M.x+z*w.x),g.y=y.y+(k*M.y+z*w.y),g.z=y.z+(k*M.z+z*w.z),u.push(g.x,g.y,g.z),v.subVectors(g,y).normalize(),f.push(v.x,v.y,v.z),p.push(T/i),p.push(O/r)}}for(let T=1;T<=i;T++)for(let P=1;P<=r;P++){const O=(r+1)*(T-1)+(P-1),N=(r+1)*T+(P-1),k=(r+1)*T+P,z=(r+1)*(T-1)+P;l.push(O,N,z),l.push(N,k,z)}this.setIndex(l),this.setAttribute("position",new Ot(u,3)),this.setAttribute("normal",new Ot(f,3)),this.setAttribute("uv",new Ot(p,2));function R(T,P,O,N,k){const z=Math.cos(T),I=Math.sin(T),U=O/P*T,W=Math.cos(U);k.x=N*(2+W)*.5*z,k.y=N*(2+W)*I*.5,k.z=N*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class sE extends sn{constructor(e=new $w(new ne(-1,-1,0),new ne(-1,1,0),new ne(1,1,0)),n=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new ne,u=new ne,f=new rt;let p=new ne;const g=[],v=[],y=[],_=[];w(),this.setIndex(_),this.setAttribute("position",new Ot(g,3)),this.setAttribute("normal",new Ot(v,3)),this.setAttribute("uv",new Ot(y,2));function w(){for(let T=0;T<n;T++)S(T);S(a===!1?n:0),R(),M()}function S(T){p=e.getPointAt(T/n,p);const P=s.normals[T],O=s.binormals[T];for(let N=0;N<=r;N++){const k=N/r*Math.PI*2,z=Math.sin(k),I=-Math.cos(k);u.x=I*P.x+z*O.x,u.y=I*P.y+z*O.y,u.z=I*P.z+z*O.z,u.normalize(),v.push(u.x,u.y,u.z),l.x=p.x+i*u.x,l.y=p.y+i*u.y,l.z=p.z+i*u.z,g.push(l.x,l.y,l.z)}}function M(){for(let T=1;T<=n;T++)for(let P=1;P<=r;P++){const O=(r+1)*(T-1)+(P-1),N=(r+1)*T+(P-1),k=(r+1)*T+P,z=(r+1)*(T-1)+P;_.push(O,N,z),_.push(N,k,z)}}function R(){for(let T=0;T<=n;T++)for(let P=0;P<=r;P++)f.x=T/n,f.y=P/r,y.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new sE(new OM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class UD extends sn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new ne,a=new ne;if(e.index!==null){const s=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,p=u.length;f<p;++f){const g=u[f],v=g.start,y=g.count;for(let _=v,w=v+y;_<w;_+=3)for(let S=0;S<3;S++){const M=l.getX(_+S),R=l.getX(_+(S+1)%3);r.fromBufferAttribute(s,M),a.fromBufferAttribute(s,R),_k(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let l=0,u=s.count/3;l<u;l++)for(let f=0;f<3;f++){const p=3*l+f,g=3*l+(f+1)%3;r.fromBufferAttribute(s,p),a.fromBufferAttribute(s,g),_k(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ot(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _k(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var Sk=Object.freeze({__proto__:null,BoxGeometry:Rp,CapsuleGeometry:qw,CircleGeometry:Yw,ConeGeometry:Lx,CylinderGeometry:Nx,DodecahedronGeometry:Kw,EdgesGeometry:C8,ExtrudeGeometry:Qw,IcosahedronGeometry:Jw,LatheGeometry:eE,OctahedronGeometry:Ix,PlaneGeometry:mf,PolyhedronGeometry:kd,RingGeometry:tE,ShapeGeometry:nE,SphereGeometry:Ux,TetrahedronGeometry:iE,TorusGeometry:rE,TorusKnotGeometry:aE,TubeGeometry:sE,WireframeGeometry:UD});class z8 extends qa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new At(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class kD extends Qs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zD extends qa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new At(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ud,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F8 extends zD{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new At(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new At(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new At(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class B8 extends qa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new At(16777215),this.specular=new At(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ud,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.combine=Px,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class V8 extends qa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new At(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ud,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class j8 extends qa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ud,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class G8 extends qa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new At(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ud,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.combine=Px,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oE extends qa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=n8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lE extends qa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class H8 extends qa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new At(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ud,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W8 extends xs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Zh(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function X8(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function z3(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,s=0;s!==i;++a){const l=n[a]*e;for(let u=0;u!==e;++u)r[s++]=t[l+u]}return r}function FD(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),n.push(...s)),a=t[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),n.push(s)),a=t[r++];while(a!==void 0)}function Mce(t,e,n,i,r=30){const a=t.clone();a.name=e;const s=[];for(let u=0;u<a.tracks.length;++u){const f=a.tracks[u],p=f.getValueSize(),g=[],v=[];for(let y=0;y<f.times.length;++y){const _=f.times[y]*r;if(!(_<n||_>=i)){g.push(f.times[y]);for(let w=0;w<p;++w)v.push(f.values[y*p+w])}}g.length!==0&&(f.times=Zh(g,f.times.constructor),f.values=Zh(v,f.values.constructor),s.push(f))}a.tracks=s;let l=1/0;for(let u=0;u<a.tracks.length;++u)l>a.tracks[u].times[0]&&(l=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*l);return a.resetDuration(),a}function wce(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,a=e/i;for(let s=0;s<r;++s){const l=n.tracks[s],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const f=t.tracks.find(function(M){return M.name===l.name&&M.ValueTypeName===u});if(f===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let v=0;const y=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const _=l.times.length-1;let w;if(a<=l.times[0]){const M=p,R=g-p;w=l.values.slice(M,R)}else if(a>=l.times[_]){const M=_*g+p,R=M+g-p;w=l.values.slice(M,R)}else{const M=l.createInterpolant(),R=p,T=g-p;M.evaluate(a),w=M.resultBuffer.slice(R,T)}u==="quaternion"&&new Ha().fromArray(w).normalize().conjugate().toArray(w);const S=f.times.length;for(let M=0;M<S;++M){const R=M*y+v;if(u==="quaternion")Ha.multiplyQuaternionsFlat(f.values,R,w,0,f.values,R);else{const T=y-v*2;for(let P=0;P<T;++P)f.values[R+P]-=w[P]}}}return t.blendMode=xD,t}class Ece{static convertArray(e,n){return Zh(e,n)}static isTypedArray(e){return d8(e)}static getKeyframeOrder(e){return X8(e)}static sortedArray(e,n,i){return z3(e,n,i)}static flattenJSON(e,n,i,r){FD(e,n,i,r)}static subclip(e,n,i,r,a=30){return Mce(e,n,i,r,a)}static makeClipAdditive(e,n=0,i=e,r=30){return wce(e,n,i,r)}}class kx{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=n[++i],e<r)break t}s=n.length;break n}if(!(e>=a)){const l=n[1];e<l&&(i=2,a=l);for(let u=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=a,a=n[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const l=i+s>>>1;e<n[l]?s=l:i=l+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)n[s]=i[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class q8 extends kx{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yh,endingEnd:Yh}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,s=e+1,l=r[a],u=r[s];if(l===void 0)switch(this.getSettings_().endingStart){case Kh:a=e,l=2*n-i;break;case Hy:a=r.length-2,l=n+r[a]-r[a+1];break;default:a=e,l=i}if(u===void 0)switch(this.getSettings_().endingEnd){case Kh:s=e,u=2*i-n;break;case Hy:s=1,u=i+r[1]-r[0];break;default:s=e-1,u=n}const f=(i-n)*.5,p=this.valueSize;this._weightPrev=f/(n-l),this._weightNext=f/(u-i),this._offsetPrev=a*p,this._offsetNext=s*p}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,p=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,y=this._weightNext,_=(i-n)/(r-n),w=_*_,S=w*_,M=-v*S+2*v*w-v*_,R=(1+v)*S+(-1.5-2*v)*w+(-.5+v)*_+1,T=(-1-y)*S+(1.5+y)*w+.5*_,P=y*S-y*w;for(let O=0;O!==l;++O)a[O]=M*s[p+O]+R*s[f+O]+T*s[u+O]+P*s[g+O];return a}}class BD extends kx{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,p=(i-n)/(r-n),g=1-p;for(let v=0;v!==l;++v)a[v]=s[f+v]*g+s[u+v]*p;return a}}class Y8 extends kx{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class hl{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Zh(n,this.TimeBufferType),this.values=Zh(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Zh(e.times,Array),values:Zh(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Y8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new BD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new q8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Gy:n=this.InterpolantFactoryMethodDiscrete;break;case RM:n=this.InterpolantFactoryMethodLinear;break;case H_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return Et("KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gy;case this.InterpolantFactoryMethodLinear:return RM;case this.InterpolantFactoryMethodSmooth:return H_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>n;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const l=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*l,s*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(Vt("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(Vt("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==a;l++){const u=i[l];if(typeof u=="number"&&isNaN(u)){Vt("KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(s!==null&&s>u){Vt("KeyframeTrack: Out of order keys.",this,l,u,s),e=!1;break}s=u}if(r!==void 0&&d8(r))for(let l=0,u=r.length;l!==u;++l){const f=r[l];if(isNaN(f)){Vt("KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===H_,a=e.length-1;let s=1;for(let l=1;l<a;++l){let u=!1;const f=e[l],p=e[l+1];if(f!==p&&(l!==1||f!==e[0]))if(r)u=!0;else{const g=l*i,v=g-i,y=g+i;for(let _=0;_!==i;++_){const w=n[g+_];if(w!==n[v+_]||w!==n[y+_]){u=!0;break}}}if(u){if(l!==s){e[s]=e[l];const g=l*i,v=s*i;for(let y=0;y!==i;++y)n[v+y]=n[g+y]}++s}}if(a>0){e[s]=e[a];for(let l=a*i,u=s*i,f=0;f!==i;++f)n[u+f]=n[l+f];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}hl.prototype.ValueTypeName="";hl.prototype.TimeBufferType=Float32Array;hl.prototype.ValueBufferType=Float32Array;hl.prototype.DefaultInterpolation=RM;class Pp extends hl{constructor(e,n,i){super(e,n,i)}}Pp.prototype.ValueTypeName="bool";Pp.prototype.ValueBufferType=Array;Pp.prototype.DefaultInterpolation=Gy;Pp.prototype.InterpolantFactoryMethodLinear=void 0;Pp.prototype.InterpolantFactoryMethodSmooth=void 0;class VD extends hl{constructor(e,n,i,r){super(e,n,i,r)}}VD.prototype.ValueTypeName="color";class Jy extends hl{constructor(e,n,i,r){super(e,n,i,r)}}Jy.prototype.ValueTypeName="number";class K8 extends kx{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=(i-n)/(r-n);let f=e*l;for(let p=f+l;f!==p;f+=4)Ha.slerpFlat(a,0,s,f-l,s,f,u);return a}}class zx extends hl{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new K8(this.times,this.values,this.getValueSize(),e)}}zx.prototype.ValueTypeName="quaternion";zx.prototype.InterpolantFactoryMethodSmooth=void 0;class Dp extends hl{constructor(e,n,i){super(e,n,i)}}Dp.prototype.ValueTypeName="string";Dp.prototype.ValueBufferType=Array;Dp.prototype.DefaultInterpolation=Gy;Dp.prototype.InterpolantFactoryMethodLinear=void 0;Dp.prototype.InterpolantFactoryMethodSmooth=void 0;class ex extends hl{constructor(e,n,i,r){super(e,n,i,r)}}ex.prototype.ValueTypeName="vector";class tx{constructor(e="",n=-1,i=[],r=Iw){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=xo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,l=i.length;s!==l;++s)n.push(Tce(i[s]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=i.length;a!==s;++a)n.push(hl.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,s=[];for(let l=0;l<a;l++){let u=[],f=[];u.push((l+a-1)%a,l,(l+1)%a),f.push(0,1,0);const p=X8(u);u=z3(u,1,p),f=z3(f,1,p),!r&&u[0]===0&&(u.push(a),f.push(f[0])),s.push(new Jy(".morphTargetInfluences["+n[l].name+"]",u,f).scale(1/i))}return new this(e,-1,s)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const f=e[l],p=f.name.match(a);if(p&&p.length>1){const g=p[1];let v=r[g];v||(r[g]=v=[]),v.push(f)}}const s=[];for(const l in r)s.push(this.CreateFromMorphTargetSequence(l,r[l],n,i));return s}static parseAnimation(e,n){if(Et("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Vt("AnimationClip: No animation in JSONLoader data."),null;const i=function(g,v,y,_,w){if(y.length!==0){const S=[],M=[];FD(y,S,M,_),S.length!==0&&w.push(new g(v,S,M))}},r=[],a=e.name||"default",s=e.fps||30,l=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const v=f[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let _;for(_=0;_<v.length;_++)if(v[_].morphTargets)for(let w=0;w<v[_].morphTargets.length;w++)y[v[_].morphTargets[w]]=-1;for(const w in y){const S=[],M=[];for(let R=0;R!==v[_].morphTargets.length;++R){const T=v[_];S.push(T.time),M.push(T.morphTarget===w?1:0)}r.push(new Jy(".morphTargetInfluence["+w+"]",S,M))}u=y.length*s}else{const y=".bones["+n[g].name+"]";i(ex,y+".position",v,"pos",r),i(zx,y+".quaternion",v,"rot",r),i(ex,y+".scale",v,"scl",r)}}return r.length===0?null:new this(a,u,r,l)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Ace(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Jy;case"vector":case"vector2":case"vector3":case"vector4":return ex;case"color":return VD;case"quaternion":return zx;case"bool":case"boolean":return Pp;case"string":return Dp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Tce(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Ace(t.type);if(t.times===void 0){const n=[],i=[];FD(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Gu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class jD{constructor(e,n,i){const r=this;let a=!1,s=0,l=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this._abortController=null,this.itemStart=function(p){l++,a===!1&&r.onStart!==void 0&&r.onStart(p,s,l),a=!0},this.itemEnd=function(p){s++,r.onProgress!==void 0&&r.onProgress(p,s,l),s===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return u?u(p):p},this.setURLModifier=function(p){return u=p,this},this.addHandler=function(p,g){return f.push(p,g),this},this.removeHandler=function(p){const g=f.indexOf(p);return g!==-1&&f.splice(g,2),this},this.getHandler=function(p){for(let g=0,v=f.length;g<v;g+=2){const y=f[g],_=f[g+1];if(y.global&&(y.lastIndex=0),y.test(p))return _}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Z8=new jD;class eo{constructor(e){this.manager=e!==void 0?e:Z8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}eo.DEFAULT_MATERIAL_NAME="__DEFAULT";const Fc={};class Cce extends Error{constructor(e,n){super(e),this.response=n}}class of extends eo{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Gu.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Fc[e]!==void 0){Fc[e].push({onLoad:n,onProgress:i,onError:r});return}Fc[e]=[],Fc[e].push({onLoad:n,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,u=this.responseType;fetch(s).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&Et("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=Fc[e],g=f.body.getReader(),v=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),y=v?parseInt(v):0,_=y!==0;let w=0;const S=new ReadableStream({start(M){R();function R(){g.read().then(({done:T,value:P})=>{if(T)M.close();else{w+=P.byteLength;const O=new ProgressEvent("progress",{lengthComputable:_,loaded:w,total:y});for(let N=0,k=p.length;N<k;N++){const z=p[N];z.onProgress&&z.onProgress(O)}M.enqueue(P),R()}},T=>{M.error(T)})}}});return new Response(S)}else throw new Cce(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return f.json();default:if(l==="")return f.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,y=new TextDecoder(v);return f.arrayBuffer().then(_=>y.decode(_))}}}).then(f=>{Gu.add(`file:${e}`,f);const p=Fc[e];delete Fc[e];for(let g=0,v=p.length;g<v;g++){const y=p[g];y.onLoad&&y.onLoad(f)}}).catch(f=>{const p=Fc[e];if(p===void 0)throw this.manager.itemError(e),f;delete Fc[e];for(let g=0,v=p.length;g<v;g++){const y=p[g];y.onError&&y.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Rce extends eo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new of(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){r?r(u):Vt(u),a.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=tx.parse(e[i]);n.push(r)}return n}}class Pce extends eo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=[],l=new Xw,u=new of(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let f=0;function p(g){u.load(e[g],function(v){const y=a.parse(v,!0);s[g]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},f+=1,f===6&&(y.mipmapCount===1&&(l.minFilter=Jn),l.image=s,l.format=y.format,l.needsUpdate=!0,n&&n(l))},i,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)p(g);else u.load(e,function(g){const v=a.parse(g,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let _=0;_<y;_++){s[_]={mipmaps:[]};for(let w=0;w<v.mipmapCount;w++)s[_].mipmaps.push(v.mipmaps[_*v.mipmapCount+w]),s[_].format=v.format,s[_].width=v.width,s[_].height=v.height}l.image=s}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=Jn),l.format=v.format,l.needsUpdate=!0,n&&n(l)},i,r);return l}}const Jm=new WeakMap;class nx extends eo{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Gu.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0);else{let g=Jm.get(s);g===void 0&&(g=[],Jm.set(s,g)),g.push({onLoad:n,onError:r})}return s}const l=qy("img");function u(){p(),n&&n(this);const g=Jm.get(this)||[];for(let v=0;v<g.length;v++){const y=g[v];y.onLoad&&y.onLoad(this)}Jm.delete(this),a.manager.itemEnd(e)}function f(g){p(),r&&r(g),Gu.remove(`image:${e}`);const v=Jm.get(this)||[];for(let y=0;y<v.length;y++){const _=v[y];_.onError&&_.onError(g)}Jm.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",u,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),Gu.add(`image:${e}`,l),a.manager.itemStart(e),l.src=e,l}}class Dce extends eo{constructor(e){super(e)}load(e,n,i,r){const a=new Ox;a.colorSpace=Fa;const s=new nx(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function u(f){s.load(e[f],function(p){a.images[f]=p,l++,l===6&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}for(let f=0;f<e.length;++f)u(f);return a}}class Oce extends eo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new Hl,l=new of(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(u){let f;try{f=a.parse(u)}catch(p){if(r!==void 0)r(p);else{p(p);return}}f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:Ks,s.wrapT=f.wrapT!==void 0?f.wrapT:Ks,s.magFilter=f.magFilter!==void 0?f.magFilter:Jn,s.minFilter=f.minFilter!==void 0?f.minFilter:Jn,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(s.colorSpace=f.colorSpace),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=ju),f.mipmapCount===1&&(s.minFilter=Jn),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,n&&n(s,f)},i,r),s}}class Nce extends eo{constructor(e){super(e)}load(e,n,i,r){const a=new Ki,s=new nx(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){a.image=l,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class zd extends Fn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new At(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class $8 extends zd{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Fn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new At(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const JT=new $t,Mk=new ne,wk=new ne;class GD{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rt(512,512),this.mapType=ds,this.map=null,this.mapPass=null,this.matrix=new $t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qg,this._frameExtents=new rt(1,1),this._viewportCount=1,this._viewports=[new Nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;Mk.setFromMatrixPosition(e.matrixWorld),n.position.copy(Mk),wk.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(wk),n.updateMatrixWorld(),JT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JT,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(JT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Lce extends GD{constructor(){super(new fr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=Ng*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Q8 extends zd{constructor(e,n,i=0,r=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Fn.DEFAULT_UP),this.updateMatrix(),this.target=new Fn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new Lce}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class Ice extends GD{constructor(){super(new fr(90,1,.5,500)),this.isPointLightShadow=!0}}class J8 extends zd{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Ice}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class Zc extends Bw{constructor(e=-1,n=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,l=r+n,u=r-n;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,l-=p*this.view.offsetY,u=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,u,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Uce extends GD{constructor(){super(new Zc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ej extends zd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Fn.DEFAULT_UP),this.updateMatrix(),this.target=new Fn,this.shadow=new Uce}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class tj extends zd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class nj extends zd{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class HD{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ne)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*r),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*i),n.addScaledVector(s[4],1.092548*(i*r)),n.addScaledVector(s[5],1.092548*(r*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(i*a)),n.addScaledVector(s[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*r),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*i),n.addScaledVector(s[4],2*.429043*i*r),n.addScaledVector(s[5],2*.429043*r*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*i*a),n.addScaledVector(s[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*i*a,n[8]=.546274*(i*i-r*r)}}class ij extends zd{constructor(e=new HD,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class uE extends eo{constructor(e){super(e),this.textures={}}load(e,n,i,r){const a=this,s=new of(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){r?r(u):Vt(u),a.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(a){return n[a]===void 0&&Et("MaterialLoader: Undefined texture",a),n[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new At().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(r.allowOverride=e.allowOverride),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new At().setHex(s.value);break;case"v2":r.uniforms[a].value=new rt().fromArray(s.value);break;case"v3":r.uniforms[a].value=new ne().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Nn().fromArray(s.value);break;case"m3":r.uniforms[a].value=new an().fromArray(s.value);break;case"m4":r.uniforms[a].value=new $t().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new rt().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new rt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return uE.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:z8,SpriteMaterial:TD,RawShaderMaterial:kD,ShaderMaterial:Qs,PointsMaterial:RD,MeshPhysicalMaterial:F8,MeshStandardMaterial:zD,MeshPhongMaterial:B8,MeshToonMaterial:V8,MeshNormalMaterial:j8,MeshLambertMaterial:G8,MeshDepthMaterial:oE,MeshDistanceMaterial:lE,MeshBasicMaterial:pf,MeshMatcapMaterial:H8,LineDashedMaterial:W8,LineBasicMaterial:xs,Material:qa};return new n[e]}}class F3{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class cE extends sn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class rj extends eo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new of(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){r?r(u):Vt(u),a.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(y,_){if(n[_]!==void 0)return n[_];const S=y.interleavedBuffers[_],M=a(y,S.buffer),R=gg(S.type,M),T=new Gw(R,S.stride);return T.uuid=S.uuid,n[_]=T,T}function a(y,_){if(i[_]!==void 0)return i[_];const S=y.arrayBuffers[_],M=new Uint32Array(S).buffer;return i[_]=M,M}const s=e.isInstancedBufferGeometry?new cE:new sn,l=e.data.index;if(l!==void 0){const y=gg(l.type,l.array);s.setIndex(new oi(y,1))}const u=e.data.attributes;for(const y in u){const _=u[y];let w;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);w=new vo(S,_.itemSize,_.offset,_.normalized)}else{const S=gg(_.type,_.array),M=_.isInstancedBufferAttribute?vp:oi;w=new M(S,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),_.usage!==void 0&&w.setUsage(_.usage),s.setAttribute(y,w)}const f=e.data.morphAttributes;if(f)for(const y in f){const _=f[y],w=[];for(let S=0,M=_.length;S<M;S++){const R=_[S];let T;if(R.isInterleavedBufferAttribute){const P=r(e.data,R.data);T=new vo(P,R.itemSize,R.offset,R.normalized)}else{const P=gg(R.type,R.array);T=new oi(P,R.itemSize,R.normalized)}R.name!==void 0&&(T.name=R.name),w.push(T)}s.morphAttributes[y]=w}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let y=0,_=g.length;y!==_;++y){const w=g[y];s.addGroup(w.start,w.count,w.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(s.boundingSphere=new Tr().fromJSON(v)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class kce extends eo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=this.path===""?F3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new of(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(g){r!==void 0&&r(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),Vt("ObjectLoader: Can't load "+e);return}a.parse(f,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?F3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new of(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n),l=JSON.parse(s),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){n!==void 0&&n(f)}),l=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,a,u,l,i),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),this.bindLightTargets(f),n!==void 0){let g=!1;for(const v in s)if(s[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&n(f)}return f}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,r,l,s,n),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),this.bindLightTargets(u),u}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new ip().fromJSON(e[i]);n[a.uuid]=a}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=new Hw().fromJSON(e[a],r);i[l.uuid]=l}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new rj;for(let a=0,s=e.length;a<s;a++){let l;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(u);break;default:u.type in Sk?l=Sk[u.type].fromJSON(u,n):Et(`ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const a=new uE;a.setTextures(n);for(let s=0,l=e.length;s<l;s++){const u=e[s];i[u.uuid]===void 0&&(i[u.uuid]=a.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=tx.parse(r);n[a.uuid]=a}return n}parseImages(e,n){const i=this,r={};let a;function s(u){return i.manager.itemStart(u),a.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const f=u,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return s(p)}else return u.data?{data:gg(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new jD(n);a=new nx(u),a.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const g=e[f],v=g.url;if(Array.isArray(v)){const y=[];for(let _=0,w=v.length;_<w;_++){const S=v[_],M=l(S);M!==null&&(M instanceof HTMLImageElement?y.push(M):y.push(new Hl(M.data,M.width,M.height)))}r[g.uuid]=new vd(y)}else{const y=l(g.url);r[g.uuid]=new vd(y)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function a(s){if(typeof s=="string"){const l=s,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await r.loadAsync(u)}else return s.data?{data:gg(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new nx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const u=e[s],f=u.url;if(Array.isArray(f)){const p=[];for(let g=0,v=f.length;g<v;g++){const y=f[g],_=await a(y);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new Hl(_.data,_.width,_.height)))}i[u.uuid]=new vd(p)}else{const p=await a(u.url);i[u.uuid]=new vd(p)}}}return i}parseTextures(e,n){function i(a,s){return typeof a=="number"?a:(Et("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=e[a];l.image===void 0&&Et('ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&Et("ObjectLoader: Undefined image",l.image);const u=n[l.image],f=u.data;let p;Array.isArray(f)?(p=new Ox,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new Hl:p=new Ki,f&&(p.needsUpdate=!0)),p.source=u,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=i(l.mapping,zce)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=i(l.wrap[0],Ek),p.wrapT=i(l.wrap[1],Ek)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=i(l.minFilter,Ak)),l.magFilter!==void 0&&(p.magFilter=i(l.magFilter,Ak)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,n,i,r,a){let s;function l(v){return n[v]===void 0&&Et("ObjectLoader: Undefined geometry",v),n[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let _=0,w=v.length;_<w;_++){const S=v[_];i[S]===void 0&&Et("ObjectLoader: Undefined material",S),y.push(i[S])}return y}return i[v]===void 0&&Et("ObjectLoader: Undefined material",v),i[v]}}function f(v){return r[v]===void 0&&Et("ObjectLoader: Undefined texture",v),r[v]}let p,g;switch(e.type){case"Scene":s=new AD,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new At(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new jw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Vw(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new fr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Zc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new tj(e.color,e.intensity);break;case"DirectionalLight":s=new ej(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new J8(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new nj(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Q8(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new $8(e.color,e.groundColor,e.intensity);break;case"LightProbe":const v=new HD().fromArray(e.sh);s=new ij(v,e.intensity);break;case"SkinnedMesh":p=l(e.geometry),g=u(e.material),s=new _8(p,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=u(e.material),s=new ki(p,g);break;case"InstancedMesh":p=l(e.geometry),g=u(e.material);const y=e.count,_=e.instanceMatrix,w=e.instanceColor;s=new S8(p,g,y),s.instanceMatrix=new vp(new Float32Array(_.array),16),w!==void 0&&(s.instanceColor=new vp(new Float32Array(w.array),w.itemSize));break;case"BatchedMesh":p=l(e.geometry),g=u(e.material),s=new M8(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=p,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(S=>{let M=null,R=null;return S.boundingBox!==void 0&&(M=new hr().fromJSON(S.boundingBox)),S.boundingSphere!==void 0&&(R=new Tr().fromJSON(S.boundingSphere)),{...S,boundingBox:M,boundingSphere:R}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=f(e.matricesTexture.uuid),s._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new Tr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new hr().fromJSON(e.boundingBox));break;case"LOD":s=new b8;break;case"Line":s=new Cd(l(e.geometry),u(e.material));break;case"LineLoop":s=new w8(l(e.geometry),u(e.material));break;case"LineSegments":s=new ec(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":s=new E8(l(e.geometry),u(e.material));break;case"Sprite":s=new x8(u(e.material));break;case"Group":s=new vg;break;case"Bone":s=new CD;break;default:s=new Fn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)s.add(this.parseObject(v[y],n,i,r,a))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const _=v[y];s.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const _=v[y],w=s.getObjectByProperty("uuid",_.object);w!==void 0&&s.addLevel(w,_.distance,_.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?Et("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new Fn}})}}const zce={UVMapping:Cw,CubeReflectionMapping:Ku,CubeRefractionMapping:Ed,EquirectangularReflectionMapping:Fy,EquirectangularRefractionMapping:By,CubeUVReflectionMapping:$g},Ek={RepeatWrapping:Vy,ClampToEdgeWrapping:Ks,MirroredRepeatWrapping:jy},Ak={NearestFilter:dr,NearestMipmapNearestFilter:dD,NearestMipmapLinearFilter:mg,LinearFilter:Jn,LinearMipmapNearestFilter:iy,LinearMipmapLinearFilter:ju},eC=new WeakMap;class Fce extends eo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Et("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Et("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Gu.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(f=>{if(eC.has(s)===!0)r&&r(eC.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(f),a.manager.itemEnd(e),f});return}return setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const u=fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return Gu.add(`image-bitmap:${e}`,f),n&&n(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),eC.set(u,f),Gu.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Gu.add(`image-bitmap:${e}`,u),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let g_;class WD{static getContext(){return g_===void 0&&(g_=new(window.AudioContext||window.webkitAudioContext)),g_}static setContext(e){g_=e}}class Bce extends eo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new of(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){try{const f=u.slice(0);WD.getContext().decodeAudioData(f,function(g){n(g)}).catch(l)}catch(f){l(f)}},i,r);function l(u){r?r(u):Vt(u),a.manager.itemError(e)}}}const Tk=new $t,Ck=new $t,Th=new $t;class Vce{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Th.copy(e.projectionMatrix);const r=n.eyeSep/2,a=r*n.near/n.focus,s=n.near*Math.tan(np*n.fov*.5)/n.zoom;let l,u;Ck.elements[12]=-r,Tk.elements[12]=r,l=-s*n.aspect+a,u=s*n.aspect+a,Th.elements[0]=2*n.near/(u-l),Th.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Th),l=-s*n.aspect-a,u=s*n.aspect-a,Th.elements[0]=2*n.near/(u-l),Th.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Th)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ck),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Tk)}}class aj extends fr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class XD{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Ch=new ne,tC=new Ha,jce=new ne,Rh=new ne,Ph=new ne;class Gce extends Fn{constructor(){super(),this.type="AudioListener",this.context=WD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new XD}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ch,tC,jce),Rh.set(0,0,-1).applyQuaternion(tC),Ph.set(0,1,0).applyQuaternion(tC),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ch.x,i),n.positionY.linearRampToValueAtTime(Ch.y,i),n.positionZ.linearRampToValueAtTime(Ch.z,i),n.forwardX.linearRampToValueAtTime(Rh.x,i),n.forwardY.linearRampToValueAtTime(Rh.y,i),n.forwardZ.linearRampToValueAtTime(Rh.z,i),n.upX.linearRampToValueAtTime(Ph.x,i),n.upY.linearRampToValueAtTime(Ph.y,i),n.upZ.linearRampToValueAtTime(Ph.z,i)}else n.setPosition(Ch.x,Ch.y,Ch.z),n.setOrientation(Rh.x,Rh.y,Rh.z,Ph.x,Ph.y,Ph.z)}}class sj extends Fn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Et("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Et("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Et("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Et("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Et("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Et("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Et("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(Et("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Dh=new ne,Rk=new Ha,Hce=new ne,Oh=new ne;class Wce extends sj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Dh,Rk,Hce),Oh.set(0,0,1).applyQuaternion(Rk);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Dh.x,i),n.positionY.linearRampToValueAtTime(Dh.y,i),n.positionZ.linearRampToValueAtTime(Dh.z,i),n.orientationX.linearRampToValueAtTime(Oh.x,i),n.orientationY.linearRampToValueAtTime(Oh.y,i),n.orientationZ.linearRampToValueAtTime(Oh.z,i)}else n.setPosition(Dh.x,Dh.y,Dh.z),n.setOrientation(Oh.x,Oh.y,Oh.z)}}class Xce{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class oj{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,a,s;switch(n){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==r;++l)i[a+l]=i[l];s=n}else{s+=n;const l=n/s;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=n*this._origIndex;this._mixBufferRegion(i,r,u,1-a,n)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let u=n,f=n+n;u!==f;++u)if(i[u]!==i[u+n]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let a=i,s=r;a!==s;++a)n[a]=n[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[n+s]=e[i+s]}_slerp(e,n,i,r){Ha.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,a){const s=this._workIndex*a;Ha.multiplyQuaternionsFlat(e,s,e,n,e,i),Ha.slerpFlat(e,n,e,n,e,s,r)}_lerp(e,n,i,r,a){const s=1-r;for(let l=0;l!==a;++l){const u=n+l;e[u]=e[u]*s+e[i+l]*r}}_lerpAdditive(e,n,i,r,a){for(let s=0;s!==a;++s){const l=n+s;e[l]=e[l]+e[i+s]*r}}}const qD="\\[\\]\\.:\\/",qce=new RegExp("["+qD+"]","g"),YD="[^"+qD+"]",Yce="[^"+qD.replace("\\.","")+"]",Kce=/((?:WC+[\/:])*)/.source.replace("WC",YD),Zce=/(WCOD+)?/.source.replace("WCOD",Yce),$ce=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",YD),Qce=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",YD),Jce=new RegExp("^"+Kce+Zce+$ce+Qce+"$"),efe=["material","materials","bones","map"];class tfe{constructor(e,n,i){const r=i||kn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class kn{constructor(e,n,i){this.path=n,this.parsedPath=i||kn.parseTrackName(n),this.node=kn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new kn.Composite(e,n,i):new kn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(qce,"")}static parseTrackName(e){const n=Jce.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);efe.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const l=a[s];if(l.name===n||l.uuid===n)return l;const u=i(l.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=kn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Et("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=n.objectIndex;switch(i){case"materials":if(!e.material){Vt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Vt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Vt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Vt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Vt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Vt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){Vt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[r];if(s===void 0){const f=n.nodeName;Vt("PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){Vt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Vt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}kn.Composite=tfe;kn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};kn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};kn.prototype.GetterByBindingType=[kn.prototype._getValue_direct,kn.prototype._getValue_array,kn.prototype._getValue_arrayElement,kn.prototype._getValue_toArray];kn.prototype.SetterByBindingTypeAndVersioning=[[kn.prototype._setValue_direct,kn.prototype._setValue_direct_setNeedsUpdate,kn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_array,kn.prototype._setValue_array_setNeedsUpdate,kn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_arrayElement,kn.prototype._setValue_arrayElement_setNeedsUpdate,kn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_fromArray,kn.prototype._setValue_fromArray_setNeedsUpdate,kn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class nfe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let l,u=e.length,f=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const v=arguments[p],y=v.uuid;let _=n[y];if(_===void 0){_=u++,n[y]=_,e.push(v);for(let w=0,S=s;w!==S;++w)a[w].push(new kn(v,i[w],r[w]))}else if(_<f){l=e[_];const w=--f,S=e[w];n[S.uuid]=_,e[_]=S,n[y]=w,e[w]=v;for(let M=0,R=s;M!==R;++M){const T=a[M],P=T[w];let O=T[_];T[_]=P,O===void 0&&(O=new kn(v,i[M],r[M])),T[w]=O}}else e[_]!==l&&Vt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],f=u.uuid,p=n[f];if(p!==void 0&&p>=a){const g=a++,v=e[g];n[v.uuid]=p,e[p]=v,n[f]=g,e[g]=u;for(let y=0,_=r;y!==_;++y){const w=i[y],S=w[g],M=w[p];w[p]=S,w[g]=M}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let l=0,u=arguments.length;l!==u;++l){const f=arguments[l],p=f.uuid,g=n[p];if(g!==void 0)if(delete n[p],g<a){const v=--a,y=e[v],_=--s,w=e[_];n[y.uuid]=g,e[g]=y,n[w.uuid]=v,e[v]=w,e.pop();for(let S=0,M=r;S!==M;++S){const R=i[S],T=R[v],P=R[_];R[g]=T,R[v]=P,R.pop()}}else{const v=--s,y=e[v];v>0&&(n[y.uuid]=g),e[g]=y,e.pop();for(let _=0,w=r;_!==w;++_){const S=i[_];S[g]=S[v],S.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,l=this._parsedPaths,u=this._objects,f=u.length,p=this.nCachedObjects_,g=new Array(f);r=a.length,i[e]=r,s.push(e),l.push(n),a.push(g);for(let v=p,y=u.length;v!==y;++v){const _=u[v];g[v]=new kn(_,e,n)}return g}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length-1,u=s[l],f=e[l];n[f]=i,s[i]=u,s.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class lj{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const a=n.tracks,s=a.length,l=new Array(s),u={endingStart:Yh,endingEnd:Yh};for(let f=0;f!==s;++f){const p=a[f].createInterpolant(null);l[f]=p,p.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=e8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,l=r/a;e.warp(1,s,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,a=r.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,f=l.sampleValues;return u[0]=a,u[1]=a+i,f[0]=e/s,f[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*i;u<0||i===0?n=0:(this._startTime=null,n=i*u)}n*=this._updateTimeScale(e);const s=this._updateTime(n),l=this._updateWeight(e);if(l>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case xD:for(let p=0,g=u.length;p!==g;++p)u[p].evaluate(s),f[p].accumulateAdditive(l);break;case Iw:default:for(let p=0,g=u.length;p!==g;++p)u[p].evaluate(s),f[p].accumulate(r,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===t8;if(e===0)return a===-1?r:s&&(a&1)===1?n-r:r;if(i===JV){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){const l=Math.floor(r/n);r-=n*l,a+=Math.abs(l);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(s&&(a&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Kh,r.endingEnd=Kh):(e?r.endingStart=this.zeroSlopeAtStart?Kh:Yh:r.endingStart=Hy,n?r.endingEnd=this.zeroSlopeAtEnd?Kh:Yh:r.endingEnd=Hy)}_scheduleFading(e,n,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,u[0]=n,l[1]=a+e,u[1]=i,this}}const ife=new Float32Array(1);class rfe extends Ju{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,l=e._interpolants,u=i.uuid,f=this._bindingsByRootAndName;let p=f[u];p===void 0&&(p={},f[u]=p);for(let g=0;g!==a;++g){const v=r[g],y=v.name;let _=p[y];if(_!==void 0)++_.referenceCount,s[g]=_;else{if(_=s[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,u,y));continue}const w=n&&n._propertyBindings[g].binding.parsedPath;_=new oj(kn.create(i,y,w),v.ValueTypeName,v.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,u,y),s[g]=_}l[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,l=s[a],u=l.knownActions,f=u[u.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,u[p]=f,u.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],u.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[n];s===void 0&&(s={},r[n]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,l=s[r],u=n[n.length-1],f=e._cacheIndex;u._cacheIndex=f,n[f]=u,n.pop(),delete l[a],Object.keys(l).length===0&&delete s[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new BD(new Float32Array(2),new Float32Array(2),1,ife),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=i,n[i]=a}clipAction(e,n,i){const r=n||this._root,a=r.uuid;let s=typeof e=="string"?tx.findByName(r,e):e;const l=s!==null?s.uuid:e,u=this._actionsByClip[l];let f=null;if(i===void 0&&(s!==null?i=s.blendMode:i=Iw),u!==void 0){const g=u.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;f=u.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const p=new lj(this,s,n,i);return this._bindAction(p,f),this._addInactiveAction(p,l,a),p}existingAction(e,n){const i=n||this._root,r=i.uuid,a=typeof e=="string"?tx.findByName(i,e):e,s=a?a.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==i;++f)n[f]._update(r,e,a,s);const l=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)l[f].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let l=0,u=s.length;l!==u;++l){const f=s[l];this._deactivateAction(f);const p=f._cacheIndex,g=n[n.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=p,n[p]=g,n.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const s in i){const l=i[s].actionByRoot,u=l[n];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,a=r[n];if(a!==void 0)for(const s in a){const l=a[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class afe extends SD{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new Fw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class KD{constructor(e){this.value=e}clone(){return new KD(this.value.clone===void 0?this.value:this.value.clone())}}let sfe=0;class ofe extends Ju{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:sfe++}),this.name="",this.usage=Xy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const a=Array.isArray(n[i])?n[i]:[n[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class LM extends Gw{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class lfe{constructor(e,n,i,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Pk=new $t;class uj{constructor(e,n,i=0,r=1/0){this.ray=new Cp(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Lg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):Vt("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return Pk.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Pk),this}intersectObject(e,n=!0,i=[]){return B3(e,this,i,n),i.sort(Dk),i}intersectObjects(e,n=!0,i=[]){for(let r=0,a=e.length;r<a;r++)B3(e[r],this,i,n);return i.sort(Dk),i}}function Dk(t,e){return t.distance-e.distance}function B3(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const a=t.children;for(let s=0,l=a.length;s<l;s++)B3(a[s],e,n,!0)}}class ufe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=cfe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function cfe(){this._document.hidden===!1&&this.reset()}class IM{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Qt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ffe{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class ZD{constructor(e,n,i,r){ZD.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const a=this.elements;return a[0]=e,a[2]=n,a[1]=i,a[3]=r,this}}const Ok=new rt;class dfe{constructor(e=new rt(1/0,1/0),n=new rt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Ok.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ok).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Nk=new ne,v_=new ne,eg=new ne,tg=new ne,nC=new ne,hfe=new ne,pfe=new ne;class cj{constructor(e=new ne,n=new ne){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Nk.subVectors(e,this.start),v_.subVectors(this.end,this.start);const i=v_.dot(v_);let a=v_.dot(Nk)/i;return n&&(a=Qt(a,0,1)),a}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,n=hfe,i=pfe){const r=10000000000000001e-32;let a,s;const l=this.start,u=e.start,f=this.end,p=e.end;eg.subVectors(f,l),tg.subVectors(p,u),nC.subVectors(l,u);const g=eg.dot(eg),v=tg.dot(tg),y=tg.dot(nC);if(g<=r&&v<=r)return n.copy(l),i.copy(u),n.sub(i),n.dot(n);if(g<=r)a=0,s=y/v,s=Qt(s,0,1);else{const _=eg.dot(nC);if(v<=r)s=0,a=Qt(-_/g,0,1);else{const w=eg.dot(tg),S=g*v-w*w;S!==0?a=Qt((w*y-_*v)/S,0,1):a=0,s=(w*a+y)/v,s<0?(s=0,a=Qt(-_/g,0,1)):s>1&&(s=1,a=Qt((w-_)/g,0,1))}}return n.copy(l).add(eg.multiplyScalar(a)),i.copy(u).add(tg.multiplyScalar(s)),n.sub(i),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Lk=new ne;class mfe extends Fn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new sn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,u=32;s<u;s++,l++){const f=s/u*Math.PI*2,p=l/u*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new Ot(r,3));const a=new xs({fog:!1,toneMapped:!1});this.cone=new ec(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Lk.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Lk),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const od=new ne,y_=new $t,iC=new $t;class gfe extends ec{constructor(e){const n=fj(e),i=new sn,r=[],a=[];for(let f=0;f<n.length;f++){const p=n[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Ot(r,3)),i.setAttribute("color",new Ot(a,3));const s=new xs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const l=new At(255),u=new At(65280);this.setColors(l,u)}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");iC.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const l=n[a];l.parent&&l.parent.isBone&&(y_.multiplyMatrices(iC,l.matrixWorld),od.setFromMatrixPosition(y_),r.setXYZ(s,od.x,od.y,od.z),y_.multiplyMatrices(iC,l.parent.matrixWorld),od.setFromMatrixPosition(y_),r.setXYZ(s+1,od.x,od.y,od.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,n.r,n.g,n.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function fj(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...fj(t.children[n]));return e}class vfe extends ki{constructor(e,n,i){const r=new Ux(n,4,2),a=new pf({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const yfe=new ne,Ik=new At,Uk=new At;class xfe extends Fn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Ix(n);r.rotateY(Math.PI*.5),this.material=new pf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new oi(s,3)),this.add(new ki(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Ik.copy(this.light.color),Uk.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const a=i<r/2?Ik:Uk;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(yfe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class bfe extends ec{constructor(e=10,n=10,i=4473924,r=8947848){i=new At(i),r=new At(r);const a=n/2,s=e/n,l=e/2,u=[],f=[];for(let v=0,y=0,_=-l;v<=n;v++,_+=s){u.push(-l,0,_,l,0,_),u.push(_,0,-l,_,0,l);const w=v===a?i:r;w.toArray(f,y),y+=3,w.toArray(f,y),y+=3,w.toArray(f,y),y+=3,w.toArray(f,y),y+=3}const p=new sn;p.setAttribute("position",new Ot(u,3)),p.setAttribute("color",new Ot(f,3));const g=new xs({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class _fe extends ec{constructor(e=10,n=16,i=8,r=64,a=4473924,s=8947848){a=new At(a),s=new At(s);const l=[],u=[];if(n>1)for(let g=0;g<n;g++){const v=g/n*(Math.PI*2),y=Math.sin(v)*e,_=Math.cos(v)*e;l.push(0,0,0),l.push(y,0,_);const w=g&1?a:s;u.push(w.r,w.g,w.b),u.push(w.r,w.g,w.b)}for(let g=0;g<i;g++){const v=g&1?a:s,y=e-e/i*g;for(let _=0;_<r;_++){let w=_/r*(Math.PI*2),S=Math.sin(w)*y,M=Math.cos(w)*y;l.push(S,0,M),u.push(v.r,v.g,v.b),w=(_+1)/r*(Math.PI*2),S=Math.sin(w)*y,M=Math.cos(w)*y,l.push(S,0,M),u.push(v.r,v.g,v.b)}}const f=new sn;f.setAttribute("position",new Ot(l,3)),f.setAttribute("color",new Ot(u,3));const p=new xs({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const kk=new ne,x_=new ne,zk=new ne;class Sfe extends Fn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new sn;r.setAttribute("position",new Ot([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new xs({fog:!1,toneMapped:!1});this.lightPlane=new Cd(r,a),this.add(this.lightPlane),r=new sn,r.setAttribute("position",new Ot([0,0,0,0,0,1],3)),this.targetLine=new Cd(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),kk.setFromMatrixPosition(this.light.matrixWorld),x_.setFromMatrixPosition(this.light.target.matrixWorld),zk.subVectors(x_,kk),this.lightPlane.lookAt(x_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(x_),this.targetLine.scale.z=zk.length()}}const b_=new ne,nr=new Bw;class Mfe extends ec{constructor(e){const n=new sn,i=new xs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(_,w){u(_),u(w)}function u(_){r.push(0,0,0),a.push(0,0,0),s[_]===void 0&&(s[_]=[]),s[_].push(r.length/3-1)}n.setAttribute("position",new Ot(r,3)),n.setAttribute("color",new Ot(a,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const f=new At(16755200),p=new At(16711680),g=new At(43775),v=new At(16777215),y=new At(3355443);this.setColors(f,p,g,v,y)}setColors(e,n,i,r,a){const l=this.geometry.getAttribute("color");return l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;let a,s;if(nr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===go)a=-1,s=1;else if(this.camera.coordinateSystem===Dg)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);cr("c",n,e,nr,0,0,a),cr("t",n,e,nr,0,0,s),cr("n1",n,e,nr,-i,-r,a),cr("n2",n,e,nr,i,-r,a),cr("n3",n,e,nr,-i,r,a),cr("n4",n,e,nr,i,r,a),cr("f1",n,e,nr,-i,-r,s),cr("f2",n,e,nr,i,-r,s),cr("f3",n,e,nr,-i,r,s),cr("f4",n,e,nr,i,r,s),cr("u1",n,e,nr,i*.7,r*1.1,a),cr("u2",n,e,nr,-i*.7,r*1.1,a),cr("u3",n,e,nr,0,r*2,a),cr("cf1",n,e,nr,-i,0,s),cr("cf2",n,e,nr,i,0,s),cr("cf3",n,e,nr,0,-r,s),cr("cf4",n,e,nr,0,r,s),cr("cn1",n,e,nr,-i,0,a),cr("cn2",n,e,nr,i,0,a),cr("cn3",n,e,nr,0,-r,a),cr("cn4",n,e,nr,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function cr(t,e,n,i,r,a,s){b_.set(r,a,s).unproject(i);const l=e[t];if(l!==void 0){const u=n.getAttribute("position");for(let f=0,p=l.length;f<p;f++)u.setXYZ(l[f],b_.x,b_.y,b_.z)}}const __=new hr;class wfe extends ec{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new sn;a.setIndex(new oi(i,1)),a.setAttribute("position",new oi(r,3)),super(a,new xs({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&__.setFromObject(this.object),__.isEmpty())return;const e=__.min,n=__.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Efe extends ec{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new sn;a.setIndex(new oi(i,1)),a.setAttribute("position",new Ot(r,3)),super(a,new xs({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Afe extends Cd{constructor(e,n=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new sn;s.setAttribute("position",new Ot(a,3)),s.computeBoundingSphere(),super(s,new xs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new sn;u.setAttribute("position",new Ot(l,3)),u.computeBoundingSphere(),this.add(new ki(u,new pf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Fk=new ne;let S_,rC;class Tfe extends Fn{constructor(e=new ne(0,0,1),n=new ne(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",S_===void 0&&(S_=new sn,S_.setAttribute("position",new Ot([0,0,0,0,1,0],3)),rC=new Lx(.5,1,5,1),rC.translate(0,-.5,0)),this.position.copy(n),this.line=new Cd(S_,new xs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ki(rC,new pf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Fk.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Fk,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Cfe extends ec{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new sn;r.setAttribute("position",new Ot(n,3)),r.setAttribute("color",new Ot(i,3));const a=new xs({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new At,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Rfe{constructor(){this.type="ShapePath",this.color=new At,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new NM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,a,s){return this.currentPath.bezierCurveTo(e,n,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(M){const R=[];for(let T=0,P=M.length;T<P;T++){const O=M[T],N=new ip;N.curves=O.curves,R.push(N)}return R}function i(M,R){const T=R.length;let P=!1;for(let O=T-1,N=0;N<T;O=N++){let k=R[O],z=R[N],I=z.x-k.x,U=z.y-k.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(k=R[N],I=-I,z=R[O],U=-U),M.y<k.y||M.y>z.y)continue;if(M.y===k.y){if(M.x===k.x)return!0}else{const W=U*(M.x-k.x)-I*(M.y-k.y);if(W===0)return!0;if(W<0)continue;P=!P}}else{if(M.y!==k.y)continue;if(z.x<=M.x&&M.x<=k.x||k.x<=M.x&&M.x<=z.x)return!0}}return P}const r=jl.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,l,u;const f=[];if(a.length===1)return l=a[0],u=new ip,u.curves=l.curves,f.push(u),f;let p=!r(a[0].getPoints());p=e?!p:p;const g=[],v=[];let y=[],_=0,w;v[_]=void 0,y[_]=[];for(let M=0,R=a.length;M<R;M++)l=a[M],w=l.getPoints(),s=r(w),s=e?!s:s,s?(!p&&v[_]&&_++,v[_]={s:new ip,p:w},v[_].s.curves=l.curves,p&&_++,y[_]=[]):y[_].push({h:l,p:w[0]});if(!v[0])return n(a);if(v.length>1){let M=!1,R=0;for(let T=0,P=v.length;T<P;T++)g[T]=[];for(let T=0,P=v.length;T<P;T++){const O=y[T];for(let N=0;N<O.length;N++){const k=O[N];let z=!0;for(let I=0;I<v.length;I++)i(k.p,v[I].p)&&(T!==I&&R++,z?(z=!1,g[I].push(k)):M=!0);z&&g[T].push(k)}}R>0&&M===!1&&(y=g)}let S;for(let M=0,R=v.length;M<R;M++){u=v[M].s,f.push(u),S=y[M];for(let T=0,P=S.length;T<P;T++)u.holes.push(S[T].h)}return f}}class Pfe extends Ju{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Et("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Dfe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Ofe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Nfe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function V3(t,e,n,i){const r=Lfe(i);switch(n){case vD:return t*e;case Ow:return t*e/r.components*r.byteLength;case Dx:return t*e/r.components*r.byteLength;case gp:return t*e*2/r.components*r.byteLength;case Nw:return t*e*2/r.components*r.byteLength;case yD:return t*e*3/r.components*r.byteLength;case Ga:return t*e*4/r.components*r.byteLength;case Lw:return t*e*4/r.components*r.byteLength;case ry:case ay:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case sy:case oy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case QS:case eM:return Math.max(t,16)*Math.max(e,8)/4;case $S:case JS:return Math.max(t,8)*Math.max(e,8)/2;case tM:case nM:case rM:case aM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case iM:case sM:case oM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case lM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case uM:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case cM:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case fM:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case dM:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case hM:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case pM:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case mM:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case gM:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case vM:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case yM:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case xM:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case bM:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case _M:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case SM:case MM:case wM:return Math.ceil(t/4)*Math.ceil(e/4)*16;case EM:case AM:return Math.ceil(t/4)*Math.ceil(e/4)*8;case TM:case CM:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Lfe(t){switch(t){case ds:case hD:return{byteLength:1,components:1};case Rg:case pD:case ql:return{byteLength:2,components:1};case Pw:case Dw:return{byteLength:2,components:4};case fl:case Rw:case ja:return{byteLength:4,components:1};case mD:case gD:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Ife{static contain(e,n){return Dfe(e,n)}static cover(e,n){return Ofe(e,n)}static fill(e){return Nfe(e)}static getByteLength(e,n,i,r){return V3(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Zg}}));typeof window<"u"&&(window.__THREE__?Et("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Zg);function dj(){let t=null,e=!1,n=null,i=null;function r(a,s){n(a,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function Ufe(t){const e=new WeakMap;function n(l,u){const f=l.array,p=l.usage,g=f.byteLength,v=t.createBuffer();t.bindBuffer(u,v),t.bufferData(u,f,p),l.onUploadCallback();let y;if(f instanceof Float32Array)y=t.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)y=t.HALF_FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?y=t.HALF_FLOAT:y=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)y=t.SHORT;else if(f instanceof Uint32Array)y=t.UNSIGNED_INT;else if(f instanceof Int32Array)y=t.INT;else if(f instanceof Int8Array)y=t.BYTE;else if(f instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:v,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,u,f){const p=u.array,g=u.updateRanges;if(t.bindBuffer(f,l),g.length===0)t.bufferSubData(f,0,p);else{g.sort((y,_)=>y.start-_.start);let v=0;for(let y=1;y<g.length;y++){const _=g[v],w=g[y];w.start<=_.start+_.count+1?_.count=Math.max(_.count,w.start+w.count-_.start):(++v,g[v]=w)}g.length=v+1;for(let y=0,_=g.length;y<_;y++){const w=g[y];t.bufferSubData(f,w.start*p.BYTES_PER_ELEMENT,p,w.start,w.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(t.deleteBuffer(u.buffer),e.delete(l))}function s(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,n(l,u));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,l,u),f.version=l.version}}return{get:r,remove:a,update:s}}var kfe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,zfe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ffe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Bfe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Vfe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,jfe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Gfe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Hfe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Wfe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Xfe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,qfe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Yfe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Kfe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Zfe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,$fe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Qfe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Jfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ede=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,tde=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,nde=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ide=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,rde=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,ade=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,sde=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ode=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,lde=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ude=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,cde=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,fde=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,dde=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,hde="gl_FragColor = linearToOutputTexel( gl_FragColor );",pde=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,mde=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,gde=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,vde=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,yde=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,xde=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,bde=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,_de=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Sde=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Mde=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,wde=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Ede=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ade=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Tde=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Cde=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Rde=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Pde=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Dde=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Ode=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Nde=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Lde=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Ide=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Ude=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,kde=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,zde=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Fde=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Bde=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Vde=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jde=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Gde=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Hde=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Wde=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Xde=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qde=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Yde=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Kde=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Zde=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,$de=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Qde=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Jde=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ehe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,the=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,nhe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ihe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rhe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ahe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,she=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ohe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,lhe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,uhe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,che=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,fhe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,dhe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,hhe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,phe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,mhe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ghe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vhe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,yhe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,xhe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bhe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,_he=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,She=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Mhe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,whe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Ehe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ahe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,The=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Che=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Rhe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Phe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Dhe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Ohe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Nhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Lhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Ihe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Uhe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,khe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Fhe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vhe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jhe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Ghe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Hhe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Whe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,Xhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qhe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Yhe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Khe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Zhe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,$he=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qhe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jhe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,epe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,tpe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,npe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ipe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,rpe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ape=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,spe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ope=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lpe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,upe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cpe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dpe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hpe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ppe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,mpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,fn={alphahash_fragment:kfe,alphahash_pars_fragment:zfe,alphamap_fragment:Ffe,alphamap_pars_fragment:Bfe,alphatest_fragment:Vfe,alphatest_pars_fragment:jfe,aomap_fragment:Gfe,aomap_pars_fragment:Hfe,batching_pars_vertex:Wfe,batching_vertex:Xfe,begin_vertex:qfe,beginnormal_vertex:Yfe,bsdfs:Kfe,iridescence_fragment:Zfe,bumpmap_pars_fragment:$fe,clipping_planes_fragment:Qfe,clipping_planes_pars_fragment:Jfe,clipping_planes_pars_vertex:ede,clipping_planes_vertex:tde,color_fragment:nde,color_pars_fragment:ide,color_pars_vertex:rde,color_vertex:ade,common:sde,cube_uv_reflection_fragment:ode,defaultnormal_vertex:lde,displacementmap_pars_vertex:ude,displacementmap_vertex:cde,emissivemap_fragment:fde,emissivemap_pars_fragment:dde,colorspace_fragment:hde,colorspace_pars_fragment:pde,envmap_fragment:mde,envmap_common_pars_fragment:gde,envmap_pars_fragment:vde,envmap_pars_vertex:yde,envmap_physical_pars_fragment:Rde,envmap_vertex:xde,fog_vertex:bde,fog_pars_vertex:_de,fog_fragment:Sde,fog_pars_fragment:Mde,gradientmap_pars_fragment:wde,lightmap_pars_fragment:Ede,lights_lambert_fragment:Ade,lights_lambert_pars_fragment:Tde,lights_pars_begin:Cde,lights_toon_fragment:Pde,lights_toon_pars_fragment:Dde,lights_phong_fragment:Ode,lights_phong_pars_fragment:Nde,lights_physical_fragment:Lde,lights_physical_pars_fragment:Ide,lights_fragment_begin:Ude,lights_fragment_maps:kde,lights_fragment_end:zde,logdepthbuf_fragment:Fde,logdepthbuf_pars_fragment:Bde,logdepthbuf_pars_vertex:Vde,logdepthbuf_vertex:jde,map_fragment:Gde,map_pars_fragment:Hde,map_particle_fragment:Wde,map_particle_pars_fragment:Xde,metalnessmap_fragment:qde,metalnessmap_pars_fragment:Yde,morphinstance_vertex:Kde,morphcolor_vertex:Zde,morphnormal_vertex:$de,morphtarget_pars_vertex:Qde,morphtarget_vertex:Jde,normal_fragment_begin:ehe,normal_fragment_maps:the,normal_pars_fragment:nhe,normal_pars_vertex:ihe,normal_vertex:rhe,normalmap_pars_fragment:ahe,clearcoat_normal_fragment_begin:she,clearcoat_normal_fragment_maps:ohe,clearcoat_pars_fragment:lhe,iridescence_pars_fragment:uhe,opaque_fragment:che,packing:fhe,premultiplied_alpha_fragment:dhe,project_vertex:hhe,dithering_fragment:phe,dithering_pars_fragment:mhe,roughnessmap_fragment:ghe,roughnessmap_pars_fragment:vhe,shadowmap_pars_fragment:yhe,shadowmap_pars_vertex:xhe,shadowmap_vertex:bhe,shadowmask_pars_fragment:_he,skinbase_vertex:She,skinning_pars_vertex:Mhe,skinning_vertex:whe,skinnormal_vertex:Ehe,specularmap_fragment:Ahe,specularmap_pars_fragment:The,tonemapping_fragment:Che,tonemapping_pars_fragment:Rhe,transmission_fragment:Phe,transmission_pars_fragment:Dhe,uv_pars_fragment:Ohe,uv_pars_vertex:Nhe,uv_vertex:Lhe,worldpos_vertex:Ihe,background_vert:Uhe,background_frag:khe,backgroundCube_vert:zhe,backgroundCube_frag:Fhe,cube_vert:Bhe,cube_frag:Vhe,depth_vert:jhe,depth_frag:Ghe,distance_vert:Hhe,distance_frag:Whe,equirect_vert:Xhe,equirect_frag:qhe,linedashed_vert:Yhe,linedashed_frag:Khe,meshbasic_vert:Zhe,meshbasic_frag:$he,meshlambert_vert:Qhe,meshlambert_frag:Jhe,meshmatcap_vert:epe,meshmatcap_frag:tpe,meshnormal_vert:npe,meshnormal_frag:ipe,meshphong_vert:rpe,meshphong_frag:ape,meshphysical_vert:spe,meshphysical_frag:ope,meshtoon_vert:lpe,meshtoon_frag:upe,points_vert:cpe,points_frag:fpe,shadow_vert:dpe,shadow_frag:hpe,sprite_vert:ppe,sprite_frag:mpe},wt={common:{diffuse:{value:new At(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new an},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new an}},envmap:{envMap:{value:null},envMapRotation:{value:new an},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new an}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new an}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new an},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new an},normalScale:{value:new rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new an},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new an}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new an}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new an}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new At(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new At(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0},uvTransform:{value:new an}},sprite:{diffuse:{value:new At(16777215)},opacity:{value:1},center:{value:new rt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new an},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0}}},kl={basic:{uniforms:cs([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.fog]),vertexShader:fn.meshbasic_vert,fragmentShader:fn.meshbasic_frag},lambert:{uniforms:cs([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new At(0)}}]),vertexShader:fn.meshlambert_vert,fragmentShader:fn.meshlambert_frag},phong:{uniforms:cs([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new At(0)},specular:{value:new At(1118481)},shininess:{value:30}}]),vertexShader:fn.meshphong_vert,fragmentShader:fn.meshphong_frag},standard:{uniforms:cs([wt.common,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.roughnessmap,wt.metalnessmap,wt.fog,wt.lights,{emissive:{value:new At(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fn.meshphysical_vert,fragmentShader:fn.meshphysical_frag},toon:{uniforms:cs([wt.common,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.gradientmap,wt.fog,wt.lights,{emissive:{value:new At(0)}}]),vertexShader:fn.meshtoon_vert,fragmentShader:fn.meshtoon_frag},matcap:{uniforms:cs([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,{matcap:{value:null}}]),vertexShader:fn.meshmatcap_vert,fragmentShader:fn.meshmatcap_frag},points:{uniforms:cs([wt.points,wt.fog]),vertexShader:fn.points_vert,fragmentShader:fn.points_frag},dashed:{uniforms:cs([wt.common,wt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fn.linedashed_vert,fragmentShader:fn.linedashed_frag},depth:{uniforms:cs([wt.common,wt.displacementmap]),vertexShader:fn.depth_vert,fragmentShader:fn.depth_frag},normal:{uniforms:cs([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,{opacity:{value:1}}]),vertexShader:fn.meshnormal_vert,fragmentShader:fn.meshnormal_frag},sprite:{uniforms:cs([wt.sprite,wt.fog]),vertexShader:fn.sprite_vert,fragmentShader:fn.sprite_frag},background:{uniforms:{uvTransform:{value:new an},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:fn.background_vert,fragmentShader:fn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new an}},vertexShader:fn.backgroundCube_vert,fragmentShader:fn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fn.cube_vert,fragmentShader:fn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fn.equirect_vert,fragmentShader:fn.equirect_frag},distance:{uniforms:cs([wt.common,wt.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fn.distance_vert,fragmentShader:fn.distance_frag},shadow:{uniforms:cs([wt.lights,wt.fog,{color:{value:new At(0)},opacity:{value:1}}]),vertexShader:fn.shadow_vert,fragmentShader:fn.shadow_frag}};kl.physical={uniforms:cs([kl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new an},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new an},clearcoatNormalScale:{value:new rt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new an},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new an},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new an},sheen:{value:0},sheenColor:{value:new At(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new an},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new an},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new an},transmissionSamplerSize:{value:new rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new an},attenuationDistance:{value:0},attenuationColor:{value:new At(0)},specularColor:{value:new At(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new an},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new an},anisotropyVector:{value:new rt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new an}}]),vertexShader:fn.meshphysical_vert,fragmentShader:fn.meshphysical_frag};const M_={r:0,b:0,g:0},Nh=new _o,gpe=new $t;function vpe(t,e,n,i,r,a,s){const l=new At(0);let u=a===!0?0:1,f,p,g=null,v=0,y=null;function _(T){let P=T.isScene===!0?T.background:null;return P&&P.isTexture&&(P=(T.backgroundBlurriness>0?n:e).get(P)),P}function w(T){let P=!1;const O=_(T);O===null?M(l,u):O&&O.isColor&&(M(O,1),P=!0);const N=t.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,s):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(t.autoClear||P)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function S(T,P){const O=_(P);O&&(O.isCubeTexture||O.mapping===$g)?(p===void 0&&(p=new ki(new Rp(1,1,1),new Qs({name:"BackgroundCubeMaterial",uniforms:Ig(kl.backgroundCube.uniforms),vertexShader:kl.backgroundCube.vertexShader,fragmentShader:kl.backgroundCube.fragmentShader,side:vs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(N,k,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),Nh.copy(P.backgroundRotation),Nh.x*=-1,Nh.y*=-1,Nh.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Nh.y*=-1,Nh.z*=-1),p.material.uniforms.envMap.value=O,p.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=P.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(gpe.makeRotationFromEuler(Nh)),p.material.toneMapped=Dn.getTransfer(O.colorSpace)!==$n,(g!==O||v!==O.version||y!==t.toneMapping)&&(p.material.needsUpdate=!0,g=O,v=O.version,y=t.toneMapping),p.layers.enableAll(),T.unshift(p,p.geometry,p.material,0,0,null)):O&&O.isTexture&&(f===void 0&&(f=new ki(new mf(2,2),new Qs({name:"BackgroundMaterial",uniforms:Ig(kl.background.uniforms),vertexShader:kl.background.vertexShader,fragmentShader:kl.background.fragmentShader,side:sf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=O,f.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,f.material.toneMapped=Dn.getTransfer(O.colorSpace)!==$n,O.matrixAutoUpdate===!0&&O.updateMatrix(),f.material.uniforms.uvTransform.value.copy(O.matrix),(g!==O||v!==O.version||y!==t.toneMapping)&&(f.material.needsUpdate=!0,g=O,v=O.version,y=t.toneMapping),f.layers.enableAll(),T.unshift(f,f.geometry,f.material,0,0,null))}function M(T,P){T.getRGB(M_,g8(t)),i.buffers.color.setClear(M_.r,M_.g,M_.b,P,s)}function R(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(T,P=1){l.set(T),u=P,M(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(T){u=T,M(l,u)},render:w,addToRenderList:S,dispose:R}}function ype(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=v(null);let a=r,s=!1;function l(U,W,H,Y,J){let ie=!1;const X=g(Y,H,W);a!==X&&(a=X,f(a.object)),ie=y(U,Y,H,J),ie&&_(U,Y,H,J),J!==null&&e.update(J,t.ELEMENT_ARRAY_BUFFER),(ie||s)&&(s=!1,P(U,W,H,Y),J!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(J).buffer))}function u(){return t.createVertexArray()}function f(U){return t.bindVertexArray(U)}function p(U){return t.deleteVertexArray(U)}function g(U,W,H){const Y=H.wireframe===!0;let J=i[U.id];J===void 0&&(J={},i[U.id]=J);let ie=J[W.id];ie===void 0&&(ie={},J[W.id]=ie);let X=ie[Y];return X===void 0&&(X=v(u()),ie[Y]=X),X}function v(U){const W=[],H=[],Y=[];for(let J=0;J<n;J++)W[J]=0,H[J]=0,Y[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:H,attributeDivisors:Y,object:U,attributes:{},index:null}}function y(U,W,H,Y){const J=a.attributes,ie=W.attributes;let X=0;const te=H.getAttributes();for(const de in te)if(te[de].location>=0){const le=J[de];let V=ie[de];if(V===void 0&&(de==="instanceMatrix"&&U.instanceMatrix&&(V=U.instanceMatrix),de==="instanceColor"&&U.instanceColor&&(V=U.instanceColor)),le===void 0||le.attribute!==V||V&&le.data!==V.data)return!0;X++}return a.attributesNum!==X||a.index!==Y}function _(U,W,H,Y){const J={},ie=W.attributes;let X=0;const te=H.getAttributes();for(const de in te)if(te[de].location>=0){let le=ie[de];le===void 0&&(de==="instanceMatrix"&&U.instanceMatrix&&(le=U.instanceMatrix),de==="instanceColor"&&U.instanceColor&&(le=U.instanceColor));const V={};V.attribute=le,le&&le.data&&(V.data=le.data),J[de]=V,X++}a.attributes=J,a.attributesNum=X,a.index=Y}function w(){const U=a.newAttributes;for(let W=0,H=U.length;W<H;W++)U[W]=0}function S(U){M(U,0)}function M(U,W){const H=a.newAttributes,Y=a.enabledAttributes,J=a.attributeDivisors;H[U]=1,Y[U]===0&&(t.enableVertexAttribArray(U),Y[U]=1),J[U]!==W&&(t.vertexAttribDivisor(U,W),J[U]=W)}function R(){const U=a.newAttributes,W=a.enabledAttributes;for(let H=0,Y=W.length;H<Y;H++)W[H]!==U[H]&&(t.disableVertexAttribArray(H),W[H]=0)}function T(U,W,H,Y,J,ie,X){X===!0?t.vertexAttribIPointer(U,W,H,J,ie):t.vertexAttribPointer(U,W,H,Y,J,ie)}function P(U,W,H,Y){w();const J=Y.attributes,ie=H.getAttributes(),X=W.defaultAttributeValues;for(const te in ie){const de=ie[te];if(de.location>=0){let he=J[te];if(he===void 0&&(te==="instanceMatrix"&&U.instanceMatrix&&(he=U.instanceMatrix),te==="instanceColor"&&U.instanceColor&&(he=U.instanceColor)),he!==void 0){const le=he.normalized,V=he.itemSize,ee=e.get(he);if(ee===void 0)continue;const re=ee.buffer,pe=ee.type,ye=ee.bytesPerElement,se=pe===t.INT||pe===t.UNSIGNED_INT||he.gpuType===Rw;if(he.isInterleavedBufferAttribute){const ce=he.data,Se=ce.stride,fe=he.offset;if(ce.isInstancedInterleavedBuffer){for(let Oe=0;Oe<de.locationSize;Oe++)M(de.location+Oe,ce.meshPerAttribute);U.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let Oe=0;Oe<de.locationSize;Oe++)S(de.location+Oe);t.bindBuffer(t.ARRAY_BUFFER,re);for(let Oe=0;Oe<de.locationSize;Oe++)T(de.location+Oe,V/de.locationSize,pe,le,Se*ye,(fe+V/de.locationSize*Oe)*ye,se)}else{if(he.isInstancedBufferAttribute){for(let ce=0;ce<de.locationSize;ce++)M(de.location+ce,he.meshPerAttribute);U.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let ce=0;ce<de.locationSize;ce++)S(de.location+ce);t.bindBuffer(t.ARRAY_BUFFER,re);for(let ce=0;ce<de.locationSize;ce++)T(de.location+ce,V/de.locationSize,pe,le,V*ye,V/de.locationSize*ce*ye,se)}}else if(X!==void 0){const le=X[te];if(le!==void 0)switch(le.length){case 2:t.vertexAttrib2fv(de.location,le);break;case 3:t.vertexAttrib3fv(de.location,le);break;case 4:t.vertexAttrib4fv(de.location,le);break;default:t.vertexAttrib1fv(de.location,le)}}}}R()}function O(){z();for(const U in i){const W=i[U];for(const H in W){const Y=W[H];for(const J in Y)p(Y[J].object),delete Y[J];delete W[H]}delete i[U]}}function N(U){if(i[U.id]===void 0)return;const W=i[U.id];for(const H in W){const Y=W[H];for(const J in Y)p(Y[J].object),delete Y[J];delete W[H]}delete i[U.id]}function k(U){for(const W in i){const H=i[W];if(H[U.id]===void 0)continue;const Y=H[U.id];for(const J in Y)p(Y[J].object),delete Y[J];delete H[U.id]}}function z(){I(),s=!0,a!==r&&(a=r,f(a.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:z,resetDefaultState:I,dispose:O,releaseStatesOfGeometry:N,releaseStatesOfProgram:k,initAttributes:w,enableAttribute:S,disableUnusedAttributes:R}}function xpe(t,e,n){let i;function r(f){i=f}function a(f,p){t.drawArrays(i,f,p),n.update(p,i,1)}function s(f,p,g){g!==0&&(t.drawArraysInstanced(i,f,p,g),n.update(p,i,g))}function l(f,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,p,0,g);let y=0;for(let _=0;_<g;_++)y+=p[_];n.update(y,i,1)}function u(f,p,g,v){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let _=0;_<f.length;_++)s(f[_],p[_],v[_]);else{y.multiDrawArraysInstancedWEBGL(i,f,0,p,0,v,0,g);let _=0;for(let w=0;w<g;w++)_+=p[w]*v[w];n.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function bpe(t,e,n,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(k){return!(k!==Ga&&i.convert(k)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(k){const z=k===ql&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(k!==ds&&i.convert(k)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&k!==ja&&!z)}function u(k){if(k==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return k==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=n.precision!==void 0?n.precision:"highp";const p=u(f);p!==f&&(Et("WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const g=n.logarithmicDepthBuffer===!0,v=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=t.getParameter(t.MAX_TEXTURE_SIZE),S=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),M=t.getParameter(t.MAX_VERTEX_ATTRIBS),R=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),T=t.getParameter(t.MAX_VARYING_VECTORS),P=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),O=t.getParameter(t.MAX_SAMPLES),N=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:s,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:g,reversedDepthBuffer:v,maxTextures:y,maxVertexTextures:_,maxTextureSize:w,maxCubemapSize:S,maxAttributes:M,maxVertexUniforms:R,maxVaryings:T,maxFragmentUniforms:P,maxSamples:O,samples:N}}function _pe(t){const e=this;let n=null,i=0,r=!1,a=!1;const s=new Vc,l=new an,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const y=g.length!==0||v||i!==0||r;return r=v,i=g.length,y},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,v){n=p(g,v,0)},this.setState=function(g,v,y){const _=g.clippingPlanes,w=g.clipIntersection,S=g.clipShadows,M=t.get(g);if(!r||_===null||_.length===0||a&&!S)a?p(null):f();else{const R=a?0:i,T=R*4;let P=M.clippingState||null;u.value=P,P=p(_,v,T,y);for(let O=0;O!==T;++O)P[O]=n[O];M.clippingState=P,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=R}};function f(){u.value!==n&&(u.value=n,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(g,v,y,_){const w=g!==null?g.length:0;let S=null;if(w!==0){if(S=u.value,_!==!0||S===null){const M=y+w*4,R=v.matrixWorldInverse;l.getNormalMatrix(R),(S===null||S.length<M)&&(S=new Float32Array(M));for(let T=0,P=y;T!==w;++T,P+=4)s.copy(g[T]).applyMatrix4(R,l),s.normal.toArray(S,P),S[P+3]=s.constant}u.value=S,u.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,S}}function Spe(t){let e=new WeakMap;function n(s,l){return l===Fy?s.mapping=Ku:l===By&&(s.mapping=Ed),s}function i(s){if(s&&s.isTexture){const l=s.mapping;if(l===Fy||l===By)if(e.has(s)){const u=e.get(s).texture;return n(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const f=new ED(u.height);return f.fromEquirectangularTexture(t,s),e.set(s,f),s.addEventListener("dispose",r),n(f.texture,s.mapping)}else return null}}return s}function r(s){const l=s.target;l.removeEventListener("dispose",r);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const yd=4,Bk=[.125,.215,.35,.446,.526,.582],jh=20,Mpe=256,Fv=new Zc,Vk=new At;let aC=null,sC=0,oC=0,lC=!1;const wpe=new ne;class j3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,i=.1,r=100,a={}){const{size:s=256,position:l=wpe}=a;aC=this._renderer.getRenderTarget(),sC=this._renderer.getActiveCubeFace(),oC=this._renderer.getActiveMipmapLevel(),lC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,r,u,l),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Hk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Gk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(aC,sC,oC),this._renderer.xr.enabled=lC,e.scissorTest=!1,ng(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ku||e.mapping===Ed?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),aC=this._renderer.getRenderTarget(),sC=this._renderer.getActiveCubeFace(),oC=this._renderer.getActiveMipmapLevel(),lC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Jn,minFilter:Jn,generateMipmaps:!1,type:ql,format:Ga,colorSpace:Ad,depthBuffer:!1},r=jk(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=jk(e,n,i);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Epe(a)),this._blurMaterial=Tpe(a,e,n),this._ggxMaterial=Ape(a,e,n)}return r}_compileMaterial(e){const n=new ki(new sn,e);this._renderer.compile(n,Fv)}_sceneToCubeUV(e,n,i,r,a){const u=new fr(90,1,n,i),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,y=g.toneMapping;g.getClearColor(Vk),g.toneMapping=ol,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ki(new Rp,new pf({name:"PMREM.Background",side:vs,depthWrite:!1,depthTest:!1})));const w=this._backgroundBox,S=w.material;let M=!1;const R=e.background;R?R.isColor&&(S.color.copy(R),e.background=null,M=!0):(S.color.copy(Vk),M=!0);for(let T=0;T<6;T++){const P=T%3;P===0?(u.up.set(0,f[T],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+p[T],a.y,a.z)):P===1?(u.up.set(0,0,f[T]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+p[T],a.z)):(u.up.set(0,f[T],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+p[T]));const O=this._cubeSize;ng(r,P*O,T>2?O:0,O,O),g.setRenderTarget(r),M&&g.render(w,u),g.render(e,u)}g.toneMapping=y,g.autoClear=v,e.background=R}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Ku||e.mapping===Ed;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Hk()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Gk());const a=r?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const l=a.uniforms;l.envMap.value=e;const u=this._cubeSize;ng(n,0,0,3*u,2*u),i.setRenderTarget(n),i.render(s,Fv)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=i}_applyGGXFilter(e,n,i){const r=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,l=this._lodMeshes[i];l.material=s;const u=s.uniforms,f=i/(this._lodMeshes.length-1),p=n/(this._lodMeshes.length-1),g=Math.sqrt(f*f-p*p),v=0+f*1.25,y=g*v,{_lodMax:_}=this,w=this._sizeLods[i],S=3*w*(i>_-yd?i-_+yd:0),M=4*(this._cubeSize-w);u.envMap.value=e.texture,u.roughness.value=y,u.mipInt.value=_-n,ng(a,S,M,3*w,2*w),r.setRenderTarget(a),r.render(l,Fv),u.envMap.value=a.texture,u.roughness.value=0,u.mipInt.value=_-i,ng(e,S,M,3*w,2*w),r.setRenderTarget(e),r.render(l,Fv)}_blur(e,n,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,s,l){const u=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&Vt("blur direction must be either latitudinal or longitudinal!");const p=3,g=this._lodMeshes[r];g.material=f;const v=f.uniforms,y=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*jh-1),w=a/_,S=isFinite(a)?1+Math.floor(p*w):jh;S>jh&&Et(`sigmaRadians, ${a}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${jh}`);const M=[];let R=0;for(let k=0;k<jh;++k){const z=k/w,I=Math.exp(-z*z/2);M.push(I),k===0?R+=I:k<S&&(R+=2*I)}for(let k=0;k<M.length;k++)M[k]=M[k]/R;v.envMap.value=e.texture,v.samples.value=S,v.weights.value=M,v.latitudinal.value=s==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:T}=this;v.dTheta.value=_,v.mipInt.value=T-i;const P=this._sizeLods[r],O=3*P*(r>T-yd?r-T+yd:0),N=4*(this._cubeSize-P);ng(n,O,N,3*P,2*P),u.setRenderTarget(n),u.render(g,Fv)}}function Epe(t){const e=[],n=[],i=[];let r=t;const a=t-yd+1+Bk.length;for(let s=0;s<a;s++){const l=Math.pow(2,r);e.push(l);let u=1/l;s>t-yd?u=Bk[s-t+yd-1]:s===0&&(u=0),n.push(u);const f=1/(l-2),p=-f,g=1+f,v=[p,p,g,p,g,g,p,p,g,g,p,g],y=6,_=6,w=3,S=2,M=1,R=new Float32Array(w*_*y),T=new Float32Array(S*_*y),P=new Float32Array(M*_*y);for(let N=0;N<y;N++){const k=N%3*2/3-1,z=N>2?0:-1,I=[k,z,0,k+2/3,z,0,k+2/3,z+1,0,k,z,0,k+2/3,z+1,0,k,z+1,0];R.set(I,w*_*N),T.set(v,S*_*N);const U=[N,N,N,N,N,N];P.set(U,M*_*N)}const O=new sn;O.setAttribute("position",new oi(R,w)),O.setAttribute("uv",new oi(T,S)),O.setAttribute("faceIndex",new oi(P,M)),i.push(new ki(O,null)),r>yd&&r--}return{lodMeshes:i,sizeLods:e,sigmas:n}}function jk(t,e,n){const i=new Zs(t,e,n);return i.texture.mapping=$g,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ng(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Ape(t,e,n){return new Qs({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Mpe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:fE(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function Tpe(t,e,n){const i=new Float32Array(jh),r=new ne(0,1,0);return new Qs({name:"SphericalGaussianBlur",defines:{n:jh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:fE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function Gk(){return new Qs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:fE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function Hk(){return new Qs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:fE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function fE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Cpe(t){let e=new WeakMap,n=null;function i(l){if(l&&l.isTexture){const u=l.mapping,f=u===Fy||u===By,p=u===Ku||u===Ed;if(f||p){let g=e.get(l);const v=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return n===null&&(n=new j3(t)),g=f?n.fromEquirectangular(l,g):n.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const y=l.image;return f&&y&&y.height>0||p&&y&&r(y)?(n===null&&(n=new j3(t)),g=f?n.fromEquirectangular(l):n.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",a),g.texture):null}}}return l}function r(l){let u=0;const f=6;for(let p=0;p<f;p++)l[p]!==void 0&&u++;return u===f}function a(l){const u=l.target;u.removeEventListener("dispose",a);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:s}}function Rpe(t){const e={};function n(i){if(e[i]!==void 0)return e[i];const r=t.getExtension(i);return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&Og("WebGLRenderer: "+i+" extension not supported."),r}}}function Ppe(t,e,n,i){const r={},a=new WeakMap;function s(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const _ in v.attributes)e.remove(v.attributes[_]);v.removeEventListener("dispose",s),delete r[v.id];const y=a.get(v);y&&(e.remove(y),a.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,n.memory.geometries--}function l(g,v){return r[v.id]===!0||(v.addEventListener("dispose",s),r[v.id]=!0,n.memory.geometries++),v}function u(g){const v=g.attributes;for(const y in v)e.update(v[y],t.ARRAY_BUFFER)}function f(g){const v=[],y=g.index,_=g.attributes.position;let w=0;if(y!==null){const R=y.array;w=y.version;for(let T=0,P=R.length;T<P;T+=3){const O=R[T+0],N=R[T+1],k=R[T+2];v.push(O,N,N,k,k,O)}}else if(_!==void 0){const R=_.array;w=_.version;for(let T=0,P=R.length/3-1;T<P;T+=3){const O=T+0,N=T+1,k=T+2;v.push(O,N,N,k,k,O)}}else return;const S=new(f8(v)?wD:MD)(v,1);S.version=w;const M=a.get(g);M&&e.remove(M),a.set(g,S)}function p(g){const v=a.get(g);if(v){const y=g.index;y!==null&&v.version<y.version&&f(g)}else f(g);return a.get(g)}return{get:l,update:u,getWireframeAttribute:p}}function Dpe(t,e,n){let i;function r(v){i=v}let a,s;function l(v){a=v.type,s=v.bytesPerElement}function u(v,y){t.drawElements(i,y,a,v*s),n.update(y,i,1)}function f(v,y,_){_!==0&&(t.drawElementsInstanced(i,y,a,v*s,_),n.update(y,i,_))}function p(v,y,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,a,v,0,_);let S=0;for(let M=0;M<_;M++)S+=y[M];n.update(S,i,1)}function g(v,y,_,w){if(_===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let M=0;M<v.length;M++)f(v[M]/s,y[M],w[M]);else{S.multiDrawElementsInstancedWEBGL(i,y,0,a,v,0,w,0,_);let M=0;for(let R=0;R<_;R++)M+=y[R]*w[R];n.update(M,i,1)}}this.setMode=r,this.setIndex=l,this.render=u,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function Ope(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,l){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=l*(a/3);break;case t.LINES:n.lines+=l*(a/2);break;case t.LINE_STRIP:n.lines+=l*(a-1);break;case t.LINE_LOOP:n.lines+=l*a;break;case t.POINTS:n.points+=l*a;break;default:Vt("WebGLInfo: Unknown draw mode:",s);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function Npe(t,e,n){const i=new WeakMap,r=new Nn;function a(s,l,u){const f=s.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=p!==void 0?p.length:0;let v=i.get(l);if(v===void 0||v.count!==g){let I=function(){k.dispose(),i.delete(l),l.removeEventListener("dispose",I)};v!==void 0&&v.texture.dispose();const y=l.morphAttributes.position!==void 0,_=l.morphAttributes.normal!==void 0,w=l.morphAttributes.color!==void 0,S=l.morphAttributes.position||[],M=l.morphAttributes.normal||[],R=l.morphAttributes.color||[];let T=0;y===!0&&(T=1),_===!0&&(T=2),w===!0&&(T=3);let P=l.attributes.position.count*T,O=1;P>e.maxTextureSize&&(O=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const N=new Float32Array(P*O*4*g),k=new zw(N,P,O,g);k.type=ja,k.needsUpdate=!0;const z=T*4;for(let U=0;U<g;U++){const W=S[U],H=M[U],Y=R[U],J=P*O*4*U;for(let ie=0;ie<W.count;ie++){const X=ie*z;y===!0&&(r.fromBufferAttribute(W,ie),N[J+X+0]=r.x,N[J+X+1]=r.y,N[J+X+2]=r.z,N[J+X+3]=0),_===!0&&(r.fromBufferAttribute(H,ie),N[J+X+4]=r.x,N[J+X+5]=r.y,N[J+X+6]=r.z,N[J+X+7]=0),w===!0&&(r.fromBufferAttribute(Y,ie),N[J+X+8]=r.x,N[J+X+9]=r.y,N[J+X+10]=r.z,N[J+X+11]=Y.itemSize===4?r.w:1)}}v={count:g,texture:k,size:new rt(P,O)},i.set(l,v),l.addEventListener("dispose",I)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)u.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let y=0;for(let w=0;w<f.length;w++)y+=f[w];const _=l.morphTargetsRelative?1:1-y;u.getUniforms().setValue(t,"morphTargetBaseInfluence",_),u.getUniforms().setValue(t,"morphTargetInfluences",f)}u.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),u.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}return{update:a}}function Lpe(t,e,n,i){let r=new WeakMap;function a(u){const f=i.render.frame,p=u.geometry,g=e.get(u,p);if(r.get(g)!==f&&(e.update(g),r.set(g,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),r.get(u)!==f&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),r.set(u,f))),u.isSkinnedMesh){const v=u.skeleton;r.get(v)!==f&&(v.update(),r.set(v,f))}return g}function s(){r=new WeakMap}function l(u){const f=u.target;f.removeEventListener("dispose",l),n.remove(f.instanceMatrix),f.instanceColor!==null&&n.remove(f.instanceColor)}return{update:a,dispose:s}}const Ipe={[oD]:"LINEAR_TONE_MAPPING",[Aw]:"REINHARD_TONE_MAPPING",[lD]:"CINEON_TONE_MAPPING",[Tw]:"ACES_FILMIC_TONE_MAPPING",[cD]:"AGX_TONE_MAPPING",[fD]:"NEUTRAL_TONE_MAPPING",[uD]:"CUSTOM_TONE_MAPPING"};function Upe(t,e,n,i,r){const a=new Zs(e,n,{type:t,depthBuffer:i,stencilBuffer:r}),s=new Zs(e,n,{type:ql,depthBuffer:!1,stencilBuffer:!1}),l=new sn;l.setAttribute("position",new Ot([-1,3,0,-1,-1,0,3,-1,0],3)),l.setAttribute("uv",new Ot([0,2,0,0,2,0],2));const u=new kD({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),f=new ki(l,u),p=new Zc(-1,1,1,-1,0,1);let g=null,v=null,y=!1,_,w=null,S=[],M=!1;this.setSize=function(R,T){a.setSize(R,T),s.setSize(R,T);for(let P=0;P<S.length;P++){const O=S[P];O.setSize&&O.setSize(R,T)}},this.setEffects=function(R){S=R,M=S.length>0&&S[0].isRenderPass===!0;const T=a.width,P=a.height;for(let O=0;O<S.length;O++){const N=S[O];N.setSize&&N.setSize(T,P)}},this.begin=function(R,T){if(y||R.toneMapping===ol&&S.length===0)return!1;if(w=T,T!==null){const P=T.width,O=T.height;(a.width!==P||a.height!==O)&&this.setSize(P,O)}return M===!1&&R.setRenderTarget(a),_=R.toneMapping,R.toneMapping=ol,!0},this.hasRenderPass=function(){return M},this.end=function(R,T){R.toneMapping=_,y=!0;let P=a,O=s;for(let N=0;N<S.length;N++){const k=S[N];if(k.enabled!==!1&&(k.render(R,O,P,T),k.needsSwap!==!1)){const z=P;P=O,O=z}}if(g!==R.outputColorSpace||v!==R.toneMapping){g=R.outputColorSpace,v=R.toneMapping,u.defines={},Dn.getTransfer(g)===$n&&(u.defines.SRGB_TRANSFER="");const N=Ipe[v];N&&(u.defines[N]=""),u.needsUpdate=!0}u.uniforms.tDiffuse.value=P.texture,R.setRenderTarget(w),R.render(f,p),w=null,y=!1},this.isCompositing=function(){return y},this.dispose=function(){a.dispose(),s.dispose(),l.dispose(),u.dispose()}}const hj=new Ki,G3=new yp(1,1),pj=new zw,mj=new Fw,gj=new Ox,Wk=[],Xk=[],qk=new Float32Array(16),Yk=new Float32Array(9),Kk=new Float32Array(4);function Jg(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=Wk[r];if(a===void 0&&(a=new Float32Array(r),Wk[r]=a),e!==0){i.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=n,t[s].toArray(a,l)}return a}function zr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Fr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function dE(t,e){let n=Xk[e];n===void 0&&(n=new Int32Array(e),Xk[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function kpe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function zpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2fv(this.addr,e),Fr(n,e)}}function Fpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(zr(n,e))return;t.uniform3fv(this.addr,e),Fr(n,e)}}function Bpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4fv(this.addr,e),Fr(n,e)}}function Vpe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Fr(n,e)}else{if(zr(n,i))return;Kk.set(i),t.uniformMatrix2fv(this.addr,!1,Kk),Fr(n,i)}}function jpe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Fr(n,e)}else{if(zr(n,i))return;Yk.set(i),t.uniformMatrix3fv(this.addr,!1,Yk),Fr(n,i)}}function Gpe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Fr(n,e)}else{if(zr(n,i))return;qk.set(i),t.uniformMatrix4fv(this.addr,!1,qk),Fr(n,i)}}function Hpe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Wpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2iv(this.addr,e),Fr(n,e)}}function Xpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zr(n,e))return;t.uniform3iv(this.addr,e),Fr(n,e)}}function qpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4iv(this.addr,e),Fr(n,e)}}function Ype(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Kpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2uiv(this.addr,e),Fr(n,e)}}function Zpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zr(n,e))return;t.uniform3uiv(this.addr,e),Fr(n,e)}}function $pe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4uiv(this.addr,e),Fr(n,e)}}function Qpe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let a;this.type===t.SAMPLER_2D_SHADOW?(G3.compareFunction=n.isReversedDepthBuffer()?kw:Uw,a=G3):a=hj,n.setTexture2D(e||a,r)}function Jpe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||mj,r)}function eme(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||gj,r)}function tme(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||pj,r)}function nme(t){switch(t){case 5126:return kpe;case 35664:return zpe;case 35665:return Fpe;case 35666:return Bpe;case 35674:return Vpe;case 35675:return jpe;case 35676:return Gpe;case 5124:case 35670:return Hpe;case 35667:case 35671:return Wpe;case 35668:case 35672:return Xpe;case 35669:case 35673:return qpe;case 5125:return Ype;case 36294:return Kpe;case 36295:return Zpe;case 36296:return $pe;case 35678:case 36198:case 36298:case 36306:case 35682:return Qpe;case 35679:case 36299:case 36307:return Jpe;case 35680:case 36300:case 36308:case 36293:return eme;case 36289:case 36303:case 36311:case 36292:return tme}}function ime(t,e){t.uniform1fv(this.addr,e)}function rme(t,e){const n=Jg(e,this.size,2);t.uniform2fv(this.addr,n)}function ame(t,e){const n=Jg(e,this.size,3);t.uniform3fv(this.addr,n)}function sme(t,e){const n=Jg(e,this.size,4);t.uniform4fv(this.addr,n)}function ome(t,e){const n=Jg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function lme(t,e){const n=Jg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ume(t,e){const n=Jg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function cme(t,e){t.uniform1iv(this.addr,e)}function fme(t,e){t.uniform2iv(this.addr,e)}function dme(t,e){t.uniform3iv(this.addr,e)}function hme(t,e){t.uniform4iv(this.addr,e)}function pme(t,e){t.uniform1uiv(this.addr,e)}function mme(t,e){t.uniform2uiv(this.addr,e)}function gme(t,e){t.uniform3uiv(this.addr,e)}function vme(t,e){t.uniform4uiv(this.addr,e)}function yme(t,e,n){const i=this.cache,r=e.length,a=dE(n,r);zr(i,a)||(t.uniform1iv(this.addr,a),Fr(i,a));let s;this.type===t.SAMPLER_2D_SHADOW?s=G3:s=hj;for(let l=0;l!==r;++l)n.setTexture2D(e[l]||s,a[l])}function xme(t,e,n){const i=this.cache,r=e.length,a=dE(n,r);zr(i,a)||(t.uniform1iv(this.addr,a),Fr(i,a));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||mj,a[s])}function bme(t,e,n){const i=this.cache,r=e.length,a=dE(n,r);zr(i,a)||(t.uniform1iv(this.addr,a),Fr(i,a));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||gj,a[s])}function _me(t,e,n){const i=this.cache,r=e.length,a=dE(n,r);zr(i,a)||(t.uniform1iv(this.addr,a),Fr(i,a));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||pj,a[s])}function Sme(t){switch(t){case 5126:return ime;case 35664:return rme;case 35665:return ame;case 35666:return sme;case 35674:return ome;case 35675:return lme;case 35676:return ume;case 5124:case 35670:return cme;case 35667:case 35671:return fme;case 35668:case 35672:return dme;case 35669:case 35673:return hme;case 5125:return pme;case 36294:return mme;case 36295:return gme;case 36296:return vme;case 35678:case 36198:case 36298:case 36306:case 35682:return yme;case 35679:case 36299:case 36307:return xme;case 35680:case 36300:case 36308:case 36293:return bme;case 36289:case 36303:case 36311:case 36292:return _me}}class Mme{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=nme(n.type)}}class wme{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Sme(n.type)}}class Eme{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const l=r[a];l.setValue(e,n[l.id],i)}}}const uC=/(\w+)(\])?(\[|\.)?/g;function Zk(t,e){t.seq.push(e),t.map[e.id]=e}function Ame(t,e,n){const i=t.name,r=i.length;for(uC.lastIndex=0;;){const a=uC.exec(i),s=uC.lastIndex;let l=a[1];const u=a[2]==="]",f=a[3];if(u&&(l=l|0),f===void 0||f==="["&&s+2===r){Zk(n,f===void 0?new Mme(l,t,e):new wme(l,t,e));break}else{let g=n.map[l];g===void 0&&(g=new Eme(l),Zk(n,g)),n=g}}}class X_{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const l=e.getActiveUniform(n,s),u=e.getUniformLocation(n,l.name);Ame(l,u,this)}const r=[],a=[];for(const s of this.seq)s.type===e.SAMPLER_2D_SHADOW||s.type===e.SAMPLER_CUBE_SHADOW||s.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(s):a.push(s);r.length>0&&(this.seq=r.concat(a))}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,s=n.length;a!==s;++a){const l=n[a],u=i[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in n&&i.push(s)}return i}}function $k(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const Tme=37297;let Cme=0;function Rme(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=r;s<a;s++){const l=s+1;i.push(`${l===e?">":" "} ${l}: ${n[s]}`)}return i.join(`
`)}const Qk=new an;function Pme(t){Dn._getMatrix(Qk,Dn.workingColorSpace,t);const e=`mat3( ${Qk.elements.map(n=>n.toFixed(4))} )`;switch(Dn.getTransfer(t)){case Wy:return[e,"LinearTransferOETF"];case $n:return[e,"sRGBTransferOETF"];default:return Et("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function Jk(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const l=parseInt(s[1]);return n.toUpperCase()+`

`+a+`

`+Rme(t.getShaderSource(e),l)}else return a}function Dme(t,e){const n=Pme(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const Ome={[oD]:"Linear",[Aw]:"Reinhard",[lD]:"Cineon",[Tw]:"ACESFilmic",[cD]:"AgX",[fD]:"Neutral",[uD]:"Custom"};function Nme(t,e){const n=Ome[e];return n===void 0?(Et("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const w_=new ne;function Lme(){Dn.getLuminanceCoefficients(w_);const t=w_.x.toFixed(4),e=w_.y.toFixed(4),n=w_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Ime(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Yv).join(`
`)}function Ume(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function kme(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),s=a.name;let l=1;a.type===t.FLOAT_MAT2&&(l=2),a.type===t.FLOAT_MAT3&&(l=3),a.type===t.FLOAT_MAT4&&(l=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:l}}return n}function Yv(t){return t!==""}function e2(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function t2(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zme=/^[ \t]*#include +<([\w\d./]+)>/gm;function H3(t){return t.replace(zme,Bme)}const Fme=new Map;function Bme(t,e){let n=fn[e];if(n===void 0){const i=Fme.get(e);if(i!==void 0)n=fn[i],Et('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return H3(n)}const Vme=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function n2(t){return t.replace(Vme,jme)}function jme(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function i2(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Gme={[_g]:"SHADOWMAP_TYPE_PCF",[qh]:"SHADOWMAP_TYPE_VSM"};function Hme(t){return Gme[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Wme={[Ku]:"ENVMAP_TYPE_CUBE",[Ed]:"ENVMAP_TYPE_CUBE",[$g]:"ENVMAP_TYPE_CUBE_UV"};function Xme(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":Wme[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const qme={[Ed]:"ENVMAP_MODE_REFRACTION"};function Yme(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":qme[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Kme={[Px]:"ENVMAP_BLENDING_MULTIPLY",[ZV]:"ENVMAP_BLENDING_MIX",[$V]:"ENVMAP_BLENDING_ADD"};function Zme(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":Kme[t.combine]||"ENVMAP_BLENDING_NONE"}function $me(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function Qme(t,e,n,i){const r=t.getContext(),a=n.defines;let s=n.vertexShader,l=n.fragmentShader;const u=Hme(n),f=Xme(n),p=Yme(n),g=Zme(n),v=$me(n),y=Ime(n),_=Ume(a),w=r.createProgram();let S,M,R=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Yv).join(`
`),S.length>0&&(S+=`
`),M=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Yv).join(`
`),M.length>0&&(M+=`
`)):(S=[i2(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Yv).join(`
`),M=[i2(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+p:"",n.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ol?"#define TONE_MAPPING":"",n.toneMapping!==ol?fn.tonemapping_pars_fragment:"",n.toneMapping!==ol?Nme("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",fn.colorspace_pars_fragment,Dme("linearToOutputTexel",n.outputColorSpace),Lme(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Yv).join(`
`)),s=H3(s),s=e2(s,n),s=t2(s,n),l=H3(l),l=e2(l,n),l=t2(l,n),s=n2(s),l=n2(l),n.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,S=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,M=["#define varying in",n.glslVersion===L3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===L3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const T=R+S+s,P=R+M+l,O=$k(r,r.VERTEX_SHADER,T),N=$k(r,r.FRAGMENT_SHADER,P);r.attachShader(w,O),r.attachShader(w,N),n.index0AttributeName!==void 0?r.bindAttribLocation(w,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function k(W){if(t.debug.checkShaderErrors){const H=r.getProgramInfoLog(w)||"",Y=r.getShaderInfoLog(O)||"",J=r.getShaderInfoLog(N)||"",ie=H.trim(),X=Y.trim(),te=J.trim();let de=!0,he=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(de=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,w,O,N);else{const le=Jk(r,O,"vertex"),V=Jk(r,N,"fragment");Vt("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+W.name+`
Material Type: `+W.type+`

Program Info Log: `+ie+`
`+le+`
`+V)}else ie!==""?Et("WebGLProgram: Program Info Log:",ie):(X===""||te==="")&&(he=!1);he&&(W.diagnostics={runnable:de,programLog:ie,vertexShader:{log:X,prefix:S},fragmentShader:{log:te,prefix:M}})}r.deleteShader(O),r.deleteShader(N),z=new X_(r,w),I=kme(r,w)}let z;this.getUniforms=function(){return z===void 0&&k(this),z};let I;this.getAttributes=function(){return I===void 0&&k(this),I};let U=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(w,Tme)),U},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Cme++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=O,this.fragmentShader=N,this}let Jme=0;class ege{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new tge(e),n.set(e,i)),i}}class tge{constructor(e){this.id=Jme++,this.code=e,this.usedTimes=0}}function nge(t,e,n,i,r,a,s){const l=new Lg,u=new ege,f=new Set,p=[],g=new Map,v=r.logarithmicDepthBuffer;let y=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(I){return f.add(I),I===0?"uv":`uv${I}`}function S(I,U,W,H,Y){const J=H.fog,ie=Y.geometry,X=I.isMeshStandardMaterial?H.environment:null,te=(I.isMeshStandardMaterial?n:e).get(I.envMap||X),de=te&&te.mapping===$g?te.image.height:null,he=_[I.type];I.precision!==null&&(y=r.getMaxPrecision(I.precision),y!==I.precision&&Et("WebGLProgram.getParameters:",I.precision,"not supported, using",y,"instead."));const le=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,V=le!==void 0?le.length:0;let ee=0;ie.morphAttributes.position!==void 0&&(ee=1),ie.morphAttributes.normal!==void 0&&(ee=2),ie.morphAttributes.color!==void 0&&(ee=3);let re,pe,ye,se;if(he){const Nt=kl[he];re=Nt.vertexShader,pe=Nt.fragmentShader}else re=I.vertexShader,pe=I.fragmentShader,u.update(I),ye=u.getVertexShaderID(I),se=u.getFragmentShaderID(I);const ce=t.getRenderTarget(),Se=t.state.buffers.depth.getReversed(),fe=Y.isInstancedMesh===!0,Oe=Y.isBatchedMesh===!0,ke=!!I.map,me=!!I.matcap,ut=!!te,_e=!!I.aoMap,Ae=!!I.lightMap,Me=!!I.bumpMap,Ge=!!I.normalMap,Z=!!I.displacementMap,at=!!I.emissiveMap,qe=!!I.metalnessMap,Ne=!!I.roughnessMap,Ze=I.anisotropy>0,q=I.clearcoat>0,j=I.dispersion>0,oe=I.iridescence>0,De=I.sheen>0,Re=I.transmission>0,be=Ze&&!!I.anisotropyMap,nt=q&&!!I.clearcoatMap,Je=q&&!!I.clearcoatNormalMap,pt=q&&!!I.clearcoatRoughnessMap,St=oe&&!!I.iridescenceMap,Xe=oe&&!!I.iridescenceThicknessMap,$e=De&&!!I.sheenColorMap,tt=De&&!!I.sheenRoughnessMap,ae=!!I.specularMap,Ee=!!I.specularColorMap,ft=!!I.specularIntensityMap,ue=Re&&!!I.transmissionMap,He=Re&&!!I.thicknessMap,Qe=!!I.gradientMap,mt=!!I.alphaMap,et=I.alphaTest>0,ze=!!I.alphaHash,st=!!I.extensions;let bt=ol;I.toneMapped&&(ce===null||ce.isXRRenderTarget===!0)&&(bt=t.toneMapping);const xt={shaderID:he,shaderType:I.type,shaderName:I.name,vertexShader:re,fragmentShader:pe,defines:I.defines,customVertexShaderID:ye,customFragmentShaderID:se,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:y,batching:Oe,batchingColor:Oe&&Y._colorsTexture!==null,instancing:fe,instancingColor:fe&&Y.instanceColor!==null,instancingMorph:fe&&Y.morphTexture!==null,outputColorSpace:ce===null?t.outputColorSpace:ce.isXRRenderTarget===!0?ce.texture.colorSpace:Ad,alphaToCoverage:!!I.alphaToCoverage,map:ke,matcap:me,envMap:ut,envMapMode:ut&&te.mapping,envMapCubeUVHeight:de,aoMap:_e,lightMap:Ae,bumpMap:Me,normalMap:Ge,displacementMap:Z,emissiveMap:at,normalMapObjectSpace:Ge&&I.normalMapType===r8,normalMapTangentSpace:Ge&&I.normalMapType===Ud,metalnessMap:qe,roughnessMap:Ne,anisotropy:Ze,anisotropyMap:be,clearcoat:q,clearcoatMap:nt,clearcoatNormalMap:Je,clearcoatRoughnessMap:pt,dispersion:j,iridescence:oe,iridescenceMap:St,iridescenceThicknessMap:Xe,sheen:De,sheenColorMap:$e,sheenRoughnessMap:tt,specularMap:ae,specularColorMap:Ee,specularIntensityMap:ft,transmission:Re,transmissionMap:ue,thicknessMap:He,gradientMap:Qe,opaque:I.transparent===!1&&I.blending===tp&&I.alphaToCoverage===!1,alphaMap:mt,alphaTest:et,alphaHash:ze,combine:I.combine,mapUv:ke&&w(I.map.channel),aoMapUv:_e&&w(I.aoMap.channel),lightMapUv:Ae&&w(I.lightMap.channel),bumpMapUv:Me&&w(I.bumpMap.channel),normalMapUv:Ge&&w(I.normalMap.channel),displacementMapUv:Z&&w(I.displacementMap.channel),emissiveMapUv:at&&w(I.emissiveMap.channel),metalnessMapUv:qe&&w(I.metalnessMap.channel),roughnessMapUv:Ne&&w(I.roughnessMap.channel),anisotropyMapUv:be&&w(I.anisotropyMap.channel),clearcoatMapUv:nt&&w(I.clearcoatMap.channel),clearcoatNormalMapUv:Je&&w(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:pt&&w(I.clearcoatRoughnessMap.channel),iridescenceMapUv:St&&w(I.iridescenceMap.channel),iridescenceThicknessMapUv:Xe&&w(I.iridescenceThicknessMap.channel),sheenColorMapUv:$e&&w(I.sheenColorMap.channel),sheenRoughnessMapUv:tt&&w(I.sheenRoughnessMap.channel),specularMapUv:ae&&w(I.specularMap.channel),specularColorMapUv:Ee&&w(I.specularColorMap.channel),specularIntensityMapUv:ft&&w(I.specularIntensityMap.channel),transmissionMapUv:ue&&w(I.transmissionMap.channel),thicknessMapUv:He&&w(I.thicknessMap.channel),alphaMapUv:mt&&w(I.alphaMap.channel),vertexTangents:!!ie.attributes.tangent&&(Ge||Ze),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!ie.attributes.uv&&(ke||mt),fog:!!J,useFog:I.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:Se,skinning:Y.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:ee,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&W.length>0,shadowMapType:t.shadowMap.type,toneMapping:bt,decodeVideoTexture:ke&&I.map.isVideoTexture===!0&&Dn.getTransfer(I.map.colorSpace)===$n,decodeVideoTextureEmissive:at&&I.emissiveMap.isVideoTexture===!0&&Dn.getTransfer(I.emissiveMap.colorSpace)===$n,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===nl,flipSided:I.side===vs,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:st&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(st&&I.extensions.multiDraw===!0||Oe)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return xt.vertexUv1s=f.has(1),xt.vertexUv2s=f.has(2),xt.vertexUv3s=f.has(3),f.clear(),xt}function M(I){const U=[];if(I.shaderID?U.push(I.shaderID):(U.push(I.customVertexShaderID),U.push(I.customFragmentShaderID)),I.defines!==void 0)for(const W in I.defines)U.push(W),U.push(I.defines[W]);return I.isRawShaderMaterial===!1&&(R(U,I),T(U,I),U.push(t.outputColorSpace)),U.push(I.customProgramCacheKey),U.join()}function R(I,U){I.push(U.precision),I.push(U.outputColorSpace),I.push(U.envMapMode),I.push(U.envMapCubeUVHeight),I.push(U.mapUv),I.push(U.alphaMapUv),I.push(U.lightMapUv),I.push(U.aoMapUv),I.push(U.bumpMapUv),I.push(U.normalMapUv),I.push(U.displacementMapUv),I.push(U.emissiveMapUv),I.push(U.metalnessMapUv),I.push(U.roughnessMapUv),I.push(U.anisotropyMapUv),I.push(U.clearcoatMapUv),I.push(U.clearcoatNormalMapUv),I.push(U.clearcoatRoughnessMapUv),I.push(U.iridescenceMapUv),I.push(U.iridescenceThicknessMapUv),I.push(U.sheenColorMapUv),I.push(U.sheenRoughnessMapUv),I.push(U.specularMapUv),I.push(U.specularColorMapUv),I.push(U.specularIntensityMapUv),I.push(U.transmissionMapUv),I.push(U.thicknessMapUv),I.push(U.combine),I.push(U.fogExp2),I.push(U.sizeAttenuation),I.push(U.morphTargetsCount),I.push(U.morphAttributeCount),I.push(U.numDirLights),I.push(U.numPointLights),I.push(U.numSpotLights),I.push(U.numSpotLightMaps),I.push(U.numHemiLights),I.push(U.numRectAreaLights),I.push(U.numDirLightShadows),I.push(U.numPointLightShadows),I.push(U.numSpotLightShadows),I.push(U.numSpotLightShadowsWithMaps),I.push(U.numLightProbes),I.push(U.shadowMapType),I.push(U.toneMapping),I.push(U.numClippingPlanes),I.push(U.numClipIntersection),I.push(U.depthPacking)}function T(I,U){l.disableAll(),U.instancing&&l.enable(0),U.instancingColor&&l.enable(1),U.instancingMorph&&l.enable(2),U.matcap&&l.enable(3),U.envMap&&l.enable(4),U.normalMapObjectSpace&&l.enable(5),U.normalMapTangentSpace&&l.enable(6),U.clearcoat&&l.enable(7),U.iridescence&&l.enable(8),U.alphaTest&&l.enable(9),U.vertexColors&&l.enable(10),U.vertexAlphas&&l.enable(11),U.vertexUv1s&&l.enable(12),U.vertexUv2s&&l.enable(13),U.vertexUv3s&&l.enable(14),U.vertexTangents&&l.enable(15),U.anisotropy&&l.enable(16),U.alphaHash&&l.enable(17),U.batching&&l.enable(18),U.dispersion&&l.enable(19),U.batchingColor&&l.enable(20),U.gradientMap&&l.enable(21),I.push(l.mask),l.disableAll(),U.fog&&l.enable(0),U.useFog&&l.enable(1),U.flatShading&&l.enable(2),U.logarithmicDepthBuffer&&l.enable(3),U.reversedDepthBuffer&&l.enable(4),U.skinning&&l.enable(5),U.morphTargets&&l.enable(6),U.morphNormals&&l.enable(7),U.morphColors&&l.enable(8),U.premultipliedAlpha&&l.enable(9),U.shadowMapEnabled&&l.enable(10),U.doubleSided&&l.enable(11),U.flipSided&&l.enable(12),U.useDepthPacking&&l.enable(13),U.dithering&&l.enable(14),U.transmission&&l.enable(15),U.sheen&&l.enable(16),U.opaque&&l.enable(17),U.pointsUvs&&l.enable(18),U.decodeVideoTexture&&l.enable(19),U.decodeVideoTextureEmissive&&l.enable(20),U.alphaToCoverage&&l.enable(21),I.push(l.mask)}function P(I){const U=_[I.type];let W;if(U){const H=kl[U];W=Ky.clone(H.uniforms)}else W=I.uniforms;return W}function O(I,U){let W=g.get(U);return W!==void 0?++W.usedTimes:(W=new Qme(t,U,I,a),p.push(W),g.set(U,W)),W}function N(I){if(--I.usedTimes===0){const U=p.indexOf(I);p[U]=p[p.length-1],p.pop(),g.delete(I.cacheKey),I.destroy()}}function k(I){u.remove(I)}function z(){u.dispose()}return{getParameters:S,getProgramCacheKey:M,getUniforms:P,acquireProgram:O,releaseProgram:N,releaseShaderCache:k,programs:p,dispose:z}}function ige(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let l=t.get(s);return l===void 0&&(l={},t.set(s,l)),l}function i(s){t.delete(s)}function r(s,l,u){t.get(s)[l]=u}function a(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:a}}function rge(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function r2(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function a2(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function s(g,v,y,_,w,S){let M=t[e];return M===void 0?(M={id:g.id,object:g,geometry:v,material:y,groupOrder:_,renderOrder:g.renderOrder,z:w,group:S},t[e]=M):(M.id=g.id,M.object=g,M.geometry=v,M.material=y,M.groupOrder=_,M.renderOrder=g.renderOrder,M.z=w,M.group=S),e++,M}function l(g,v,y,_,w,S){const M=s(g,v,y,_,w,S);y.transmission>0?i.push(M):y.transparent===!0?r.push(M):n.push(M)}function u(g,v,y,_,w,S){const M=s(g,v,y,_,w,S);y.transmission>0?i.unshift(M):y.transparent===!0?r.unshift(M):n.unshift(M)}function f(g,v){n.length>1&&n.sort(g||rge),i.length>1&&i.sort(v||r2),r.length>1&&r.sort(v||r2)}function p(){for(let g=e,v=t.length;g<v;g++){const y=t[g];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:l,unshift:u,finish:p,sort:f}}function age(){let t=new WeakMap;function e(i,r){const a=t.get(i);let s;return a===void 0?(s=new a2,t.set(i,[s])):r>=a.length?(s=new a2,a.push(s)):s=a[r],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function sge(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ne,color:new At};break;case"SpotLight":n={position:new ne,direction:new ne,color:new At,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ne,color:new At,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ne,skyColor:new At,groundColor:new At};break;case"RectAreaLight":n={color:new At,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return t[e.id]=n,n}}}function oge(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let lge=0;function uge(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function cge(t){const e=new sge,n=oge(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new ne);const r=new ne,a=new $t,s=new $t;function l(f){let p=0,g=0,v=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let y=0,_=0,w=0,S=0,M=0,R=0,T=0,P=0,O=0,N=0,k=0;f.sort(uge);for(let I=0,U=f.length;I<U;I++){const W=f[I],H=W.color,Y=W.intensity,J=W.distance;let ie=null;if(W.shadow&&W.shadow.map&&(W.shadow.map.texture.format===gp?ie=W.shadow.map.texture:ie=W.shadow.map.depthTexture||W.shadow.map.texture),W.isAmbientLight)p+=H.r*Y,g+=H.g*Y,v+=H.b*Y;else if(W.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(W.sh.coefficients[X],Y);k++}else if(W.isDirectionalLight){const X=e.get(W);if(X.color.copy(W.color).multiplyScalar(W.intensity),W.castShadow){const te=W.shadow,de=n.get(W);de.shadowIntensity=te.intensity,de.shadowBias=te.bias,de.shadowNormalBias=te.normalBias,de.shadowRadius=te.radius,de.shadowMapSize=te.mapSize,i.directionalShadow[y]=de,i.directionalShadowMap[y]=ie,i.directionalShadowMatrix[y]=W.shadow.matrix,R++}i.directional[y]=X,y++}else if(W.isSpotLight){const X=e.get(W);X.position.setFromMatrixPosition(W.matrixWorld),X.color.copy(H).multiplyScalar(Y),X.distance=J,X.coneCos=Math.cos(W.angle),X.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),X.decay=W.decay,i.spot[w]=X;const te=W.shadow;if(W.map&&(i.spotLightMap[O]=W.map,O++,te.updateMatrices(W),W.castShadow&&N++),i.spotLightMatrix[w]=te.matrix,W.castShadow){const de=n.get(W);de.shadowIntensity=te.intensity,de.shadowBias=te.bias,de.shadowNormalBias=te.normalBias,de.shadowRadius=te.radius,de.shadowMapSize=te.mapSize,i.spotShadow[w]=de,i.spotShadowMap[w]=ie,P++}w++}else if(W.isRectAreaLight){const X=e.get(W);X.color.copy(H).multiplyScalar(Y),X.halfWidth.set(W.width*.5,0,0),X.halfHeight.set(0,W.height*.5,0),i.rectArea[S]=X,S++}else if(W.isPointLight){const X=e.get(W);if(X.color.copy(W.color).multiplyScalar(W.intensity),X.distance=W.distance,X.decay=W.decay,W.castShadow){const te=W.shadow,de=n.get(W);de.shadowIntensity=te.intensity,de.shadowBias=te.bias,de.shadowNormalBias=te.normalBias,de.shadowRadius=te.radius,de.shadowMapSize=te.mapSize,de.shadowCameraNear=te.camera.near,de.shadowCameraFar=te.camera.far,i.pointShadow[_]=de,i.pointShadowMap[_]=ie,i.pointShadowMatrix[_]=W.shadow.matrix,T++}i.point[_]=X,_++}else if(W.isHemisphereLight){const X=e.get(W);X.skyColor.copy(W.color).multiplyScalar(Y),X.groundColor.copy(W.groundColor).multiplyScalar(Y),i.hemi[M]=X,M++}}S>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=wt.LTC_FLOAT_1,i.rectAreaLTC2=wt.LTC_FLOAT_2):(i.rectAreaLTC1=wt.LTC_HALF_1,i.rectAreaLTC2=wt.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=v;const z=i.hash;(z.directionalLength!==y||z.pointLength!==_||z.spotLength!==w||z.rectAreaLength!==S||z.hemiLength!==M||z.numDirectionalShadows!==R||z.numPointShadows!==T||z.numSpotShadows!==P||z.numSpotMaps!==O||z.numLightProbes!==k)&&(i.directional.length=y,i.spot.length=w,i.rectArea.length=S,i.point.length=_,i.hemi.length=M,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=P+O-N,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=k,z.directionalLength=y,z.pointLength=_,z.spotLength=w,z.rectAreaLength=S,z.hemiLength=M,z.numDirectionalShadows=R,z.numPointShadows=T,z.numSpotShadows=P,z.numSpotMaps=O,z.numLightProbes=k,i.version=lge++)}function u(f,p){let g=0,v=0,y=0,_=0,w=0;const S=p.matrixWorldInverse;for(let M=0,R=f.length;M<R;M++){const T=f[M];if(T.isDirectionalLight){const P=i.directional[g];P.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(S),g++}else if(T.isSpotLight){const P=i.spot[y];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(S),P.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(S),y++}else if(T.isRectAreaLight){const P=i.rectArea[_];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(S),s.identity(),a.copy(T.matrixWorld),a.premultiply(S),s.extractRotation(a),P.halfWidth.set(T.width*.5,0,0),P.halfHeight.set(0,T.height*.5,0),P.halfWidth.applyMatrix4(s),P.halfHeight.applyMatrix4(s),_++}else if(T.isPointLight){const P=i.point[v];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(S),v++}else if(T.isHemisphereLight){const P=i.hemi[w];P.direction.setFromMatrixPosition(T.matrixWorld),P.direction.transformDirection(S),w++}}}return{setup:l,setupView:u,state:i}}function s2(t){const e=new cge(t),n=[],i=[];function r(p){f.camera=p,n.length=0,i.length=0}function a(p){n.push(p)}function s(p){i.push(p)}function l(){e.setup(n)}function u(p){e.setupView(n,p)}const f={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function fge(t){let e=new WeakMap;function n(r,a=0){const s=e.get(r);let l;return s===void 0?(l=new s2(t),e.set(r,[l])):a>=s.length?(l=new s2(t),s.push(l)):l=s[a],l}function i(){e=new WeakMap}return{get:n,dispose:i}}const dge=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,hge=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,pge=[new ne(1,0,0),new ne(-1,0,0),new ne(0,1,0),new ne(0,-1,0),new ne(0,0,1),new ne(0,0,-1)],mge=[new ne(0,-1,0),new ne(0,-1,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,-1,0),new ne(0,-1,0)],o2=new $t,Bv=new ne,cC=new ne;function gge(t,e,n){let i=new Qg;const r=new rt,a=new rt,s=new Nn,l=new oE,u=new lE,f={},p=n.maxTextureSize,g={[sf]:vs,[vs]:sf,[nl]:nl},v=new Qs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rt},radius:{value:4}},vertexShader:dge,fragmentShader:hge}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const _=new sn;_.setAttribute("position",new oi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new ki(_,v),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_g;let M=this.type;this.render=function(N,k,z){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||N.length===0)return;N.type===ny&&(Et("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),N.type=_g);const I=t.getRenderTarget(),U=t.getActiveCubeFace(),W=t.getActiveMipmapLevel(),H=t.state;H.setBlending(Xu),H.buffers.depth.getReversed()===!0?H.buffers.color.setClear(0,0,0,0):H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const Y=M!==this.type;Y&&k.traverse(function(J){J.material&&(Array.isArray(J.material)?J.material.forEach(ie=>ie.needsUpdate=!0):J.material.needsUpdate=!0)});for(let J=0,ie=N.length;J<ie;J++){const X=N[J],te=X.shadow;if(te===void 0){Et("WebGLShadowMap:",X,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;r.copy(te.mapSize);const de=te.getFrameExtents();if(r.multiply(de),a.copy(te.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(a.x=Math.floor(p/de.x),r.x=a.x*de.x,te.mapSize.x=a.x),r.y>p&&(a.y=Math.floor(p/de.y),r.y=a.y*de.y,te.mapSize.y=a.y)),te.map===null||Y===!0){if(te.map!==null&&(te.map.depthTexture!==null&&(te.map.depthTexture.dispose(),te.map.depthTexture=null),te.map.dispose()),this.type===qh){if(X.isPointLight){Et("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}te.map=new Zs(r.x,r.y,{format:gp,type:ql,minFilter:Jn,magFilter:Jn,generateMipmaps:!1}),te.map.texture.name=X.name+".shadowMap",te.map.depthTexture=new yp(r.x,r.y,ja),te.map.depthTexture.name=X.name+".shadowMapDepth",te.map.depthTexture.format=Zu,te.map.depthTexture.compareFunction=null,te.map.depthTexture.minFilter=dr,te.map.depthTexture.magFilter=dr}else{X.isPointLight?(te.map=new ED(r.x),te.map.depthTexture=new T8(r.x,fl)):(te.map=new Zs(r.x,r.y),te.map.depthTexture=new yp(r.x,r.y,fl)),te.map.depthTexture.name=X.name+".shadowMap",te.map.depthTexture.format=Zu;const le=t.state.buffers.depth.getReversed();this.type===_g?(te.map.depthTexture.compareFunction=le?kw:Uw,te.map.depthTexture.minFilter=Jn,te.map.depthTexture.magFilter=Jn):(te.map.depthTexture.compareFunction=null,te.map.depthTexture.minFilter=dr,te.map.depthTexture.magFilter=dr)}te.camera.updateProjectionMatrix()}const he=te.map.isWebGLCubeRenderTarget?6:1;for(let le=0;le<he;le++){if(te.map.isWebGLCubeRenderTarget)t.setRenderTarget(te.map,le),t.clear();else{le===0&&(t.setRenderTarget(te.map),t.clear());const V=te.getViewport(le);s.set(a.x*V.x,a.y*V.y,a.x*V.z,a.y*V.w),H.viewport(s)}if(X.isPointLight){const V=te.camera,ee=te.matrix,re=X.distance||V.far;re!==V.far&&(V.far=re,V.updateProjectionMatrix()),Bv.setFromMatrixPosition(X.matrixWorld),V.position.copy(Bv),cC.copy(V.position),cC.add(pge[le]),V.up.copy(mge[le]),V.lookAt(cC),V.updateMatrixWorld(),ee.makeTranslation(-Bv.x,-Bv.y,-Bv.z),o2.multiplyMatrices(V.projectionMatrix,V.matrixWorldInverse),te._frustum.setFromProjectionMatrix(o2,V.coordinateSystem,V.reversedDepth)}else te.updateMatrices(X);i=te.getFrustum(),P(k,z,te.camera,X,this.type)}te.isPointLightShadow!==!0&&this.type===qh&&R(te,z),te.needsUpdate=!1}M=this.type,S.needsUpdate=!1,t.setRenderTarget(I,U,W)};function R(N,k){const z=e.update(w);v.defines.VSM_SAMPLES!==N.blurSamples&&(v.defines.VSM_SAMPLES=N.blurSamples,y.defines.VSM_SAMPLES=N.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new Zs(r.x,r.y,{format:gp,type:ql})),v.uniforms.shadow_pass.value=N.map.depthTexture,v.uniforms.resolution.value=N.mapSize,v.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(k,null,z,v,w,null),y.uniforms.shadow_pass.value=N.mapPass.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(k,null,z,y,w,null)}function T(N,k,z,I){let U=null;const W=z.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(W!==void 0)U=W;else if(U=z.isPointLight===!0?u:l,t.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0||k.alphaToCoverage===!0){const H=U.uuid,Y=k.uuid;let J=f[H];J===void 0&&(J={},f[H]=J);let ie=J[Y];ie===void 0&&(ie=U.clone(),J[Y]=ie,k.addEventListener("dispose",O)),U=ie}if(U.visible=k.visible,U.wireframe=k.wireframe,I===qh?U.side=k.shadowSide!==null?k.shadowSide:k.side:U.side=k.shadowSide!==null?k.shadowSide:g[k.side],U.alphaMap=k.alphaMap,U.alphaTest=k.alphaToCoverage===!0?.5:k.alphaTest,U.map=k.map,U.clipShadows=k.clipShadows,U.clippingPlanes=k.clippingPlanes,U.clipIntersection=k.clipIntersection,U.displacementMap=k.displacementMap,U.displacementScale=k.displacementScale,U.displacementBias=k.displacementBias,U.wireframeLinewidth=k.wireframeLinewidth,U.linewidth=k.linewidth,z.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const H=t.properties.get(U);H.light=z}return U}function P(N,k,z,I,U){if(N.visible===!1)return;if(N.layers.test(k.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&U===qh)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,N.matrixWorld);const Y=e.update(N),J=N.material;if(Array.isArray(J)){const ie=Y.groups;for(let X=0,te=ie.length;X<te;X++){const de=ie[X],he=J[de.materialIndex];if(he&&he.visible){const le=T(N,he,I,U);N.onBeforeShadow(t,N,k,z,Y,le,de),t.renderBufferDirect(z,null,Y,le,N,de),N.onAfterShadow(t,N,k,z,Y,le,de)}}}else if(J.visible){const ie=T(N,J,I,U);N.onBeforeShadow(t,N,k,z,Y,ie,null),t.renderBufferDirect(z,null,Y,ie,N,null),N.onAfterShadow(t,N,k,z,Y,ie,null)}}const H=N.children;for(let Y=0,J=H.length;Y<J;Y++)P(H[Y],k,z,I,U)}function O(N){N.target.removeEventListener("dispose",O);for(const z in f){const I=f[z],U=N.target.uuid;U in I&&(I[U].dispose(),delete I[U])}}}const vge={[HS]:WS,[XS]:KS,[qS]:ZS,[mp]:YS,[WS]:HS,[KS]:XS,[ZS]:qS,[YS]:mp};function yge(t,e){function n(){let ue=!1;const He=new Nn;let Qe=null;const mt=new Nn(0,0,0,0);return{setMask:function(et){Qe!==et&&!ue&&(t.colorMask(et,et,et,et),Qe=et)},setLocked:function(et){ue=et},setClear:function(et,ze,st,bt,xt){xt===!0&&(et*=bt,ze*=bt,st*=bt),He.set(et,ze,st,bt),mt.equals(He)===!1&&(t.clearColor(et,ze,st,bt),mt.copy(He))},reset:function(){ue=!1,Qe=null,mt.set(-1,0,0,0)}}}function i(){let ue=!1,He=!1,Qe=null,mt=null,et=null;return{setReversed:function(ze){if(He!==ze){const st=e.get("EXT_clip_control");ze?st.clipControlEXT(st.LOWER_LEFT_EXT,st.ZERO_TO_ONE_EXT):st.clipControlEXT(st.LOWER_LEFT_EXT,st.NEGATIVE_ONE_TO_ONE_EXT),He=ze;const bt=et;et=null,this.setClear(bt)}},getReversed:function(){return He},setTest:function(ze){ze?ce(t.DEPTH_TEST):Se(t.DEPTH_TEST)},setMask:function(ze){Qe!==ze&&!ue&&(t.depthMask(ze),Qe=ze)},setFunc:function(ze){if(He&&(ze=vge[ze]),mt!==ze){switch(ze){case HS:t.depthFunc(t.NEVER);break;case WS:t.depthFunc(t.ALWAYS);break;case XS:t.depthFunc(t.LESS);break;case mp:t.depthFunc(t.LEQUAL);break;case qS:t.depthFunc(t.EQUAL);break;case YS:t.depthFunc(t.GEQUAL);break;case KS:t.depthFunc(t.GREATER);break;case ZS:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}mt=ze}},setLocked:function(ze){ue=ze},setClear:function(ze){et!==ze&&(He&&(ze=1-ze),t.clearDepth(ze),et=ze)},reset:function(){ue=!1,Qe=null,mt=null,et=null,He=!1}}}function r(){let ue=!1,He=null,Qe=null,mt=null,et=null,ze=null,st=null,bt=null,xt=null;return{setTest:function(Nt){ue||(Nt?ce(t.STENCIL_TEST):Se(t.STENCIL_TEST))},setMask:function(Nt){He!==Nt&&!ue&&(t.stencilMask(Nt),He=Nt)},setFunc:function(Nt,hn,Sn){(Qe!==Nt||mt!==hn||et!==Sn)&&(t.stencilFunc(Nt,hn,Sn),Qe=Nt,mt=hn,et=Sn)},setOp:function(Nt,hn,Sn){(ze!==Nt||st!==hn||bt!==Sn)&&(t.stencilOp(Nt,hn,Sn),ze=Nt,st=hn,bt=Sn)},setLocked:function(Nt){ue=Nt},setClear:function(Nt){xt!==Nt&&(t.clearStencil(Nt),xt=Nt)},reset:function(){ue=!1,He=null,Qe=null,mt=null,et=null,ze=null,st=null,bt=null,xt=null}}}const a=new n,s=new i,l=new r,u=new WeakMap,f=new WeakMap;let p={},g={},v=new WeakMap,y=[],_=null,w=!1,S=null,M=null,R=null,T=null,P=null,O=null,N=null,k=new At(0,0,0),z=0,I=!1,U=null,W=null,H=null,Y=null,J=null;const ie=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,te=0;const de=t.getParameter(t.VERSION);de.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(de)[1]),X=te>=1):de.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(de)[1]),X=te>=2);let he=null,le={};const V=t.getParameter(t.SCISSOR_BOX),ee=t.getParameter(t.VIEWPORT),re=new Nn().fromArray(V),pe=new Nn().fromArray(ee);function ye(ue,He,Qe,mt){const et=new Uint8Array(4),ze=t.createTexture();t.bindTexture(ue,ze),t.texParameteri(ue,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ue,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let st=0;st<Qe;st++)ue===t.TEXTURE_3D||ue===t.TEXTURE_2D_ARRAY?t.texImage3D(He,0,t.RGBA,1,1,mt,0,t.RGBA,t.UNSIGNED_BYTE,et):t.texImage2D(He+st,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,et);return ze}const se={};se[t.TEXTURE_2D]=ye(t.TEXTURE_2D,t.TEXTURE_2D,1),se[t.TEXTURE_CUBE_MAP]=ye(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[t.TEXTURE_2D_ARRAY]=ye(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),se[t.TEXTURE_3D]=ye(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),ce(t.DEPTH_TEST),s.setFunc(mp),Me(!1),Ge(R3),ce(t.CULL_FACE),_e(Xu);function ce(ue){p[ue]!==!0&&(t.enable(ue),p[ue]=!0)}function Se(ue){p[ue]!==!1&&(t.disable(ue),p[ue]=!1)}function fe(ue,He){return g[ue]!==He?(t.bindFramebuffer(ue,He),g[ue]=He,ue===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=He),ue===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=He),!0):!1}function Oe(ue,He){let Qe=y,mt=!1;if(ue){Qe=v.get(He),Qe===void 0&&(Qe=[],v.set(He,Qe));const et=ue.textures;if(Qe.length!==et.length||Qe[0]!==t.COLOR_ATTACHMENT0){for(let ze=0,st=et.length;ze<st;ze++)Qe[ze]=t.COLOR_ATTACHMENT0+ze;Qe.length=et.length,mt=!0}}else Qe[0]!==t.BACK&&(Qe[0]=t.BACK,mt=!0);mt&&t.drawBuffers(Qe)}function ke(ue){return _!==ue?(t.useProgram(ue),_=ue,!0):!1}const me={[dd]:t.FUNC_ADD,[NV]:t.FUNC_SUBTRACT,[LV]:t.FUNC_REVERSE_SUBTRACT};me[IV]=t.MIN,me[UV]=t.MAX;const ut={[kV]:t.ZERO,[zV]:t.ONE,[FV]:t.SRC_COLOR,[jS]:t.SRC_ALPHA,[WV]:t.SRC_ALPHA_SATURATE,[GV]:t.DST_COLOR,[VV]:t.DST_ALPHA,[BV]:t.ONE_MINUS_SRC_COLOR,[GS]:t.ONE_MINUS_SRC_ALPHA,[HV]:t.ONE_MINUS_DST_COLOR,[jV]:t.ONE_MINUS_DST_ALPHA,[XV]:t.CONSTANT_COLOR,[qV]:t.ONE_MINUS_CONSTANT_COLOR,[YV]:t.CONSTANT_ALPHA,[KV]:t.ONE_MINUS_CONSTANT_ALPHA};function _e(ue,He,Qe,mt,et,ze,st,bt,xt,Nt){if(ue===Xu){w===!0&&(Se(t.BLEND),w=!1);return}if(w===!1&&(ce(t.BLEND),w=!0),ue!==OV){if(ue!==S||Nt!==I){if((M!==dd||P!==dd)&&(t.blendEquation(t.FUNC_ADD),M=dd,P=dd),Nt)switch(ue){case tp:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case zy:t.blendFunc(t.ONE,t.ONE);break;case P3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case D3:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Vt("WebGLState: Invalid blending: ",ue);break}else switch(ue){case tp:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case zy:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case P3:Vt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case D3:Vt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Vt("WebGLState: Invalid blending: ",ue);break}R=null,T=null,O=null,N=null,k.set(0,0,0),z=0,S=ue,I=Nt}return}et=et||He,ze=ze||Qe,st=st||mt,(He!==M||et!==P)&&(t.blendEquationSeparate(me[He],me[et]),M=He,P=et),(Qe!==R||mt!==T||ze!==O||st!==N)&&(t.blendFuncSeparate(ut[Qe],ut[mt],ut[ze],ut[st]),R=Qe,T=mt,O=ze,N=st),(bt.equals(k)===!1||xt!==z)&&(t.blendColor(bt.r,bt.g,bt.b,xt),k.copy(bt),z=xt),S=ue,I=!1}function Ae(ue,He){ue.side===nl?Se(t.CULL_FACE):ce(t.CULL_FACE);let Qe=ue.side===vs;He&&(Qe=!Qe),Me(Qe),ue.blending===tp&&ue.transparent===!1?_e(Xu):_e(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.blendColor,ue.blendAlpha,ue.premultipliedAlpha),s.setFunc(ue.depthFunc),s.setTest(ue.depthTest),s.setMask(ue.depthWrite),a.setMask(ue.colorWrite);const mt=ue.stencilWrite;l.setTest(mt),mt&&(l.setMask(ue.stencilWriteMask),l.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),l.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),at(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?ce(t.SAMPLE_ALPHA_TO_COVERAGE):Se(t.SAMPLE_ALPHA_TO_COVERAGE)}function Me(ue){U!==ue&&(ue?t.frontFace(t.CW):t.frontFace(t.CCW),U=ue)}function Ge(ue){ue!==RV?(ce(t.CULL_FACE),ue!==W&&(ue===R3?t.cullFace(t.BACK):ue===PV?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Se(t.CULL_FACE),W=ue}function Z(ue){ue!==H&&(X&&t.lineWidth(ue),H=ue)}function at(ue,He,Qe){ue?(ce(t.POLYGON_OFFSET_FILL),(Y!==He||J!==Qe)&&(t.polygonOffset(He,Qe),Y=He,J=Qe)):Se(t.POLYGON_OFFSET_FILL)}function qe(ue){ue?ce(t.SCISSOR_TEST):Se(t.SCISSOR_TEST)}function Ne(ue){ue===void 0&&(ue=t.TEXTURE0+ie-1),he!==ue&&(t.activeTexture(ue),he=ue)}function Ze(ue,He,Qe){Qe===void 0&&(he===null?Qe=t.TEXTURE0+ie-1:Qe=he);let mt=le[Qe];mt===void 0&&(mt={type:void 0,texture:void 0},le[Qe]=mt),(mt.type!==ue||mt.texture!==He)&&(he!==Qe&&(t.activeTexture(Qe),he=Qe),t.bindTexture(ue,He||se[ue]),mt.type=ue,mt.texture=He)}function q(){const ue=le[he];ue!==void 0&&ue.type!==void 0&&(t.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function j(){try{t.compressedTexImage2D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function oe(){try{t.compressedTexImage3D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function De(){try{t.texSubImage2D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function Re(){try{t.texSubImage3D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function be(){try{t.compressedTexSubImage2D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function nt(){try{t.compressedTexSubImage3D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function Je(){try{t.texStorage2D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function pt(){try{t.texStorage3D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function St(){try{t.texImage2D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function Xe(){try{t.texImage3D(...arguments)}catch(ue){Vt("WebGLState:",ue)}}function $e(ue){re.equals(ue)===!1&&(t.scissor(ue.x,ue.y,ue.z,ue.w),re.copy(ue))}function tt(ue){pe.equals(ue)===!1&&(t.viewport(ue.x,ue.y,ue.z,ue.w),pe.copy(ue))}function ae(ue,He){let Qe=f.get(He);Qe===void 0&&(Qe=new WeakMap,f.set(He,Qe));let mt=Qe.get(ue);mt===void 0&&(mt=t.getUniformBlockIndex(He,ue.name),Qe.set(ue,mt))}function Ee(ue,He){const mt=f.get(He).get(ue);u.get(He)!==mt&&(t.uniformBlockBinding(He,mt,ue.__bindingPointIndex),u.set(He,mt))}function ft(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},he=null,le={},g={},v=new WeakMap,y=[],_=null,w=!1,S=null,M=null,R=null,T=null,P=null,O=null,N=null,k=new At(0,0,0),z=0,I=!1,U=null,W=null,H=null,Y=null,J=null,re.set(0,0,t.canvas.width,t.canvas.height),pe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:ce,disable:Se,bindFramebuffer:fe,drawBuffers:Oe,useProgram:ke,setBlending:_e,setMaterial:Ae,setFlipSided:Me,setCullFace:Ge,setLineWidth:Z,setPolygonOffset:at,setScissorTest:qe,activeTexture:Ne,bindTexture:Ze,unbindTexture:q,compressedTexImage2D:j,compressedTexImage3D:oe,texImage2D:St,texImage3D:Xe,updateUBOMapping:ae,uniformBlockBinding:Ee,texStorage2D:Je,texStorage3D:pt,texSubImage2D:De,texSubImage3D:Re,compressedTexSubImage2D:be,compressedTexSubImage3D:nt,scissor:$e,viewport:tt,reset:ft}}function xge(t,e,n,i,r,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new rt,p=new WeakMap;let g;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(q,j){return y?new OffscreenCanvas(q,j):qy("canvas")}function w(q,j,oe){let De=1;const Re=Ze(q);if((Re.width>oe||Re.height>oe)&&(De=oe/Math.max(Re.width,Re.height)),De<1)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap||typeof VideoFrame<"u"&&q instanceof VideoFrame){const be=Math.floor(De*Re.width),nt=Math.floor(De*Re.height);g===void 0&&(g=_(be,nt));const Je=j?_(be,nt):g;return Je.width=be,Je.height=nt,Je.getContext("2d").drawImage(q,0,0,be,nt),Et("WebGLRenderer: Texture has been resized from ("+Re.width+"x"+Re.height+") to ("+be+"x"+nt+")."),Je}else return"data"in q&&Et("WebGLRenderer: Image in DataTexture is too big ("+Re.width+"x"+Re.height+")."),q;return q}function S(q){return q.generateMipmaps}function M(q){t.generateMipmap(q)}function R(q){return q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:q.isWebGL3DRenderTarget?t.TEXTURE_3D:q.isWebGLArrayRenderTarget||q.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function T(q,j,oe,De,Re=!1){if(q!==null){if(t[q]!==void 0)return t[q];Et("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let be=j;if(j===t.RED&&(oe===t.FLOAT&&(be=t.R32F),oe===t.HALF_FLOAT&&(be=t.R16F),oe===t.UNSIGNED_BYTE&&(be=t.R8)),j===t.RED_INTEGER&&(oe===t.UNSIGNED_BYTE&&(be=t.R8UI),oe===t.UNSIGNED_SHORT&&(be=t.R16UI),oe===t.UNSIGNED_INT&&(be=t.R32UI),oe===t.BYTE&&(be=t.R8I),oe===t.SHORT&&(be=t.R16I),oe===t.INT&&(be=t.R32I)),j===t.RG&&(oe===t.FLOAT&&(be=t.RG32F),oe===t.HALF_FLOAT&&(be=t.RG16F),oe===t.UNSIGNED_BYTE&&(be=t.RG8)),j===t.RG_INTEGER&&(oe===t.UNSIGNED_BYTE&&(be=t.RG8UI),oe===t.UNSIGNED_SHORT&&(be=t.RG16UI),oe===t.UNSIGNED_INT&&(be=t.RG32UI),oe===t.BYTE&&(be=t.RG8I),oe===t.SHORT&&(be=t.RG16I),oe===t.INT&&(be=t.RG32I)),j===t.RGB_INTEGER&&(oe===t.UNSIGNED_BYTE&&(be=t.RGB8UI),oe===t.UNSIGNED_SHORT&&(be=t.RGB16UI),oe===t.UNSIGNED_INT&&(be=t.RGB32UI),oe===t.BYTE&&(be=t.RGB8I),oe===t.SHORT&&(be=t.RGB16I),oe===t.INT&&(be=t.RGB32I)),j===t.RGBA_INTEGER&&(oe===t.UNSIGNED_BYTE&&(be=t.RGBA8UI),oe===t.UNSIGNED_SHORT&&(be=t.RGBA16UI),oe===t.UNSIGNED_INT&&(be=t.RGBA32UI),oe===t.BYTE&&(be=t.RGBA8I),oe===t.SHORT&&(be=t.RGBA16I),oe===t.INT&&(be=t.RGBA32I)),j===t.RGB&&(oe===t.UNSIGNED_INT_5_9_9_9_REV&&(be=t.RGB9_E5),oe===t.UNSIGNED_INT_10F_11F_11F_REV&&(be=t.R11F_G11F_B10F)),j===t.RGBA){const nt=Re?Wy:Dn.getTransfer(De);oe===t.FLOAT&&(be=t.RGBA32F),oe===t.HALF_FLOAT&&(be=t.RGBA16F),oe===t.UNSIGNED_BYTE&&(be=nt===$n?t.SRGB8_ALPHA8:t.RGBA8),oe===t.UNSIGNED_SHORT_4_4_4_4&&(be=t.RGBA4),oe===t.UNSIGNED_SHORT_5_5_5_1&&(be=t.RGB5_A1)}return(be===t.R16F||be===t.R32F||be===t.RG16F||be===t.RG32F||be===t.RGBA16F||be===t.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function P(q,j){let oe;return q?j===null||j===fl||j===Pg?oe=t.DEPTH24_STENCIL8:j===ja?oe=t.DEPTH32F_STENCIL8:j===Rg&&(oe=t.DEPTH24_STENCIL8,Et("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===fl||j===Pg?oe=t.DEPTH_COMPONENT24:j===ja?oe=t.DEPTH_COMPONENT32F:j===Rg&&(oe=t.DEPTH_COMPONENT16),oe}function O(q,j){return S(q)===!0||q.isFramebufferTexture&&q.minFilter!==dr&&q.minFilter!==Jn?Math.log2(Math.max(j.width,j.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?j.mipmaps.length:1}function N(q){const j=q.target;j.removeEventListener("dispose",N),z(j),j.isVideoTexture&&p.delete(j)}function k(q){const j=q.target;j.removeEventListener("dispose",k),U(j)}function z(q){const j=i.get(q);if(j.__webglInit===void 0)return;const oe=q.source,De=v.get(oe);if(De){const Re=De[j.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&I(q),Object.keys(De).length===0&&v.delete(oe)}i.remove(q)}function I(q){const j=i.get(q);t.deleteTexture(j.__webglTexture);const oe=q.source,De=v.get(oe);delete De[j.__cacheKey],s.memory.textures--}function U(q){const j=i.get(q);if(q.depthTexture&&(q.depthTexture.dispose(),i.remove(q.depthTexture)),q.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(j.__webglFramebuffer[De]))for(let Re=0;Re<j.__webglFramebuffer[De].length;Re++)t.deleteFramebuffer(j.__webglFramebuffer[De][Re]);else t.deleteFramebuffer(j.__webglFramebuffer[De]);j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer[De])}else{if(Array.isArray(j.__webglFramebuffer))for(let De=0;De<j.__webglFramebuffer.length;De++)t.deleteFramebuffer(j.__webglFramebuffer[De]);else t.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&t.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let De=0;De<j.__webglColorRenderbuffer.length;De++)j.__webglColorRenderbuffer[De]&&t.deleteRenderbuffer(j.__webglColorRenderbuffer[De]);j.__webglDepthRenderbuffer&&t.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const oe=q.textures;for(let De=0,Re=oe.length;De<Re;De++){const be=i.get(oe[De]);be.__webglTexture&&(t.deleteTexture(be.__webglTexture),s.memory.textures--),i.remove(oe[De])}i.remove(q)}let W=0;function H(){W=0}function Y(){const q=W;return q>=r.maxTextures&&Et("WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+r.maxTextures),W+=1,q}function J(q){const j=[];return j.push(q.wrapS),j.push(q.wrapT),j.push(q.wrapR||0),j.push(q.magFilter),j.push(q.minFilter),j.push(q.anisotropy),j.push(q.internalFormat),j.push(q.format),j.push(q.type),j.push(q.generateMipmaps),j.push(q.premultiplyAlpha),j.push(q.flipY),j.push(q.unpackAlignment),j.push(q.colorSpace),j.join()}function ie(q,j){const oe=i.get(q);if(q.isVideoTexture&&qe(q),q.isRenderTargetTexture===!1&&q.isExternalTexture!==!0&&q.version>0&&oe.__version!==q.version){const De=q.image;if(De===null)Et("WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)Et("WebGLRenderer: Texture marked for update but image is incomplete");else{se(oe,q,j);return}}else q.isExternalTexture&&(oe.__webglTexture=q.sourceTexture?q.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,oe.__webglTexture,t.TEXTURE0+j)}function X(q,j){const oe=i.get(q);if(q.isRenderTargetTexture===!1&&q.version>0&&oe.__version!==q.version){se(oe,q,j);return}else q.isExternalTexture&&(oe.__webglTexture=q.sourceTexture?q.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,oe.__webglTexture,t.TEXTURE0+j)}function te(q,j){const oe=i.get(q);if(q.isRenderTargetTexture===!1&&q.version>0&&oe.__version!==q.version){se(oe,q,j);return}n.bindTexture(t.TEXTURE_3D,oe.__webglTexture,t.TEXTURE0+j)}function de(q,j){const oe=i.get(q);if(q.isCubeDepthTexture!==!0&&q.version>0&&oe.__version!==q.version){ce(oe,q,j);return}n.bindTexture(t.TEXTURE_CUBE_MAP,oe.__webglTexture,t.TEXTURE0+j)}const he={[Vy]:t.REPEAT,[Ks]:t.CLAMP_TO_EDGE,[jy]:t.MIRRORED_REPEAT},le={[dr]:t.NEAREST,[dD]:t.NEAREST_MIPMAP_NEAREST,[mg]:t.NEAREST_MIPMAP_LINEAR,[Jn]:t.LINEAR,[iy]:t.LINEAR_MIPMAP_NEAREST,[ju]:t.LINEAR_MIPMAP_LINEAR},V={[a8]:t.NEVER,[c8]:t.ALWAYS,[s8]:t.LESS,[Uw]:t.LEQUAL,[o8]:t.EQUAL,[kw]:t.GEQUAL,[l8]:t.GREATER,[u8]:t.NOTEQUAL};function ee(q,j){if(j.type===ja&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===Jn||j.magFilter===iy||j.magFilter===mg||j.magFilter===ju||j.minFilter===Jn||j.minFilter===iy||j.minFilter===mg||j.minFilter===ju)&&Et("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(q,t.TEXTURE_WRAP_S,he[j.wrapS]),t.texParameteri(q,t.TEXTURE_WRAP_T,he[j.wrapT]),(q===t.TEXTURE_3D||q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(q,t.TEXTURE_WRAP_R,he[j.wrapR]),t.texParameteri(q,t.TEXTURE_MAG_FILTER,le[j.magFilter]),t.texParameteri(q,t.TEXTURE_MIN_FILTER,le[j.minFilter]),j.compareFunction&&(t.texParameteri(q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(q,t.TEXTURE_COMPARE_FUNC,V[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===dr||j.minFilter!==mg&&j.minFilter!==ju||j.type===ja&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||i.get(j).__currentAnisotropy){const oe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(q,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,r.getMaxAnisotropy())),i.get(j).__currentAnisotropy=j.anisotropy}}}function re(q,j){let oe=!1;q.__webglInit===void 0&&(q.__webglInit=!0,j.addEventListener("dispose",N));const De=j.source;let Re=v.get(De);Re===void 0&&(Re={},v.set(De,Re));const be=J(j);if(be!==q.__cacheKey){Re[be]===void 0&&(Re[be]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,oe=!0),Re[be].usedTimes++;const nt=Re[q.__cacheKey];nt!==void 0&&(Re[q.__cacheKey].usedTimes--,nt.usedTimes===0&&I(j)),q.__cacheKey=be,q.__webglTexture=Re[be].texture}return oe}function pe(q,j,oe){return Math.floor(Math.floor(q/oe)/j)}function ye(q,j,oe,De){const be=q.updateRanges;if(be.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,j.width,j.height,oe,De,j.data);else{be.sort((Xe,$e)=>Xe.start-$e.start);let nt=0;for(let Xe=1;Xe<be.length;Xe++){const $e=be[nt],tt=be[Xe],ae=$e.start+$e.count,Ee=pe(tt.start,j.width,4),ft=pe($e.start,j.width,4);tt.start<=ae+1&&Ee===ft&&pe(tt.start+tt.count-1,j.width,4)===Ee?$e.count=Math.max($e.count,tt.start+tt.count-$e.start):(++nt,be[nt]=tt)}be.length=nt+1;const Je=t.getParameter(t.UNPACK_ROW_LENGTH),pt=t.getParameter(t.UNPACK_SKIP_PIXELS),St=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,j.width);for(let Xe=0,$e=be.length;Xe<$e;Xe++){const tt=be[Xe],ae=Math.floor(tt.start/4),Ee=Math.ceil(tt.count/4),ft=ae%j.width,ue=Math.floor(ae/j.width),He=Ee,Qe=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,ft),t.pixelStorei(t.UNPACK_SKIP_ROWS,ue),n.texSubImage2D(t.TEXTURE_2D,0,ft,ue,He,Qe,oe,De,j.data)}q.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Je),t.pixelStorei(t.UNPACK_SKIP_PIXELS,pt),t.pixelStorei(t.UNPACK_SKIP_ROWS,St)}}function se(q,j,oe){let De=t.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(De=t.TEXTURE_2D_ARRAY),j.isData3DTexture&&(De=t.TEXTURE_3D);const Re=re(q,j),be=j.source;n.bindTexture(De,q.__webglTexture,t.TEXTURE0+oe);const nt=i.get(be);if(be.version!==nt.__version||Re===!0){n.activeTexture(t.TEXTURE0+oe);const Je=Dn.getPrimaries(Dn.workingColorSpace),pt=j.colorSpace===Gc?null:Dn.getPrimaries(j.colorSpace),St=j.colorSpace===Gc||Je===pt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);let Xe=w(j.image,!1,r.maxTextureSize);Xe=Ne(j,Xe);const $e=a.convert(j.format,j.colorSpace),tt=a.convert(j.type);let ae=T(j.internalFormat,$e,tt,j.colorSpace,j.isVideoTexture);ee(De,j);let Ee;const ft=j.mipmaps,ue=j.isVideoTexture!==!0,He=nt.__version===void 0||Re===!0,Qe=be.dataReady,mt=O(j,Xe);if(j.isDepthTexture)ae=P(j.format===gd,j.type),He&&(ue?n.texStorage2D(t.TEXTURE_2D,1,ae,Xe.width,Xe.height):n.texImage2D(t.TEXTURE_2D,0,ae,Xe.width,Xe.height,0,$e,tt,null));else if(j.isDataTexture)if(ft.length>0){ue&&He&&n.texStorage2D(t.TEXTURE_2D,mt,ae,ft[0].width,ft[0].height);for(let et=0,ze=ft.length;et<ze;et++)Ee=ft[et],ue?Qe&&n.texSubImage2D(t.TEXTURE_2D,et,0,0,Ee.width,Ee.height,$e,tt,Ee.data):n.texImage2D(t.TEXTURE_2D,et,ae,Ee.width,Ee.height,0,$e,tt,Ee.data);j.generateMipmaps=!1}else ue?(He&&n.texStorage2D(t.TEXTURE_2D,mt,ae,Xe.width,Xe.height),Qe&&ye(j,Xe,$e,tt)):n.texImage2D(t.TEXTURE_2D,0,ae,Xe.width,Xe.height,0,$e,tt,Xe.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){ue&&He&&n.texStorage3D(t.TEXTURE_2D_ARRAY,mt,ae,ft[0].width,ft[0].height,Xe.depth);for(let et=0,ze=ft.length;et<ze;et++)if(Ee=ft[et],j.format!==Ga)if($e!==null)if(ue){if(Qe)if(j.layerUpdates.size>0){const st=V3(Ee.width,Ee.height,j.format,j.type);for(const bt of j.layerUpdates){const xt=Ee.data.subarray(bt*st/Ee.data.BYTES_PER_ELEMENT,(bt+1)*st/Ee.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,et,0,0,bt,Ee.width,Ee.height,1,$e,xt)}j.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,et,0,0,0,Ee.width,Ee.height,Xe.depth,$e,Ee.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,et,ae,Ee.width,Ee.height,Xe.depth,0,Ee.data,0,0);else Et("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ue?Qe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,et,0,0,0,Ee.width,Ee.height,Xe.depth,$e,tt,Ee.data):n.texImage3D(t.TEXTURE_2D_ARRAY,et,ae,Ee.width,Ee.height,Xe.depth,0,$e,tt,Ee.data)}else{ue&&He&&n.texStorage2D(t.TEXTURE_2D,mt,ae,ft[0].width,ft[0].height);for(let et=0,ze=ft.length;et<ze;et++)Ee=ft[et],j.format!==Ga?$e!==null?ue?Qe&&n.compressedTexSubImage2D(t.TEXTURE_2D,et,0,0,Ee.width,Ee.height,$e,Ee.data):n.compressedTexImage2D(t.TEXTURE_2D,et,ae,Ee.width,Ee.height,0,Ee.data):Et("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ue?Qe&&n.texSubImage2D(t.TEXTURE_2D,et,0,0,Ee.width,Ee.height,$e,tt,Ee.data):n.texImage2D(t.TEXTURE_2D,et,ae,Ee.width,Ee.height,0,$e,tt,Ee.data)}else if(j.isDataArrayTexture)if(ue){if(He&&n.texStorage3D(t.TEXTURE_2D_ARRAY,mt,ae,Xe.width,Xe.height,Xe.depth),Qe)if(j.layerUpdates.size>0){const et=V3(Xe.width,Xe.height,j.format,j.type);for(const ze of j.layerUpdates){const st=Xe.data.subarray(ze*et/Xe.data.BYTES_PER_ELEMENT,(ze+1)*et/Xe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,ze,Xe.width,Xe.height,1,$e,tt,st)}j.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,$e,tt,Xe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ae,Xe.width,Xe.height,Xe.depth,0,$e,tt,Xe.data);else if(j.isData3DTexture)ue?(He&&n.texStorage3D(t.TEXTURE_3D,mt,ae,Xe.width,Xe.height,Xe.depth),Qe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,$e,tt,Xe.data)):n.texImage3D(t.TEXTURE_3D,0,ae,Xe.width,Xe.height,Xe.depth,0,$e,tt,Xe.data);else if(j.isFramebufferTexture){if(He)if(ue)n.texStorage2D(t.TEXTURE_2D,mt,ae,Xe.width,Xe.height);else{let et=Xe.width,ze=Xe.height;for(let st=0;st<mt;st++)n.texImage2D(t.TEXTURE_2D,st,ae,et,ze,0,$e,tt,null),et>>=1,ze>>=1}}else if(ft.length>0){if(ue&&He){const et=Ze(ft[0]);n.texStorage2D(t.TEXTURE_2D,mt,ae,et.width,et.height)}for(let et=0,ze=ft.length;et<ze;et++)Ee=ft[et],ue?Qe&&n.texSubImage2D(t.TEXTURE_2D,et,0,0,$e,tt,Ee):n.texImage2D(t.TEXTURE_2D,et,ae,$e,tt,Ee);j.generateMipmaps=!1}else if(ue){if(He){const et=Ze(Xe);n.texStorage2D(t.TEXTURE_2D,mt,ae,et.width,et.height)}Qe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,$e,tt,Xe)}else n.texImage2D(t.TEXTURE_2D,0,ae,$e,tt,Xe);S(j)&&M(De),nt.__version=be.version,j.onUpdate&&j.onUpdate(j)}q.__version=j.version}function ce(q,j,oe){if(j.image.length!==6)return;const De=re(q,j),Re=j.source;n.bindTexture(t.TEXTURE_CUBE_MAP,q.__webglTexture,t.TEXTURE0+oe);const be=i.get(Re);if(Re.version!==be.__version||De===!0){n.activeTexture(t.TEXTURE0+oe);const nt=Dn.getPrimaries(Dn.workingColorSpace),Je=j.colorSpace===Gc?null:Dn.getPrimaries(j.colorSpace),pt=j.colorSpace===Gc||nt===Je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const St=j.isCompressedTexture||j.image[0].isCompressedTexture,Xe=j.image[0]&&j.image[0].isDataTexture,$e=[];for(let ze=0;ze<6;ze++)!St&&!Xe?$e[ze]=w(j.image[ze],!0,r.maxCubemapSize):$e[ze]=Xe?j.image[ze].image:j.image[ze],$e[ze]=Ne(j,$e[ze]);const tt=$e[0],ae=a.convert(j.format,j.colorSpace),Ee=a.convert(j.type),ft=T(j.internalFormat,ae,Ee,j.colorSpace),ue=j.isVideoTexture!==!0,He=be.__version===void 0||De===!0,Qe=Re.dataReady;let mt=O(j,tt);ee(t.TEXTURE_CUBE_MAP,j);let et;if(St){ue&&He&&n.texStorage2D(t.TEXTURE_CUBE_MAP,mt,ft,tt.width,tt.height);for(let ze=0;ze<6;ze++){et=$e[ze].mipmaps;for(let st=0;st<et.length;st++){const bt=et[st];j.format!==Ga?ae!==null?ue?Qe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,st,0,0,bt.width,bt.height,ae,bt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,st,ft,bt.width,bt.height,0,bt.data):Et("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ue?Qe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,st,0,0,bt.width,bt.height,ae,Ee,bt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,st,ft,bt.width,bt.height,0,ae,Ee,bt.data)}}}else{if(et=j.mipmaps,ue&&He){et.length>0&&mt++;const ze=Ze($e[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,mt,ft,ze.width,ze.height)}for(let ze=0;ze<6;ze++)if(Xe){ue?Qe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,$e[ze].width,$e[ze].height,ae,Ee,$e[ze].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,ft,$e[ze].width,$e[ze].height,0,ae,Ee,$e[ze].data);for(let st=0;st<et.length;st++){const xt=et[st].image[ze].image;ue?Qe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,st+1,0,0,xt.width,xt.height,ae,Ee,xt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,st+1,ft,xt.width,xt.height,0,ae,Ee,xt.data)}}else{ue?Qe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,ae,Ee,$e[ze]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,ft,ae,Ee,$e[ze]);for(let st=0;st<et.length;st++){const bt=et[st];ue?Qe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,st+1,0,0,ae,Ee,bt.image[ze]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,st+1,ft,ae,Ee,bt.image[ze])}}}S(j)&&M(t.TEXTURE_CUBE_MAP),be.__version=Re.version,j.onUpdate&&j.onUpdate(j)}q.__version=j.version}function Se(q,j,oe,De,Re,be){const nt=a.convert(oe.format,oe.colorSpace),Je=a.convert(oe.type),pt=T(oe.internalFormat,nt,Je,oe.colorSpace),St=i.get(j),Xe=i.get(oe);if(Xe.__renderTarget=j,!St.__hasExternalTextures){const $e=Math.max(1,j.width>>be),tt=Math.max(1,j.height>>be);Re===t.TEXTURE_3D||Re===t.TEXTURE_2D_ARRAY?n.texImage3D(Re,be,pt,$e,tt,j.depth,0,nt,Je,null):n.texImage2D(Re,be,pt,$e,tt,0,nt,Je,null)}n.bindFramebuffer(t.FRAMEBUFFER,q),at(j)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,De,Re,Xe.__webglTexture,0,Z(j)):(Re===t.TEXTURE_2D||Re>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,De,Re,Xe.__webglTexture,be),n.bindFramebuffer(t.FRAMEBUFFER,null)}function fe(q,j,oe){if(t.bindRenderbuffer(t.RENDERBUFFER,q),j.depthBuffer){const De=j.depthTexture,Re=De&&De.isDepthTexture?De.type:null,be=P(j.stencilBuffer,Re),nt=j.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;at(j)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Z(j),be,j.width,j.height):oe?t.renderbufferStorageMultisample(t.RENDERBUFFER,Z(j),be,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,be,j.width,j.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,nt,t.RENDERBUFFER,q)}else{const De=j.textures;for(let Re=0;Re<De.length;Re++){const be=De[Re],nt=a.convert(be.format,be.colorSpace),Je=a.convert(be.type),pt=T(be.internalFormat,nt,Je,be.colorSpace);at(j)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Z(j),pt,j.width,j.height):oe?t.renderbufferStorageMultisample(t.RENDERBUFFER,Z(j),pt,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,pt,j.width,j.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Oe(q,j,oe){const De=j.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,q),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=i.get(j.depthTexture);if(Re.__renderTarget=j,(!Re.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),De){if(Re.__webglInit===void 0&&(Re.__webglInit=!0,j.depthTexture.addEventListener("dispose",N)),Re.__webglTexture===void 0){Re.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Re.__webglTexture),ee(t.TEXTURE_CUBE_MAP,j.depthTexture);const St=a.convert(j.depthTexture.format),Xe=a.convert(j.depthTexture.type);let $e;j.depthTexture.format===Zu?$e=t.DEPTH_COMPONENT24:j.depthTexture.format===gd&&($e=t.DEPTH24_STENCIL8);for(let tt=0;tt<6;tt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,$e,j.width,j.height,0,St,Xe,null)}}else ie(j.depthTexture,0);const be=Re.__webglTexture,nt=Z(j),Je=De?t.TEXTURE_CUBE_MAP_POSITIVE_X+oe:t.TEXTURE_2D,pt=j.depthTexture.format===gd?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(j.depthTexture.format===Zu)at(j)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pt,Je,be,0,nt):t.framebufferTexture2D(t.FRAMEBUFFER,pt,Je,be,0);else if(j.depthTexture.format===gd)at(j)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pt,Je,be,0,nt):t.framebufferTexture2D(t.FRAMEBUFFER,pt,Je,be,0);else throw new Error("Unknown depthTexture format")}function ke(q){const j=i.get(q),oe=q.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==q.depthTexture){const De=q.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),De){const Re=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,De.removeEventListener("dispose",Re)};De.addEventListener("dispose",Re),j.__depthDisposeCallback=Re}j.__boundDepthTexture=De}if(q.depthTexture&&!j.__autoAllocateDepthBuffer)if(oe)for(let De=0;De<6;De++)Oe(j.__webglFramebuffer[De],q,De);else{const De=q.texture.mipmaps;De&&De.length>0?Oe(j.__webglFramebuffer[0],q,0):Oe(j.__webglFramebuffer,q,0)}else if(oe){j.__webglDepthbuffer=[];for(let De=0;De<6;De++)if(n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer[De]),j.__webglDepthbuffer[De]===void 0)j.__webglDepthbuffer[De]=t.createRenderbuffer(),fe(j.__webglDepthbuffer[De],q,!1);else{const Re=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,be=j.__webglDepthbuffer[De];t.bindRenderbuffer(t.RENDERBUFFER,be),t.framebufferRenderbuffer(t.FRAMEBUFFER,Re,t.RENDERBUFFER,be)}}else{const De=q.texture.mipmaps;if(De&&De.length>0?n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=t.createRenderbuffer(),fe(j.__webglDepthbuffer,q,!1);else{const Re=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,be=j.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,be),t.framebufferRenderbuffer(t.FRAMEBUFFER,Re,t.RENDERBUFFER,be)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function me(q,j,oe){const De=i.get(q);j!==void 0&&Se(De.__webglFramebuffer,q,q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),oe!==void 0&&ke(q)}function ut(q){const j=q.texture,oe=i.get(q),De=i.get(j);q.addEventListener("dispose",k);const Re=q.textures,be=q.isWebGLCubeRenderTarget===!0,nt=Re.length>1;if(nt||(De.__webglTexture===void 0&&(De.__webglTexture=t.createTexture()),De.__version=j.version,s.memory.textures++),be){oe.__webglFramebuffer=[];for(let Je=0;Je<6;Je++)if(j.mipmaps&&j.mipmaps.length>0){oe.__webglFramebuffer[Je]=[];for(let pt=0;pt<j.mipmaps.length;pt++)oe.__webglFramebuffer[Je][pt]=t.createFramebuffer()}else oe.__webglFramebuffer[Je]=t.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Je=0;Je<j.mipmaps.length;Je++)oe.__webglFramebuffer[Je]=t.createFramebuffer()}else oe.__webglFramebuffer=t.createFramebuffer();if(nt)for(let Je=0,pt=Re.length;Je<pt;Je++){const St=i.get(Re[Je]);St.__webglTexture===void 0&&(St.__webglTexture=t.createTexture(),s.memory.textures++)}if(q.samples>0&&at(q)===!1){oe.__webglMultisampledFramebuffer=t.createFramebuffer(),oe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Je=0;Je<Re.length;Je++){const pt=Re[Je];oe.__webglColorRenderbuffer[Je]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,oe.__webglColorRenderbuffer[Je]);const St=a.convert(pt.format,pt.colorSpace),Xe=a.convert(pt.type),$e=T(pt.internalFormat,St,Xe,pt.colorSpace,q.isXRRenderTarget===!0),tt=Z(q);t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,$e,q.width,q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,oe.__webglColorRenderbuffer[Je])}t.bindRenderbuffer(t.RENDERBUFFER,null),q.depthBuffer&&(oe.__webglDepthRenderbuffer=t.createRenderbuffer(),fe(oe.__webglDepthRenderbuffer,q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(be){n.bindTexture(t.TEXTURE_CUBE_MAP,De.__webglTexture),ee(t.TEXTURE_CUBE_MAP,j);for(let Je=0;Je<6;Je++)if(j.mipmaps&&j.mipmaps.length>0)for(let pt=0;pt<j.mipmaps.length;pt++)Se(oe.__webglFramebuffer[Je][pt],q,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,pt);else Se(oe.__webglFramebuffer[Je],q,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0);S(j)&&M(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(nt){for(let Je=0,pt=Re.length;Je<pt;Je++){const St=Re[Je],Xe=i.get(St);let $e=t.TEXTURE_2D;(q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&($e=q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture($e,Xe.__webglTexture),ee($e,St),Se(oe.__webglFramebuffer,q,St,t.COLOR_ATTACHMENT0+Je,$e,0),S(St)&&M($e)}n.unbindTexture()}else{let Je=t.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(Je=q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Je,De.__webglTexture),ee(Je,j),j.mipmaps&&j.mipmaps.length>0)for(let pt=0;pt<j.mipmaps.length;pt++)Se(oe.__webglFramebuffer[pt],q,j,t.COLOR_ATTACHMENT0,Je,pt);else Se(oe.__webglFramebuffer,q,j,t.COLOR_ATTACHMENT0,Je,0);S(j)&&M(Je),n.unbindTexture()}q.depthBuffer&&ke(q)}function _e(q){const j=q.textures;for(let oe=0,De=j.length;oe<De;oe++){const Re=j[oe];if(S(Re)){const be=R(q),nt=i.get(Re).__webglTexture;n.bindTexture(be,nt),M(be),n.unbindTexture()}}}const Ae=[],Me=[];function Ge(q){if(q.samples>0){if(at(q)===!1){const j=q.textures,oe=q.width,De=q.height;let Re=t.COLOR_BUFFER_BIT;const be=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=i.get(q),Je=j.length>1;if(Je)for(let St=0;St<j.length;St++)n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,nt.__webglMultisampledFramebuffer);const pt=q.texture.mipmaps;pt&&pt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer);for(let St=0;St<j.length;St++){if(q.resolveDepthBuffer&&(q.depthBuffer&&(Re|=t.DEPTH_BUFFER_BIT),q.stencilBuffer&&q.resolveStencilBuffer&&(Re|=t.STENCIL_BUFFER_BIT)),Je){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,nt.__webglColorRenderbuffer[St]);const Xe=i.get(j[St]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Xe,0)}t.blitFramebuffer(0,0,oe,De,0,0,oe,De,Re,t.NEAREST),u===!0&&(Ae.length=0,Me.length=0,Ae.push(t.COLOR_ATTACHMENT0+St),q.depthBuffer&&q.resolveDepthBuffer===!1&&(Ae.push(be),Me.push(be),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ae))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Je)for(let St=0;St<j.length;St++){n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.RENDERBUFFER,nt.__webglColorRenderbuffer[St]);const Xe=i.get(j[St]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.TEXTURE_2D,Xe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglMultisampledFramebuffer)}else if(q.depthBuffer&&q.resolveDepthBuffer===!1&&u){const j=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[j])}}}function Z(q){return Math.min(r.maxSamples,q.samples)}function at(q){const j=i.get(q);return q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function qe(q){const j=s.render.frame;p.get(q)!==j&&(p.set(q,j),q.update())}function Ne(q,j){const oe=q.colorSpace,De=q.format,Re=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||oe!==Ad&&oe!==Gc&&(Dn.getTransfer(oe)===$n?(De!==Ga||Re!==ds)&&Et("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Vt("WebGLTextures: Unsupported texture color space:",oe)),j}function Ze(q){return typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement?(f.width=q.naturalWidth||q.width,f.height=q.naturalHeight||q.height):typeof VideoFrame<"u"&&q instanceof VideoFrame?(f.width=q.displayWidth,f.height=q.displayHeight):(f.width=q.width,f.height=q.height),f}this.allocateTextureUnit=Y,this.resetTextureUnits=H,this.setTexture2D=ie,this.setTexture2DArray=X,this.setTexture3D=te,this.setTextureCube=de,this.rebindTextures=me,this.setupRenderTarget=ut,this.updateRenderTargetMipmap=_e,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=at,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function vj(t,e){function n(i,r=Gc){let a;const s=Dn.getTransfer(r);if(i===ds)return t.UNSIGNED_BYTE;if(i===Pw)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Dw)return t.UNSIGNED_SHORT_5_5_5_1;if(i===mD)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===gD)return t.UNSIGNED_INT_10F_11F_11F_REV;if(i===hD)return t.BYTE;if(i===pD)return t.SHORT;if(i===Rg)return t.UNSIGNED_SHORT;if(i===Rw)return t.INT;if(i===fl)return t.UNSIGNED_INT;if(i===ja)return t.FLOAT;if(i===ql)return t.HALF_FLOAT;if(i===vD)return t.ALPHA;if(i===yD)return t.RGB;if(i===Ga)return t.RGBA;if(i===Zu)return t.DEPTH_COMPONENT;if(i===gd)return t.DEPTH_STENCIL;if(i===Ow)return t.RED;if(i===Dx)return t.RED_INTEGER;if(i===gp)return t.RG;if(i===Nw)return t.RG_INTEGER;if(i===Lw)return t.RGBA_INTEGER;if(i===ry||i===ay||i===sy||i===oy)if(s===$n)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===ry)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===ay)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===sy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===oy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===ry)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===ay)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===sy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===oy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===$S||i===QS||i===JS||i===eM)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===$S)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===QS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===JS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===eM)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===tM||i===nM||i===iM||i===rM||i===aM||i===sM||i===oM)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===tM||i===nM)return s===$n?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===iM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(i===rM)return a.COMPRESSED_R11_EAC;if(i===aM)return a.COMPRESSED_SIGNED_R11_EAC;if(i===sM)return a.COMPRESSED_RG11_EAC;if(i===oM)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(i===lM||i===uM||i===cM||i===fM||i===dM||i===hM||i===pM||i===mM||i===gM||i===vM||i===yM||i===xM||i===bM||i===_M)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===lM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===uM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===cM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===fM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===dM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===hM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===pM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===mM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===gM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===vM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===yM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===xM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===bM)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===_M)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===SM||i===MM||i===wM)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===SM)return s===$n?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===MM)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===wM)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===EM||i===AM||i===TM||i===CM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===EM)return a.COMPRESSED_RED_RGTC1_EXT;if(i===AM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===TM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===CM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Pg?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const bge=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_ge=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Sge{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new PD(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Qs({vertexShader:bge,fragmentShader:_ge,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ki(new mf(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Mge extends Ju{constructor(e,n){super();const i=this;let r=null,a=1,s=null,l="local-floor",u=1,f=null,p=null,g=null,v=null,y=null,_=null;const w=typeof XRWebGLBinding<"u",S=new Sge,M={},R=n.getContextAttributes();let T=null,P=null;const O=[],N=[],k=new rt;let z=null;const I=new fr;I.viewport=new Nn;const U=new fr;U.viewport=new Nn;const W=[I,U],H=new aj;let Y=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let ce=O[se];return ce===void 0&&(ce=new W_,O[se]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(se){let ce=O[se];return ce===void 0&&(ce=new W_,O[se]=ce),ce.getGripSpace()},this.getHand=function(se){let ce=O[se];return ce===void 0&&(ce=new W_,O[se]=ce),ce.getHandSpace()};function ie(se){const ce=N.indexOf(se.inputSource);if(ce===-1)return;const Se=O[ce];Se!==void 0&&(Se.update(se.inputSource,se.frame,f||s),Se.dispatchEvent({type:se.type,data:se.inputSource}))}function X(){r.removeEventListener("select",ie),r.removeEventListener("selectstart",ie),r.removeEventListener("selectend",ie),r.removeEventListener("squeeze",ie),r.removeEventListener("squeezestart",ie),r.removeEventListener("squeezeend",ie),r.removeEventListener("end",X),r.removeEventListener("inputsourceschange",te);for(let se=0;se<O.length;se++){const ce=N[se];ce!==null&&(N[se]=null,O[se].disconnect(ce))}Y=null,J=null,S.reset();for(const se in M)delete M[se];e.setRenderTarget(T),y=null,v=null,g=null,r=null,P=null,ye.stop(),i.isPresenting=!1,e.setPixelRatio(z),e.setSize(k.width,k.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){a=se,i.isPresenting===!0&&Et("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){l=se,i.isPresenting===!0&&Et("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(se){f=se},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return g===null&&w&&(g=new XRWebGLBinding(r,n)),g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(se){if(r=se,r!==null){if(T=e.getRenderTarget(),r.addEventListener("select",ie),r.addEventListener("selectstart",ie),r.addEventListener("selectend",ie),r.addEventListener("squeeze",ie),r.addEventListener("squeezestart",ie),r.addEventListener("squeezeend",ie),r.addEventListener("end",X),r.addEventListener("inputsourceschange",te),R.xrCompatible!==!0&&await n.makeXRCompatible(),z=e.getPixelRatio(),e.getSize(k),w&&"createProjectionLayer"in XRWebGLBinding.prototype){let Se=null,fe=null,Oe=null;R.depth&&(Oe=R.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Se=R.stencil?gd:Zu,fe=R.stencil?Pg:fl);const ke={colorFormat:n.RGBA8,depthFormat:Oe,scaleFactor:a};g=this.getBinding(),v=g.createProjectionLayer(ke),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),P=new Zs(v.textureWidth,v.textureHeight,{format:Ga,type:ds,depthTexture:new yp(v.textureWidth,v.textureHeight,fe,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const Se={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(r,n,Se),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),P=new Zs(y.framebufferWidth,y.framebufferHeight,{format:Ga,type:ds,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}P.isXRRenderTarget=!0,this.setFoveation(u),f=null,s=await r.requestReferenceSpace(l),ye.setContext(r),ye.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function te(se){for(let ce=0;ce<se.removed.length;ce++){const Se=se.removed[ce],fe=N.indexOf(Se);fe>=0&&(N[fe]=null,O[fe].disconnect(Se))}for(let ce=0;ce<se.added.length;ce++){const Se=se.added[ce];let fe=N.indexOf(Se);if(fe===-1){for(let ke=0;ke<O.length;ke++)if(ke>=N.length){N.push(Se),fe=ke;break}else if(N[ke]===null){N[ke]=Se,fe=ke;break}if(fe===-1)break}const Oe=O[fe];Oe&&Oe.connect(Se)}}const de=new ne,he=new ne;function le(se,ce,Se){de.setFromMatrixPosition(ce.matrixWorld),he.setFromMatrixPosition(Se.matrixWorld);const fe=de.distanceTo(he),Oe=ce.projectionMatrix.elements,ke=Se.projectionMatrix.elements,me=Oe[14]/(Oe[10]-1),ut=Oe[14]/(Oe[10]+1),_e=(Oe[9]+1)/Oe[5],Ae=(Oe[9]-1)/Oe[5],Me=(Oe[8]-1)/Oe[0],Ge=(ke[8]+1)/ke[0],Z=me*Me,at=me*Ge,qe=fe/(-Me+Ge),Ne=qe*-Me;if(ce.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(Ne),se.translateZ(qe),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),Oe[10]===-1)se.projectionMatrix.copy(ce.projectionMatrix),se.projectionMatrixInverse.copy(ce.projectionMatrixInverse);else{const Ze=me+qe,q=ut+qe,j=Z-Ne,oe=at+(fe-Ne),De=_e*ut/q*Ze,Re=Ae*ut/q*Ze;se.projectionMatrix.makePerspective(j,oe,De,Re,Ze,q),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function V(se,ce){ce===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(ce.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(r===null)return;let ce=se.near,Se=se.far;S.texture!==null&&(S.depthNear>0&&(ce=S.depthNear),S.depthFar>0&&(Se=S.depthFar)),H.near=U.near=I.near=ce,H.far=U.far=I.far=Se,(Y!==H.near||J!==H.far)&&(r.updateRenderState({depthNear:H.near,depthFar:H.far}),Y=H.near,J=H.far),H.layers.mask=se.layers.mask|6,I.layers.mask=H.layers.mask&3,U.layers.mask=H.layers.mask&5;const fe=se.parent,Oe=H.cameras;V(H,fe);for(let ke=0;ke<Oe.length;ke++)V(Oe[ke],fe);Oe.length===2?le(H,I,U):H.projectionMatrix.copy(I.projectionMatrix),ee(se,H,fe)};function ee(se,ce,Se){Se===null?se.matrix.copy(ce.matrixWorld):(se.matrix.copy(Se.matrixWorld),se.matrix.invert(),se.matrix.multiply(ce.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(ce.projectionMatrix),se.projectionMatrixInverse.copy(ce.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Ng*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return H},this.getFoveation=function(){if(!(v===null&&y===null))return u},this.setFoveation=function(se){u=se,v!==null&&(v.fixedFoveation=se),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=se)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(H)},this.getCameraTexture=function(se){return M[se]};let re=null;function pe(se,ce){if(p=ce.getViewerPose(f||s),_=ce,p!==null){const Se=p.views;y!==null&&(e.setRenderTargetFramebuffer(P,y.framebuffer),e.setRenderTarget(P));let fe=!1;Se.length!==H.cameras.length&&(H.cameras.length=0,fe=!0);for(let ut=0;ut<Se.length;ut++){const _e=Se[ut];let Ae=null;if(y!==null)Ae=y.getViewport(_e);else{const Ge=g.getViewSubImage(v,_e);Ae=Ge.viewport,ut===0&&(e.setRenderTargetTextures(P,Ge.colorTexture,Ge.depthStencilTexture),e.setRenderTarget(P))}let Me=W[ut];Me===void 0&&(Me=new fr,Me.layers.enable(ut),Me.viewport=new Nn,W[ut]=Me),Me.matrix.fromArray(_e.transform.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.projectionMatrix.fromArray(_e.projectionMatrix),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert(),Me.viewport.set(Ae.x,Ae.y,Ae.width,Ae.height),ut===0&&(H.matrix.copy(Me.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale)),fe===!0&&H.cameras.push(Me)}const Oe=r.enabledFeatures;if(Oe&&Oe.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&w){g=i.getBinding();const ut=g.getDepthInformation(Se[0]);ut&&ut.isValid&&ut.texture&&S.init(ut,r.renderState)}if(Oe&&Oe.includes("camera-access")&&w){e.state.unbindTexture(),g=i.getBinding();for(let ut=0;ut<Se.length;ut++){const _e=Se[ut].camera;if(_e){let Ae=M[_e];Ae||(Ae=new PD,M[_e]=Ae);const Me=g.getCameraImage(_e);Ae.sourceTexture=Me}}}}for(let Se=0;Se<O.length;Se++){const fe=N[Se],Oe=O[Se];fe!==null&&Oe!==void 0&&Oe.update(fe,ce,f||s)}re&&re(se,ce),ce.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ce}),_=null}const ye=new dj;ye.setAnimationLoop(pe),this.setAnimationLoop=function(se){re=se},this.dispose=function(){}}}const Lh=new _o,wge=new $t;function Ege(t,e){function n(S,M){S.matrixAutoUpdate===!0&&S.updateMatrix(),M.value.copy(S.matrix)}function i(S,M){M.color.getRGB(S.fogColor.value,g8(t)),M.isFog?(S.fogNear.value=M.near,S.fogFar.value=M.far):M.isFogExp2&&(S.fogDensity.value=M.density)}function r(S,M,R,T,P){M.isMeshBasicMaterial||M.isMeshLambertMaterial?a(S,M):M.isMeshToonMaterial?(a(S,M),g(S,M)):M.isMeshPhongMaterial?(a(S,M),p(S,M)):M.isMeshStandardMaterial?(a(S,M),v(S,M),M.isMeshPhysicalMaterial&&y(S,M,P)):M.isMeshMatcapMaterial?(a(S,M),_(S,M)):M.isMeshDepthMaterial?a(S,M):M.isMeshDistanceMaterial?(a(S,M),w(S,M)):M.isMeshNormalMaterial?a(S,M):M.isLineBasicMaterial?(s(S,M),M.isLineDashedMaterial&&l(S,M)):M.isPointsMaterial?u(S,M,R,T):M.isSpriteMaterial?f(S,M):M.isShadowMaterial?(S.color.value.copy(M.color),S.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function a(S,M){S.opacity.value=M.opacity,M.color&&S.diffuse.value.copy(M.color),M.emissive&&S.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(S.map.value=M.map,n(M.map,S.mapTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.bumpMap&&(S.bumpMap.value=M.bumpMap,n(M.bumpMap,S.bumpMapTransform),S.bumpScale.value=M.bumpScale,M.side===vs&&(S.bumpScale.value*=-1)),M.normalMap&&(S.normalMap.value=M.normalMap,n(M.normalMap,S.normalMapTransform),S.normalScale.value.copy(M.normalScale),M.side===vs&&S.normalScale.value.negate()),M.displacementMap&&(S.displacementMap.value=M.displacementMap,n(M.displacementMap,S.displacementMapTransform),S.displacementScale.value=M.displacementScale,S.displacementBias.value=M.displacementBias),M.emissiveMap&&(S.emissiveMap.value=M.emissiveMap,n(M.emissiveMap,S.emissiveMapTransform)),M.specularMap&&(S.specularMap.value=M.specularMap,n(M.specularMap,S.specularMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest);const R=e.get(M),T=R.envMap,P=R.envMapRotation;T&&(S.envMap.value=T,Lh.copy(P),Lh.x*=-1,Lh.y*=-1,Lh.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Lh.y*=-1,Lh.z*=-1),S.envMapRotation.value.setFromMatrix4(wge.makeRotationFromEuler(Lh)),S.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=M.reflectivity,S.ior.value=M.ior,S.refractionRatio.value=M.refractionRatio),M.lightMap&&(S.lightMap.value=M.lightMap,S.lightMapIntensity.value=M.lightMapIntensity,n(M.lightMap,S.lightMapTransform)),M.aoMap&&(S.aoMap.value=M.aoMap,S.aoMapIntensity.value=M.aoMapIntensity,n(M.aoMap,S.aoMapTransform))}function s(S,M){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,M.map&&(S.map.value=M.map,n(M.map,S.mapTransform))}function l(S,M){S.dashSize.value=M.dashSize,S.totalSize.value=M.dashSize+M.gapSize,S.scale.value=M.scale}function u(S,M,R,T){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,S.size.value=M.size*R,S.scale.value=T*.5,M.map&&(S.map.value=M.map,n(M.map,S.uvTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest)}function f(S,M){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,S.rotation.value=M.rotation,M.map&&(S.map.value=M.map,n(M.map,S.mapTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest)}function p(S,M){S.specular.value.copy(M.specular),S.shininess.value=Math.max(M.shininess,1e-4)}function g(S,M){M.gradientMap&&(S.gradientMap.value=M.gradientMap)}function v(S,M){S.metalness.value=M.metalness,M.metalnessMap&&(S.metalnessMap.value=M.metalnessMap,n(M.metalnessMap,S.metalnessMapTransform)),S.roughness.value=M.roughness,M.roughnessMap&&(S.roughnessMap.value=M.roughnessMap,n(M.roughnessMap,S.roughnessMapTransform)),M.envMap&&(S.envMapIntensity.value=M.envMapIntensity)}function y(S,M,R){S.ior.value=M.ior,M.sheen>0&&(S.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),S.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(S.sheenColorMap.value=M.sheenColorMap,n(M.sheenColorMap,S.sheenColorMapTransform)),M.sheenRoughnessMap&&(S.sheenRoughnessMap.value=M.sheenRoughnessMap,n(M.sheenRoughnessMap,S.sheenRoughnessMapTransform))),M.clearcoat>0&&(S.clearcoat.value=M.clearcoat,S.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(S.clearcoatMap.value=M.clearcoatMap,n(M.clearcoatMap,S.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,n(M.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(S.clearcoatNormalMap.value=M.clearcoatNormalMap,n(M.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===vs&&S.clearcoatNormalScale.value.negate())),M.dispersion>0&&(S.dispersion.value=M.dispersion),M.iridescence>0&&(S.iridescence.value=M.iridescence,S.iridescenceIOR.value=M.iridescenceIOR,S.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(S.iridescenceMap.value=M.iridescenceMap,n(M.iridescenceMap,S.iridescenceMapTransform)),M.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=M.iridescenceThicknessMap,n(M.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),M.transmission>0&&(S.transmission.value=M.transmission,S.transmissionSamplerMap.value=R.texture,S.transmissionSamplerSize.value.set(R.width,R.height),M.transmissionMap&&(S.transmissionMap.value=M.transmissionMap,n(M.transmissionMap,S.transmissionMapTransform)),S.thickness.value=M.thickness,M.thicknessMap&&(S.thicknessMap.value=M.thicknessMap,n(M.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=M.attenuationDistance,S.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(S.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(S.anisotropyMap.value=M.anisotropyMap,n(M.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=M.specularIntensity,S.specularColor.value.copy(M.specularColor),M.specularColorMap&&(S.specularColorMap.value=M.specularColorMap,n(M.specularColorMap,S.specularColorMapTransform)),M.specularIntensityMap&&(S.specularIntensityMap.value=M.specularIntensityMap,n(M.specularIntensityMap,S.specularIntensityMapTransform))}function _(S,M){M.matcap&&(S.matcap.value=M.matcap)}function w(S,M){const R=e.get(M).light;S.referencePosition.value.setFromMatrixPosition(R.matrixWorld),S.nearDistance.value=R.shadow.camera.near,S.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Age(t,e,n,i){let r={},a={},s=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function u(R,T){const P=T.program;i.uniformBlockBinding(R,P)}function f(R,T){let P=r[R.id];P===void 0&&(_(R),P=p(R),r[R.id]=P,R.addEventListener("dispose",S));const O=T.program;i.updateUBOMapping(R,O);const N=e.render.frame;a[R.id]!==N&&(v(R),a[R.id]=N)}function p(R){const T=g();R.__bindingPointIndex=T;const P=t.createBuffer(),O=R.__size,N=R.usage;return t.bindBuffer(t.UNIFORM_BUFFER,P),t.bufferData(t.UNIFORM_BUFFER,O,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,T,P),P}function g(){for(let R=0;R<l;R++)if(s.indexOf(R)===-1)return s.push(R),R;return Vt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(R){const T=r[R.id],P=R.uniforms,O=R.__cache;t.bindBuffer(t.UNIFORM_BUFFER,T);for(let N=0,k=P.length;N<k;N++){const z=Array.isArray(P[N])?P[N]:[P[N]];for(let I=0,U=z.length;I<U;I++){const W=z[I];if(y(W,N,I,O)===!0){const H=W.__offset,Y=Array.isArray(W.value)?W.value:[W.value];let J=0;for(let ie=0;ie<Y.length;ie++){const X=Y[ie],te=w(X);typeof X=="number"||typeof X=="boolean"?(W.__data[0]=X,t.bufferSubData(t.UNIFORM_BUFFER,H+J,W.__data)):X.isMatrix3?(W.__data[0]=X.elements[0],W.__data[1]=X.elements[1],W.__data[2]=X.elements[2],W.__data[3]=0,W.__data[4]=X.elements[3],W.__data[5]=X.elements[4],W.__data[6]=X.elements[5],W.__data[7]=0,W.__data[8]=X.elements[6],W.__data[9]=X.elements[7],W.__data[10]=X.elements[8],W.__data[11]=0):(X.toArray(W.__data,J),J+=te.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,H,W.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(R,T,P,O){const N=R.value,k=T+"_"+P;if(O[k]===void 0)return typeof N=="number"||typeof N=="boolean"?O[k]=N:O[k]=N.clone(),!0;{const z=O[k];if(typeof N=="number"||typeof N=="boolean"){if(z!==N)return O[k]=N,!0}else if(z.equals(N)===!1)return z.copy(N),!0}return!1}function _(R){const T=R.uniforms;let P=0;const O=16;for(let k=0,z=T.length;k<z;k++){const I=Array.isArray(T[k])?T[k]:[T[k]];for(let U=0,W=I.length;U<W;U++){const H=I[U],Y=Array.isArray(H.value)?H.value:[H.value];for(let J=0,ie=Y.length;J<ie;J++){const X=Y[J],te=w(X),de=P%O,he=de%te.boundary,le=de+he;P+=he,le!==0&&O-le<te.storage&&(P+=O-le),H.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=P,P+=te.storage}}}const N=P%O;return N>0&&(P+=O-N),R.__size=P,R.__cache={},this}function w(R){const T={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(T.boundary=4,T.storage=4):R.isVector2?(T.boundary=8,T.storage=8):R.isVector3||R.isColor?(T.boundary=16,T.storage=12):R.isVector4?(T.boundary=16,T.storage=16):R.isMatrix3?(T.boundary=48,T.storage=48):R.isMatrix4?(T.boundary=64,T.storage=64):R.isTexture?Et("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Et("WebGLRenderer: Unsupported uniform value type.",R),T}function S(R){const T=R.target;T.removeEventListener("dispose",S);const P=s.indexOf(T.__bindingPointIndex);s.splice(P,1),t.deleteBuffer(r[T.id]),delete r[T.id],delete a[T.id]}function M(){for(const R in r)t.deleteBuffer(r[R]);s=[],r={},a={}}return{bind:u,update:f,dispose:M}}const Tge=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Lu=null;function Cge(){return Lu===null&&(Lu=new Hl(Tge,16,16,gp,ql),Lu.name="DFG_LUT",Lu.minFilter=Jn,Lu.magFilter=Jn,Lu.wrapS=Ks,Lu.wrapT=Ks,Lu.generateMipmaps=!1,Lu.needsUpdate=!0),Lu}class yj{constructor(e={}){const{canvas:n=h8(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:v=!1,outputBufferType:y=ds}=e;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=s;const w=y,S=new Set([Lw,Nw,Dx]),M=new Set([ds,fl,Rg,Pg,Pw,Dw]),R=new Uint32Array(4),T=new Int32Array(4);let P=null,O=null;const N=[],k=[];let z=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ol,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const I=this;let U=!1;this._outputColorSpace=Fa;let W=0,H=0,Y=null,J=-1,ie=null;const X=new Nn,te=new Nn;let de=null;const he=new At(0);let le=0,V=n.width,ee=n.height,re=1,pe=null,ye=null;const se=new Nn(0,0,V,ee),ce=new Nn(0,0,V,ee);let Se=!1;const fe=new Qg;let Oe=!1,ke=!1;const me=new $t,ut=new ne,_e=new Nn,Ae={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Me=!1;function Ge(){return Y===null?re:1}let Z=i;function at($,we){return n.getContext($,we)}try{const $={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Zg}`),n.addEventListener("webglcontextlost",bt,!1),n.addEventListener("webglcontextrestored",xt,!1),n.addEventListener("webglcontextcreationerror",Nt,!1),Z===null){const we="webgl2";if(Z=at(we,$),Z===null)throw at(we)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch($){throw Vt("WebGLRenderer: "+$.message),$}let qe,Ne,Ze,q,j,oe,De,Re,be,nt,Je,pt,St,Xe,$e,tt,ae,Ee,ft,ue,He,Qe,mt,et;function ze(){qe=new Rpe(Z),qe.init(),Qe=new vj(Z,qe),Ne=new bpe(Z,qe,e,Qe),Ze=new yge(Z,qe),Ne.reversedDepthBuffer&&v&&Ze.buffers.depth.setReversed(!0),q=new Ope(Z),j=new ige,oe=new xge(Z,qe,Ze,j,Ne,Qe,q),De=new Spe(I),Re=new Cpe(I),be=new Ufe(Z),mt=new ype(Z,be),nt=new Ppe(Z,be,q,mt),Je=new Lpe(Z,nt,be,q),ft=new Npe(Z,Ne,oe),tt=new _pe(j),pt=new nge(I,De,Re,qe,Ne,mt,tt),St=new Ege(I,j),Xe=new age,$e=new fge(qe),Ee=new vpe(I,De,Re,Ze,Je,_,u),ae=new gge(I,Je,Ne),et=new Age(Z,q,Ne,Ze),ue=new xpe(Z,qe,q),He=new Dpe(Z,qe,q),q.programs=pt.programs,I.capabilities=Ne,I.extensions=qe,I.properties=j,I.renderLists=Xe,I.shadowMap=ae,I.state=Ze,I.info=q}ze(),w!==ds&&(z=new Upe(w,n.width,n.height,r,a));const st=new Mge(I,Z);this.xr=st,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const $=qe.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=qe.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function($){$!==void 0&&(re=$,this.setSize(V,ee,!1))},this.getSize=function($){return $.set(V,ee)},this.setSize=function($,we,Ve=!0){if(st.isPresenting){Et("WebGLRenderer: Can't change size while VR device is presenting.");return}V=$,ee=we,n.width=Math.floor($*re),n.height=Math.floor(we*re),Ve===!0&&(n.style.width=$+"px",n.style.height=we+"px"),z!==null&&z.setSize(n.width,n.height),this.setViewport(0,0,$,we)},this.getDrawingBufferSize=function($){return $.set(V*re,ee*re).floor()},this.setDrawingBufferSize=function($,we,Ve){V=$,ee=we,re=Ve,n.width=Math.floor($*Ve),n.height=Math.floor(we*Ve),this.setViewport(0,0,$,we)},this.setEffects=function($){if(w===ds){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if($){for(let we=0;we<$.length;we++)if($[we].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}z.setEffects($||[])},this.getCurrentViewport=function($){return $.copy(X)},this.getViewport=function($){return $.copy(se)},this.setViewport=function($,we,Ve,Le){$.isVector4?se.set($.x,$.y,$.z,$.w):se.set($,we,Ve,Le),Ze.viewport(X.copy(se).multiplyScalar(re).round())},this.getScissor=function($){return $.copy(ce)},this.setScissor=function($,we,Ve,Le){$.isVector4?ce.set($.x,$.y,$.z,$.w):ce.set($,we,Ve,Le),Ze.scissor(te.copy(ce).multiplyScalar(re).round())},this.getScissorTest=function(){return Se},this.setScissorTest=function($){Ze.setScissorTest(Se=$)},this.setOpaqueSort=function($){pe=$},this.setTransparentSort=function($){ye=$},this.getClearColor=function($){return $.copy(Ee.getClearColor())},this.setClearColor=function(){Ee.setClearColor(...arguments)},this.getClearAlpha=function(){return Ee.getClearAlpha()},this.setClearAlpha=function(){Ee.setClearAlpha(...arguments)},this.clear=function($=!0,we=!0,Ve=!0){let Le=0;if($){let Te=!1;if(Y!==null){const gt=Y.texture.format;Te=S.has(gt)}if(Te){const gt=Y.texture.type,Mt=M.has(gt),dt=Ee.getClearColor(),Ct=Ee.getClearAlpha(),Rt=dt.r,Bt=dt.g,Pt=dt.b;Mt?(R[0]=Rt,R[1]=Bt,R[2]=Pt,R[3]=Ct,Z.clearBufferuiv(Z.COLOR,0,R)):(T[0]=Rt,T[1]=Bt,T[2]=Pt,T[3]=Ct,Z.clearBufferiv(Z.COLOR,0,T))}else Le|=Z.COLOR_BUFFER_BIT}we&&(Le|=Z.DEPTH_BUFFER_BIT),Ve&&(Le|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(Le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",bt,!1),n.removeEventListener("webglcontextrestored",xt,!1),n.removeEventListener("webglcontextcreationerror",Nt,!1),Ee.dispose(),Xe.dispose(),$e.dispose(),j.dispose(),De.dispose(),Re.dispose(),Je.dispose(),mt.dispose(),et.dispose(),pt.dispose(),st.dispose(),st.removeEventListener("sessionstart",mr),st.removeEventListener("sessionend",ra),ei.stop()};function bt($){$.preventDefault(),Yy("WebGLRenderer: Context Lost."),U=!0}function xt(){Yy("WebGLRenderer: Context Restored."),U=!1;const $=q.autoReset,we=ae.enabled,Ve=ae.autoUpdate,Le=ae.needsUpdate,Te=ae.type;ze(),q.autoReset=$,ae.enabled=we,ae.autoUpdate=Ve,ae.needsUpdate=Le,ae.type=Te}function Nt($){Vt("WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function hn($){const we=$.target;we.removeEventListener("dispose",hn),Sn(we)}function Sn($){Yn($),j.remove($)}function Yn($){const we=j.get($).programs;we!==void 0&&(we.forEach(function(Ve){pt.releaseProgram(Ve)}),$.isShaderMaterial&&pt.releaseShaderCache($))}this.renderBufferDirect=function($,we,Ve,Le,Te,gt){we===null&&(we=Ae);const Mt=Te.isMesh&&Te.matrixWorld.determinant()<0,dt=Ka($,we,Ve,Le,Te);Ze.setMaterial(Le,Mt);let Ct=Ve.index,Rt=1;if(Le.wireframe===!0){if(Ct=nt.getWireframeAttribute(Ve),Ct===void 0)return;Rt=2}const Bt=Ve.drawRange,Pt=Ve.attributes.position;let jt=Bt.start*Rt,pn=(Bt.start+Bt.count)*Rt;gt!==null&&(jt=Math.max(jt,gt.start*Rt),pn=Math.min(pn,(gt.start+gt.count)*Rt)),Ct!==null?(jt=Math.max(jt,0),pn=Math.min(pn,Ct.count)):Pt!=null&&(jt=Math.max(jt,0),pn=Math.min(pn,Pt.count));const Bn=pn-jt;if(Bn<0||Bn===1/0)return;mt.setup(Te,Le,dt,Ve,Ct);let An,Kt=ue;if(Ct!==null&&(An=be.get(Ct),Kt=He,Kt.setIndex(An)),Te.isMesh)Le.wireframe===!0?(Ze.setLineWidth(Le.wireframeLinewidth*Ge()),Kt.setMode(Z.LINES)):Kt.setMode(Z.TRIANGLES);else if(Te.isLine){let _t=Le.linewidth;_t===void 0&&(_t=1),Ze.setLineWidth(_t*Ge()),Te.isLineSegments?Kt.setMode(Z.LINES):Te.isLineLoop?Kt.setMode(Z.LINE_LOOP):Kt.setMode(Z.LINE_STRIP)}else Te.isPoints?Kt.setMode(Z.POINTS):Te.isSprite&&Kt.setMode(Z.TRIANGLES);if(Te.isBatchedMesh)if(Te._multiDrawInstances!==null)Og("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Kt.renderMultiDrawInstances(Te._multiDrawStarts,Te._multiDrawCounts,Te._multiDrawCount,Te._multiDrawInstances);else if(qe.get("WEBGL_multi_draw"))Kt.renderMultiDraw(Te._multiDrawStarts,Te._multiDrawCounts,Te._multiDrawCount);else{const _t=Te._multiDrawStarts,gn=Te._multiDrawCounts,kt=Te._multiDrawCount,Pi=Ct?be.get(Ct).bytesPerElement:1,Hr=j.get(Le).currentProgram.getUniforms();for(let Un=0;Un<kt;Un++)Hr.setValue(Z,"_gl_DrawID",Un),Kt.render(_t[Un]/Pi,gn[Un])}else if(Te.isInstancedMesh)Kt.renderInstances(jt,Bn,Te.count);else if(Ve.isInstancedBufferGeometry){const _t=Ve._maxInstanceCount!==void 0?Ve._maxInstanceCount:1/0,gn=Math.min(Ve.instanceCount,_t);Kt.renderInstances(jt,Bn,gn)}else Kt.render(jt,Bn)};function Zi($,we,Ve){$.transparent===!0&&$.side===nl&&$.forceSinglePass===!1?($.side=vs,$.needsUpdate=!0,Gr($,we,Ve),$.side=sf,$.needsUpdate=!0,Gr($,we,Ve),$.side=nl):Gr($,we,Ve)}this.compile=function($,we,Ve=null){Ve===null&&(Ve=$),O=$e.get(Ve),O.init(we),k.push(O),Ve.traverseVisible(function(Te){Te.isLight&&Te.layers.test(we.layers)&&(O.pushLight(Te),Te.castShadow&&O.pushShadow(Te))}),$!==Ve&&$.traverseVisible(function(Te){Te.isLight&&Te.layers.test(we.layers)&&(O.pushLight(Te),Te.castShadow&&O.pushShadow(Te))}),O.setupLights();const Le=new Set;return $.traverse(function(Te){if(!(Te.isMesh||Te.isPoints||Te.isLine||Te.isSprite))return;const gt=Te.material;if(gt)if(Array.isArray(gt))for(let Mt=0;Mt<gt.length;Mt++){const dt=gt[Mt];Zi(dt,Ve,Te),Le.add(dt)}else Zi(gt,Ve,Te),Le.add(gt)}),O=k.pop(),Le},this.compileAsync=function($,we,Ve=null){const Le=this.compile($,we,Ve);return new Promise(Te=>{function gt(){if(Le.forEach(function(Mt){j.get(Mt).currentProgram.isReady()&&Le.delete(Mt)}),Le.size===0){Te($);return}setTimeout(gt,10)}qe.get("KHR_parallel_shader_compile")!==null?gt():setTimeout(gt,10)})};let jr=null;function pr($){jr&&jr($)}function mr(){ei.stop()}function ra(){ei.start()}const ei=new dj;ei.setAnimationLoop(pr),typeof self<"u"&&ei.setContext(self),this.setAnimationLoop=function($){jr=$,st.setAnimationLoop($),$===null?ei.stop():ei.start()},st.addEventListener("sessionstart",mr),st.addEventListener("sessionend",ra),this.render=function($,we){if(we!==void 0&&we.isCamera!==!0){Vt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;const Ve=st.enabled===!0&&st.isPresenting===!0,Le=z!==null&&(Y===null||Ve)&&z.begin(I,Y);if($.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),we.parent===null&&we.matrixWorldAutoUpdate===!0&&we.updateMatrixWorld(),st.enabled===!0&&st.isPresenting===!0&&(z===null||z.isCompositing()===!1)&&(st.cameraAutoUpdate===!0&&st.updateCamera(we),we=st.getCamera()),$.isScene===!0&&$.onBeforeRender(I,$,we,Y),O=$e.get($,k.length),O.init(we),k.push(O),me.multiplyMatrices(we.projectionMatrix,we.matrixWorldInverse),fe.setFromProjectionMatrix(me,go,we.reversedDepth),ke=this.localClippingEnabled,Oe=tt.init(this.clippingPlanes,ke),P=Xe.get($,N.length),P.init(),N.push(P),st.enabled===!0&&st.isPresenting===!0){const Mt=I.xr.getDepthSensingMesh();Mt!==null&&Hn(Mt,we,-1/0,I.sortObjects)}Hn($,we,0,I.sortObjects),P.finish(),I.sortObjects===!0&&P.sort(pe,ye),Me=st.enabled===!1||st.isPresenting===!1||st.hasDepthSensing()===!1,Me&&Ee.addToRenderList(P,$),this.info.render.frame++,Oe===!0&&tt.beginShadows();const Te=O.state.shadowsArray;if(ae.render(Te,$,we),Oe===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Le&&z.hasRenderPass())===!1){const Mt=P.opaque,dt=P.transmissive;if(O.setupLights(),we.isArrayCamera){const Ct=we.cameras;if(dt.length>0)for(let Rt=0,Bt=Ct.length;Rt<Bt;Rt++){const Pt=Ct[Rt];Ri(Mt,dt,$,Pt)}Me&&Ee.render($);for(let Rt=0,Bt=Ct.length;Rt<Bt;Rt++){const Pt=Ct[Rt];In(P,$,Pt,Pt.viewport)}}else dt.length>0&&Ri(Mt,dt,$,we),Me&&Ee.render($),In(P,$,we)}Y!==null&&H===0&&(oe.updateMultisampleRenderTarget(Y),oe.updateRenderTargetMipmap(Y)),Le&&z.end(I),$.isScene===!0&&$.onAfterRender(I,$,we),mt.resetDefaultState(),J=-1,ie=null,k.pop(),k.length>0?(O=k[k.length-1],Oe===!0&&tt.setGlobalState(I.clippingPlanes,O.state.camera)):O=null,N.pop(),N.length>0?P=N[N.length-1]:P=null};function Hn($,we,Ve,Le){if($.visible===!1)return;if($.layers.test(we.layers)){if($.isGroup)Ve=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(we);else if($.isLight)O.pushLight($),$.castShadow&&O.pushShadow($);else if($.isSprite){if(!$.frustumCulled||fe.intersectsSprite($)){Le&&_e.setFromMatrixPosition($.matrixWorld).applyMatrix4(me);const Mt=Je.update($),dt=$.material;dt.visible&&P.push($,Mt,dt,Ve,_e.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&(!$.frustumCulled||fe.intersectsObject($))){const Mt=Je.update($),dt=$.material;if(Le&&($.boundingSphere!==void 0?($.boundingSphere===null&&$.computeBoundingSphere(),_e.copy($.boundingSphere.center)):(Mt.boundingSphere===null&&Mt.computeBoundingSphere(),_e.copy(Mt.boundingSphere.center)),_e.applyMatrix4($.matrixWorld).applyMatrix4(me)),Array.isArray(dt)){const Ct=Mt.groups;for(let Rt=0,Bt=Ct.length;Rt<Bt;Rt++){const Pt=Ct[Rt],jt=dt[Pt.materialIndex];jt&&jt.visible&&P.push($,Mt,jt,Ve,_e.z,Pt)}}else dt.visible&&P.push($,Mt,dt,Ve,_e.z,null)}}const gt=$.children;for(let Mt=0,dt=gt.length;Mt<dt;Mt++)Hn(gt[Mt],we,Ve,Le)}function In($,we,Ve,Le){const{opaque:Te,transmissive:gt,transparent:Mt}=$;O.setupLightsView(Ve),Oe===!0&&tt.setGlobalState(I.clippingPlanes,Ve),Le&&Ze.viewport(X.copy(Le)),Te.length>0&&Cr(Te,we,Ve),gt.length>0&&Cr(gt,we,Ve),Mt.length>0&&Cr(Mt,we,Ve),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1)}function Ri($,we,Ve,Le){if((Ve.isScene===!0?Ve.overrideMaterial:null)!==null)return;if(O.state.transmissionRenderTarget[Le.id]===void 0){const jt=qe.has("EXT_color_buffer_half_float")||qe.has("EXT_color_buffer_float");O.state.transmissionRenderTarget[Le.id]=new Zs(1,1,{generateMipmaps:!0,type:jt?ql:ds,minFilter:ju,samples:Ne.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Dn.workingColorSpace})}const gt=O.state.transmissionRenderTarget[Le.id],Mt=Le.viewport||X;gt.setSize(Mt.z*I.transmissionResolutionScale,Mt.w*I.transmissionResolutionScale);const dt=I.getRenderTarget(),Ct=I.getActiveCubeFace(),Rt=I.getActiveMipmapLevel();I.setRenderTarget(gt),I.getClearColor(he),le=I.getClearAlpha(),le<1&&I.setClearColor(16777215,.5),I.clear(),Me&&Ee.render(Ve);const Bt=I.toneMapping;I.toneMapping=ol;const Pt=Le.viewport;if(Le.viewport!==void 0&&(Le.viewport=void 0),O.setupLightsView(Le),Oe===!0&&tt.setGlobalState(I.clippingPlanes,Le),Cr($,Ve,Le),oe.updateMultisampleRenderTarget(gt),oe.updateRenderTargetMipmap(gt),qe.has("WEBGL_multisampled_render_to_texture")===!1){let jt=!1;for(let pn=0,Bn=we.length;pn<Bn;pn++){const An=we[pn],{object:Kt,geometry:_t,material:gn,group:kt}=An;if(gn.side===nl&&Kt.layers.test(Le.layers)){const Pi=gn.side;gn.side=vs,gn.needsUpdate=!0,aa(Kt,Ve,Le,_t,gn,kt),gn.side=Pi,gn.needsUpdate=!0,jt=!0}}jt===!0&&(oe.updateMultisampleRenderTarget(gt),oe.updateRenderTargetMipmap(gt))}I.setRenderTarget(dt,Ct,Rt),I.setClearColor(he,le),Pt!==void 0&&(Le.viewport=Pt),I.toneMapping=Bt}function Cr($,we,Ve){const Le=we.isScene===!0?we.overrideMaterial:null;for(let Te=0,gt=$.length;Te<gt;Te++){const Mt=$[Te],{object:dt,geometry:Ct,group:Rt}=Mt;let Bt=Mt.material;Bt.allowOverride===!0&&Le!==null&&(Bt=Le),dt.layers.test(Ve.layers)&&aa(dt,we,Ve,Ct,Bt,Rt)}}function aa($,we,Ve,Le,Te,gt){$.onBeforeRender(I,we,Ve,Le,Te,gt),$.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Te.onBeforeRender(I,we,Ve,Le,$,gt),Te.transparent===!0&&Te.side===nl&&Te.forceSinglePass===!1?(Te.side=vs,Te.needsUpdate=!0,I.renderBufferDirect(Ve,we,Le,Te,$,gt),Te.side=sf,Te.needsUpdate=!0,I.renderBufferDirect(Ve,we,Le,Te,$,gt),Te.side=nl):I.renderBufferDirect(Ve,we,Le,Te,$,gt),$.onAfterRender(I,we,Ve,Le,Te,gt)}function Gr($,we,Ve){we.isScene!==!0&&(we=Ae);const Le=j.get($),Te=O.state.lights,gt=O.state.shadowsArray,Mt=Te.state.version,dt=pt.getParameters($,Te.state,gt,we,Ve),Ct=pt.getProgramCacheKey(dt);let Rt=Le.programs;Le.environment=$.isMeshStandardMaterial?we.environment:null,Le.fog=we.fog,Le.envMap=($.isMeshStandardMaterial?Re:De).get($.envMap||Le.environment),Le.envMapRotation=Le.environment!==null&&$.envMap===null?we.environmentRotation:$.envMapRotation,Rt===void 0&&($.addEventListener("dispose",hn),Rt=new Map,Le.programs=Rt);let Bt=Rt.get(Ct);if(Bt!==void 0){if(Le.currentProgram===Bt&&Le.lightsStateVersion===Mt)return to($,dt),Bt}else dt.uniforms=pt.getUniforms($),$.onBeforeCompile(dt,I),Bt=pt.acquireProgram(dt,Ct),Rt.set(Ct,Bt),Le.uniforms=dt.uniforms;const Pt=Le.uniforms;return(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(Pt.clippingPlanes=tt.uniform),to($,dt),Le.needsLights=wa($),Le.lightsStateVersion=Mt,Le.needsLights&&(Pt.ambientLightColor.value=Te.state.ambient,Pt.lightProbe.value=Te.state.probe,Pt.directionalLights.value=Te.state.directional,Pt.directionalLightShadows.value=Te.state.directionalShadow,Pt.spotLights.value=Te.state.spot,Pt.spotLightShadows.value=Te.state.spotShadow,Pt.rectAreaLights.value=Te.state.rectArea,Pt.ltc_1.value=Te.state.rectAreaLTC1,Pt.ltc_2.value=Te.state.rectAreaLTC2,Pt.pointLights.value=Te.state.point,Pt.pointLightShadows.value=Te.state.pointShadow,Pt.hemisphereLights.value=Te.state.hemi,Pt.directionalShadowMap.value=Te.state.directionalShadowMap,Pt.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,Pt.spotShadowMap.value=Te.state.spotShadowMap,Pt.spotLightMatrix.value=Te.state.spotLightMatrix,Pt.spotLightMap.value=Te.state.spotLightMap,Pt.pointShadowMap.value=Te.state.pointShadowMap,Pt.pointShadowMatrix.value=Te.state.pointShadowMatrix),Le.currentProgram=Bt,Le.uniformsList=null,Bt}function Ya($){if($.uniformsList===null){const we=$.currentProgram.getUniforms();$.uniformsList=X_.seqWithValue(we.seq,$.uniforms)}return $.uniformsList}function to($,we){const Ve=j.get($);Ve.outputColorSpace=we.outputColorSpace,Ve.batching=we.batching,Ve.batchingColor=we.batchingColor,Ve.instancing=we.instancing,Ve.instancingColor=we.instancingColor,Ve.instancingMorph=we.instancingMorph,Ve.skinning=we.skinning,Ve.morphTargets=we.morphTargets,Ve.morphNormals=we.morphNormals,Ve.morphColors=we.morphColors,Ve.morphTargetsCount=we.morphTargetsCount,Ve.numClippingPlanes=we.numClippingPlanes,Ve.numIntersection=we.numClipIntersection,Ve.vertexAlphas=we.vertexAlphas,Ve.vertexTangents=we.vertexTangents,Ve.toneMapping=we.toneMapping}function Ka($,we,Ve,Le,Te){we.isScene!==!0&&(we=Ae),oe.resetTextureUnits();const gt=we.fog,Mt=Le.isMeshStandardMaterial?we.environment:null,dt=Y===null?I.outputColorSpace:Y.isXRRenderTarget===!0?Y.texture.colorSpace:Ad,Ct=(Le.isMeshStandardMaterial?Re:De).get(Le.envMap||Mt),Rt=Le.vertexColors===!0&&!!Ve.attributes.color&&Ve.attributes.color.itemSize===4,Bt=!!Ve.attributes.tangent&&(!!Le.normalMap||Le.anisotropy>0),Pt=!!Ve.morphAttributes.position,jt=!!Ve.morphAttributes.normal,pn=!!Ve.morphAttributes.color;let Bn=ol;Le.toneMapped&&(Y===null||Y.isXRRenderTarget===!0)&&(Bn=I.toneMapping);const An=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,Kt=An!==void 0?An.length:0,_t=j.get(Le),gn=O.state.lights;if(Oe===!0&&(ke===!0||$!==ie)){const zi=$===ie&&Le.id===J;tt.setState(Le,$,zi)}let kt=!1;Le.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==gn.state.version||_t.outputColorSpace!==dt||Te.isBatchedMesh&&_t.batching===!1||!Te.isBatchedMesh&&_t.batching===!0||Te.isBatchedMesh&&_t.batchingColor===!0&&Te.colorTexture===null||Te.isBatchedMesh&&_t.batchingColor===!1&&Te.colorTexture!==null||Te.isInstancedMesh&&_t.instancing===!1||!Te.isInstancedMesh&&_t.instancing===!0||Te.isSkinnedMesh&&_t.skinning===!1||!Te.isSkinnedMesh&&_t.skinning===!0||Te.isInstancedMesh&&_t.instancingColor===!0&&Te.instanceColor===null||Te.isInstancedMesh&&_t.instancingColor===!1&&Te.instanceColor!==null||Te.isInstancedMesh&&_t.instancingMorph===!0&&Te.morphTexture===null||Te.isInstancedMesh&&_t.instancingMorph===!1&&Te.morphTexture!==null||_t.envMap!==Ct||Le.fog===!0&&_t.fog!==gt||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==tt.numPlanes||_t.numIntersection!==tt.numIntersection)||_t.vertexAlphas!==Rt||_t.vertexTangents!==Bt||_t.morphTargets!==Pt||_t.morphNormals!==jt||_t.morphColors!==pn||_t.toneMapping!==Bn||_t.morphTargetsCount!==Kt)&&(kt=!0):(kt=!0,_t.__version=Le.version);let Pi=_t.currentProgram;kt===!0&&(Pi=Gr(Le,we,Te));let Hr=!1,Un=!1,gr=!1;const Mn=Pi.getUniforms(),fi=_t.uniforms;if(Ze.useProgram(Pi.program)&&(Hr=!0,Un=!0,gr=!0),Le.id!==J&&(J=Le.id,Un=!0),Hr||ie!==$){Ze.buffers.depth.getReversed()&&$.reversedDepth!==!0&&($._reversedDepth=!0,$.updateProjectionMatrix()),Mn.setValue(Z,"projectionMatrix",$.projectionMatrix),Mn.setValue(Z,"viewMatrix",$.matrixWorldInverse);const Fi=Mn.map.cameraPosition;Fi!==void 0&&Fi.setValue(Z,ut.setFromMatrixPosition($.matrixWorld)),Ne.logarithmicDepthBuffer&&Mn.setValue(Z,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),(Le.isMeshPhongMaterial||Le.isMeshToonMaterial||Le.isMeshLambertMaterial||Le.isMeshBasicMaterial||Le.isMeshStandardMaterial||Le.isShaderMaterial)&&Mn.setValue(Z,"isOrthographic",$.isOrthographicCamera===!0),ie!==$&&(ie=$,Un=!0,gr=!0)}if(_t.needsLights&&(gn.state.directionalShadowMap.length>0&&Mn.setValue(Z,"directionalShadowMap",gn.state.directionalShadowMap,oe),gn.state.spotShadowMap.length>0&&Mn.setValue(Z,"spotShadowMap",gn.state.spotShadowMap,oe),gn.state.pointShadowMap.length>0&&Mn.setValue(Z,"pointShadowMap",gn.state.pointShadowMap,oe)),Te.isSkinnedMesh){Mn.setOptional(Z,Te,"bindMatrix"),Mn.setOptional(Z,Te,"bindMatrixInverse");const zi=Te.skeleton;zi&&(zi.boneTexture===null&&zi.computeBoneTexture(),Mn.setValue(Z,"boneTexture",zi.boneTexture,oe))}Te.isBatchedMesh&&(Mn.setOptional(Z,Te,"batchingTexture"),Mn.setValue(Z,"batchingTexture",Te._matricesTexture,oe),Mn.setOptional(Z,Te,"batchingIdTexture"),Mn.setValue(Z,"batchingIdTexture",Te._indirectTexture,oe),Mn.setOptional(Z,Te,"batchingColorTexture"),Te._colorsTexture!==null&&Mn.setValue(Z,"batchingColorTexture",Te._colorsTexture,oe));const di=Ve.morphAttributes;if((di.position!==void 0||di.normal!==void 0||di.color!==void 0)&&ft.update(Te,Ve,Pi),(Un||_t.receiveShadow!==Te.receiveShadow)&&(_t.receiveShadow=Te.receiveShadow,Mn.setValue(Z,"receiveShadow",Te.receiveShadow)),Le.isMeshGouraudMaterial&&Le.envMap!==null&&(fi.envMap.value=Ct,fi.flipEnvMap.value=Ct.isCubeTexture&&Ct.isRenderTargetTexture===!1?-1:1),Le.isMeshStandardMaterial&&Le.envMap===null&&we.environment!==null&&(fi.envMapIntensity.value=we.environmentIntensity),fi.dfgLUT!==void 0&&(fi.dfgLUT.value=Cge()),Un&&(Mn.setValue(Z,"toneMappingExposure",I.toneMappingExposure),_t.needsLights&&bs(fi,gr),gt&&Le.fog===!0&&St.refreshFogUniforms(fi,gt),St.refreshMaterialUniforms(fi,Le,re,ee,O.state.transmissionRenderTarget[$.id]),X_.upload(Z,Ya(_t),fi,oe)),Le.isShaderMaterial&&Le.uniformsNeedUpdate===!0&&(X_.upload(Z,Ya(_t),fi,oe),Le.uniformsNeedUpdate=!1),Le.isSpriteMaterial&&Mn.setValue(Z,"center",Te.center),Mn.setValue(Z,"modelViewMatrix",Te.modelViewMatrix),Mn.setValue(Z,"normalMatrix",Te.normalMatrix),Mn.setValue(Z,"modelMatrix",Te.matrixWorld),Le.isShaderMaterial||Le.isRawShaderMaterial){const zi=Le.uniformsGroups;for(let Fi=0,no=zi.length;Fi<no;Fi++){const vr=zi[Fi];et.update(vr,Pi),et.bind(vr,Pi)}}return Pi}function bs($,we){$.ambientLightColor.needsUpdate=we,$.lightProbe.needsUpdate=we,$.directionalLights.needsUpdate=we,$.directionalLightShadows.needsUpdate=we,$.pointLights.needsUpdate=we,$.pointLightShadows.needsUpdate=we,$.spotLights.needsUpdate=we,$.spotLightShadows.needsUpdate=we,$.rectAreaLights.needsUpdate=we,$.hemisphereLights.needsUpdate=we}function wa($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return W},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return Y},this.setRenderTargetTextures=function($,we,Ve){const Le=j.get($);Le.__autoAllocateDepthBuffer=$.resolveDepthBuffer===!1,Le.__autoAllocateDepthBuffer===!1&&(Le.__useRenderToTexture=!1),j.get($.texture).__webglTexture=we,j.get($.depthTexture).__webglTexture=Le.__autoAllocateDepthBuffer?void 0:Ve,Le.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function($,we){const Ve=j.get($);Ve.__webglFramebuffer=we,Ve.__useDefaultFramebuffer=we===void 0};const Za=Z.createFramebuffer();this.setRenderTarget=function($,we=0,Ve=0){Y=$,W=we,H=Ve;let Le=null,Te=!1,gt=!1;if($){const dt=j.get($);if(dt.__useDefaultFramebuffer!==void 0){Ze.bindFramebuffer(Z.FRAMEBUFFER,dt.__webglFramebuffer),X.copy($.viewport),te.copy($.scissor),de=$.scissorTest,Ze.viewport(X),Ze.scissor(te),Ze.setScissorTest(de),J=-1;return}else if(dt.__webglFramebuffer===void 0)oe.setupRenderTarget($);else if(dt.__hasExternalTextures)oe.rebindTextures($,j.get($.texture).__webglTexture,j.get($.depthTexture).__webglTexture);else if($.depthBuffer){const Bt=$.depthTexture;if(dt.__boundDepthTexture!==Bt){if(Bt!==null&&j.has(Bt)&&($.width!==Bt.image.width||$.height!==Bt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");oe.setupDepthRenderbuffer($)}}const Ct=$.texture;(Ct.isData3DTexture||Ct.isDataArrayTexture||Ct.isCompressedArrayTexture)&&(gt=!0);const Rt=j.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Array.isArray(Rt[we])?Le=Rt[we][Ve]:Le=Rt[we],Te=!0):$.samples>0&&oe.useMultisampledRTT($)===!1?Le=j.get($).__webglMultisampledFramebuffer:Array.isArray(Rt)?Le=Rt[Ve]:Le=Rt,X.copy($.viewport),te.copy($.scissor),de=$.scissorTest}else X.copy(se).multiplyScalar(re).floor(),te.copy(ce).multiplyScalar(re).floor(),de=Se;if(Ve!==0&&(Le=Za),Ze.bindFramebuffer(Z.FRAMEBUFFER,Le)&&Ze.drawBuffers($,Le),Ze.viewport(X),Ze.scissor(te),Ze.setScissorTest(de),Te){const dt=j.get($.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+we,dt.__webglTexture,Ve)}else if(gt){const dt=we;for(let Ct=0;Ct<$.textures.length;Ct++){const Rt=j.get($.textures[Ct]);Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+Ct,Rt.__webglTexture,Ve,dt)}}else if($!==null&&Ve!==0){const dt=j.get($.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,dt.__webglTexture,Ve)}J=-1},this.readRenderTargetPixels=function($,we,Ve,Le,Te,gt,Mt,dt=0){if(!($&&$.isWebGLRenderTarget)){Vt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ct=j.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&Mt!==void 0&&(Ct=Ct[Mt]),Ct){Ze.bindFramebuffer(Z.FRAMEBUFFER,Ct);try{const Rt=$.textures[dt],Bt=Rt.format,Pt=Rt.type;if(!Ne.textureFormatReadable(Bt)){Vt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(Pt)){Vt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}we>=0&&we<=$.width-Le&&Ve>=0&&Ve<=$.height-Te&&($.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+dt),Z.readPixels(we,Ve,Le,Te,Qe.convert(Bt),Qe.convert(Pt),gt))}finally{const Rt=Y!==null?j.get(Y).__webglFramebuffer:null;Ze.bindFramebuffer(Z.FRAMEBUFFER,Rt)}}},this.readRenderTargetPixelsAsync=async function($,we,Ve,Le,Te,gt,Mt,dt=0){if(!($&&$.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ct=j.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&Mt!==void 0&&(Ct=Ct[Mt]),Ct)if(we>=0&&we<=$.width-Le&&Ve>=0&&Ve<=$.height-Te){Ze.bindFramebuffer(Z.FRAMEBUFFER,Ct);const Rt=$.textures[dt],Bt=Rt.format,Pt=Rt.type;if(!Ne.textureFormatReadable(Bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const jt=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,jt),Z.bufferData(Z.PIXEL_PACK_BUFFER,gt.byteLength,Z.STREAM_READ),$.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+dt),Z.readPixels(we,Ve,Le,Te,Qe.convert(Bt),Qe.convert(Pt),0);const pn=Y!==null?j.get(Y).__webglFramebuffer:null;Ze.bindFramebuffer(Z.FRAMEBUFFER,pn);const Bn=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await Ble(Z,Bn,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,jt),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,gt),Z.deleteBuffer(jt),Z.deleteSync(Bn),gt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function($,we=null,Ve=0){const Le=Math.pow(2,-Ve),Te=Math.floor($.image.width*Le),gt=Math.floor($.image.height*Le),Mt=we!==null?we.x:0,dt=we!==null?we.y:0;oe.setTexture2D($,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Ve,0,0,Mt,dt,Te,gt),Ze.unbindTexture()};const _s=Z.createFramebuffer(),Dt=Z.createFramebuffer();this.copyTextureToTexture=function($,we,Ve=null,Le=null,Te=0,gt=null){gt===null&&(Te!==0?(Og("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),gt=Te,Te=0):gt=0);let Mt,dt,Ct,Rt,Bt,Pt,jt,pn,Bn;const An=$.isCompressedTexture?$.mipmaps[gt]:$.image;if(Ve!==null)Mt=Ve.max.x-Ve.min.x,dt=Ve.max.y-Ve.min.y,Ct=Ve.isBox3?Ve.max.z-Ve.min.z:1,Rt=Ve.min.x,Bt=Ve.min.y,Pt=Ve.isBox3?Ve.min.z:0;else{const di=Math.pow(2,-Te);Mt=Math.floor(An.width*di),dt=Math.floor(An.height*di),$.isDataArrayTexture?Ct=An.depth:$.isData3DTexture?Ct=Math.floor(An.depth*di):Ct=1,Rt=0,Bt=0,Pt=0}Le!==null?(jt=Le.x,pn=Le.y,Bn=Le.z):(jt=0,pn=0,Bn=0);const Kt=Qe.convert(we.format),_t=Qe.convert(we.type);let gn;we.isData3DTexture?(oe.setTexture3D(we,0),gn=Z.TEXTURE_3D):we.isDataArrayTexture||we.isCompressedArrayTexture?(oe.setTexture2DArray(we,0),gn=Z.TEXTURE_2D_ARRAY):(oe.setTexture2D(we,0),gn=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,we.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,we.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,we.unpackAlignment);const kt=Z.getParameter(Z.UNPACK_ROW_LENGTH),Pi=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),Hr=Z.getParameter(Z.UNPACK_SKIP_PIXELS),Un=Z.getParameter(Z.UNPACK_SKIP_ROWS),gr=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,An.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,An.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Rt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Bt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Pt);const Mn=$.isDataArrayTexture||$.isData3DTexture,fi=we.isDataArrayTexture||we.isData3DTexture;if($.isDepthTexture){const di=j.get($),zi=j.get(we),Fi=j.get(di.__renderTarget),no=j.get(zi.__renderTarget);Ze.bindFramebuffer(Z.READ_FRAMEBUFFER,Fi.__webglFramebuffer),Ze.bindFramebuffer(Z.DRAW_FRAMEBUFFER,no.__webglFramebuffer);for(let vr=0;vr<Ct;vr++)Mn&&(Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,j.get($).__webglTexture,Te,Pt+vr),Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,j.get(we).__webglTexture,gt,Bn+vr)),Z.blitFramebuffer(Rt,Bt,Mt,dt,jt,pn,Mt,dt,Z.DEPTH_BUFFER_BIT,Z.NEAREST);Ze.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else if(Te!==0||$.isRenderTargetTexture||j.has($)){const di=j.get($),zi=j.get(we);Ze.bindFramebuffer(Z.READ_FRAMEBUFFER,_s),Ze.bindFramebuffer(Z.DRAW_FRAMEBUFFER,Dt);for(let Fi=0;Fi<Ct;Fi++)Mn?Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,di.__webglTexture,Te,Pt+Fi):Z.framebufferTexture2D(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,di.__webglTexture,Te),fi?Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,zi.__webglTexture,gt,Bn+Fi):Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,zi.__webglTexture,gt),Te!==0?Z.blitFramebuffer(Rt,Bt,Mt,dt,jt,pn,Mt,dt,Z.COLOR_BUFFER_BIT,Z.NEAREST):fi?Z.copyTexSubImage3D(gn,gt,jt,pn,Bn+Fi,Rt,Bt,Mt,dt):Z.copyTexSubImage2D(gn,gt,jt,pn,Rt,Bt,Mt,dt);Ze.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else fi?$.isDataTexture||$.isData3DTexture?Z.texSubImage3D(gn,gt,jt,pn,Bn,Mt,dt,Ct,Kt,_t,An.data):we.isCompressedArrayTexture?Z.compressedTexSubImage3D(gn,gt,jt,pn,Bn,Mt,dt,Ct,Kt,An.data):Z.texSubImage3D(gn,gt,jt,pn,Bn,Mt,dt,Ct,Kt,_t,An):$.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,gt,jt,pn,Mt,dt,Kt,_t,An.data):$.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,gt,jt,pn,An.width,An.height,Kt,An.data):Z.texSubImage2D(Z.TEXTURE_2D,gt,jt,pn,Mt,dt,Kt,_t,An);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,kt),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Pi),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Hr),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Un),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,gr),gt===0&&we.generateMipmaps&&Z.generateMipmap(gn),Ze.unbindTexture()},this.initRenderTarget=function($){j.get($).__webglFramebuffer===void 0&&oe.setupRenderTarget($)},this.initTexture=function($){$.isCubeTexture?oe.setTextureCube($,0):$.isData3DTexture?oe.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?oe.setTexture2DArray($,0):oe.setTexture2D($,0),Ze.unbindTexture()},this.resetState=function(){W=0,H=0,Y=null,Ze.reset(),mt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return go}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Dn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Dn._getUnpackColorSpace()}}const Rge=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Tw,AddEquation:dd,AddOperation:$V,AdditiveAnimationBlendMode:xD,AdditiveBlending:zy,AgXToneMapping:cD,AlphaFormat:vD,AlwaysCompare:c8,AlwaysDepth:WS,AlwaysStencilFunc:N3,AmbientLight:tj,AnimationAction:lj,AnimationClip:tx,AnimationLoader:Rce,AnimationMixer:rfe,AnimationObjectGroup:nfe,AnimationUtils:Ece,ArcCurve:R8,ArrayCamera:aj,ArrowHelper:Tfe,AttachedBindMode:O3,Audio:sj,AudioAnalyser:Xce,AudioContext:WD,AudioListener:Gce,AudioLoader:Bce,AxesHelper:Cfe,BackSide:vs,BasicDepthPacking:n8,BasicShadowMap:DV,BatchedMesh:M8,Bone:CD,BooleanKeyframeTrack:Pp,Box2:dfe,Box3:hr,Box3Helper:Efe,BoxGeometry:Rp,BoxHelper:wfe,BufferAttribute:oi,BufferGeometry:sn,BufferGeometryLoader:rj,ByteType:hD,Cache:Gu,Camera:Bw,CameraHelper:Mfe,CanvasTexture:Yue,CapsuleGeometry:qw,CatmullRomCurve3:P8,CineonToneMapping:lD,CircleGeometry:Yw,ClampToEdgeWrapping:Ks,Clock:XD,Color:At,ColorKeyframeTrack:VD,ColorManagement:Dn,CompressedArrayTexture:Xue,CompressedCubeTexture:que,CompressedTexture:Xw,CompressedTextureLoader:Pce,ConeGeometry:Lx,ConstantAlphaFactor:YV,ConstantColorFactor:XV,Controls:Pfe,CubeCamera:v8,CubeDepthTexture:T8,CubeReflectionMapping:Ku,CubeRefractionMapping:Ed,CubeTexture:Ox,CubeTextureLoader:Dce,CubeUVReflectionMapping:$g,CubicBezierCurve:OD,CubicBezierCurve3:D8,CubicInterpolant:q8,CullFaceBack:R3,CullFaceFront:PV,CullFaceFrontBack:$oe,CullFaceNone:RV,Curve:Kl,CurvePath:N8,CustomBlending:OV,CustomToneMapping:uD,CylinderGeometry:Nx,Cylindrical:ffe,Data3DTexture:Fw,DataArrayTexture:zw,DataTexture:Hl,DataTextureLoader:Oce,DataUtils:vue,DecrementStencilOp:ple,DecrementWrapStencilOp:gle,DefaultLoadingManager:Z8,DepthFormat:Zu,DepthStencilFormat:gd,DepthTexture:yp,DetachedBindMode:QV,DirectionalLight:ej,DirectionalLightHelper:Sfe,DiscreteInterpolant:Y8,DodecahedronGeometry:Kw,DoubleSide:nl,DstAlphaFactor:VV,DstColorFactor:GV,DynamicCopyUsage:Dle,DynamicDrawUsage:Ele,DynamicReadUsage:Cle,EdgesGeometry:C8,EllipseCurve:Zw,EqualCompare:o8,EqualDepth:qS,EqualStencilFunc:ble,EquirectangularReflectionMapping:Fy,EquirectangularRefractionMapping:By,Euler:_o,EventDispatcher:Ju,ExternalTexture:PD,ExtrudeGeometry:Qw,FileLoader:of,Float16BufferAttribute:wue,Float32BufferAttribute:Ot,FloatType:ja,Fog:jw,FogExp2:Vw,FramebufferTexture:Wue,FrontSide:sf,Frustum:Qg,FrustumArray:Ww,GLBufferAttribute:lfe,GLSL1:Nle,GLSL3:L3,GreaterCompare:l8,GreaterDepth:KS,GreaterEqualCompare:kw,GreaterEqualDepth:YS,GreaterEqualStencilFunc:wle,GreaterStencilFunc:Sle,GridHelper:bfe,Group:vg,HalfFloatType:ql,HemisphereLight:$8,HemisphereLightHelper:xfe,IcosahedronGeometry:Jw,ImageBitmapLoader:Fce,ImageLoader:nx,ImageUtils:p8,IncrementStencilOp:hle,IncrementWrapStencilOp:mle,InstancedBufferAttribute:vp,InstancedBufferGeometry:cE,InstancedInterleavedBuffer:LM,InstancedMesh:S8,Int16BufferAttribute:Sue,Int32BufferAttribute:Mue,Int8BufferAttribute:xue,IntType:Rw,InterleavedBuffer:Gw,InterleavedBufferAttribute:vo,Interpolant:kx,InterpolateDiscrete:Gy,InterpolateLinear:RM,InterpolateSmooth:H_,InterpolationSamplingMode:Ule,InterpolationSamplingType:Ile,InvertStencilOp:vle,KeepStencilOp:Vh,KeyframeTrack:hl,LOD:b8,LatheGeometry:eE,Layers:Lg,LessCompare:s8,LessDepth:XS,LessEqualCompare:Uw,LessEqualDepth:mp,LessEqualStencilFunc:_le,LessStencilFunc:xle,Light:zd,LightProbe:ij,Line:Cd,Line3:cj,LineBasicMaterial:xs,LineCurve:ND,LineCurve3:O8,LineDashedMaterial:W8,LineLoop:w8,LineSegments:ec,LinearFilter:Jn,LinearInterpolant:BD,LinearMipMapLinearFilter:tle,LinearMipMapNearestFilter:ele,LinearMipmapLinearFilter:ju,LinearMipmapNearestFilter:iy,LinearSRGBColorSpace:Ad,LinearToneMapping:oD,LinearTransfer:Wy,Loader:eo,LoaderUtils:F3,LoadingManager:jD,LoopOnce:JV,LoopPingPong:t8,LoopRepeat:e8,MOUSE:Fh,Material:qa,MaterialLoader:uE,MathUtils:_D,Matrix2:ZD,Matrix3:an,Matrix4:$t,MaxEquation:UV,Mesh:ki,MeshBasicMaterial:pf,MeshDepthMaterial:oE,MeshDistanceMaterial:lE,MeshLambertMaterial:G8,MeshMatcapMaterial:H8,MeshNormalMaterial:j8,MeshPhongMaterial:B8,MeshPhysicalMaterial:F8,MeshStandardMaterial:zD,MeshToonMaterial:V8,MinEquation:IV,MirroredRepeatWrapping:jy,MixOperation:ZV,MultiplyBlending:D3,MultiplyOperation:Px,NearestFilter:dr,NearestMipMapLinearFilter:Joe,NearestMipMapNearestFilter:Qoe,NearestMipmapLinearFilter:mg,NearestMipmapNearestFilter:dD,NeutralToneMapping:fD,NeverCompare:a8,NeverDepth:HS,NeverStencilFunc:yle,NoBlending:Xu,NoColorSpace:Gc,NoNormalPacking:lle,NoToneMapping:ol,NormalAnimationBlendMode:Iw,NormalBlending:tp,NormalGAPacking:cle,NormalRGPacking:ule,NotEqualCompare:u8,NotEqualDepth:ZS,NotEqualStencilFunc:Mle,NumberKeyframeTrack:Jy,Object3D:Fn,ObjectLoader:kce,ObjectSpaceNormalMap:r8,OctahedronGeometry:Ix,OneFactor:zV,OneMinusConstantAlphaFactor:KV,OneMinusConstantColorFactor:qV,OneMinusDstAlphaFactor:jV,OneMinusDstColorFactor:HV,OneMinusSrcAlphaFactor:GS,OneMinusSrcColorFactor:BV,OrthographicCamera:Zc,PCFShadowMap:_g,PCFSoftShadowMap:ny,PMREMGenerator:j3,Path:NM,PerspectiveCamera:fr,Plane:Vc,PlaneGeometry:mf,PlaneHelper:Afe,PointLight:J8,PointLightHelper:vfe,Points:E8,PointsMaterial:RD,PolarGridHelper:_fe,PolyhedronGeometry:kd,PositionalAudio:Wce,PropertyBinding:kn,PropertyMixer:oj,QuadraticBezierCurve:LD,QuadraticBezierCurve3:$w,Quaternion:Ha,QuaternionKeyframeTrack:zx,QuaternionLinearInterpolant:K8,R11_EAC_Format:rM,RED_GREEN_RGTC2_Format:TM,RED_RGTC1_Format:EM,REVISION:Zg,RG11_EAC_Format:sM,RGBADepthPacking:i8,RGBAFormat:Ga,RGBAIntegerFormat:Lw,RGBA_ASTC_10x10_Format:xM,RGBA_ASTC_10x5_Format:gM,RGBA_ASTC_10x6_Format:vM,RGBA_ASTC_10x8_Format:yM,RGBA_ASTC_12x10_Format:bM,RGBA_ASTC_12x12_Format:_M,RGBA_ASTC_4x4_Format:lM,RGBA_ASTC_5x4_Format:uM,RGBA_ASTC_5x5_Format:cM,RGBA_ASTC_6x5_Format:fM,RGBA_ASTC_6x6_Format:dM,RGBA_ASTC_8x5_Format:hM,RGBA_ASTC_8x6_Format:pM,RGBA_ASTC_8x8_Format:mM,RGBA_BPTC_Format:SM,RGBA_ETC2_EAC_Format:iM,RGBA_PVRTC_2BPPV1_Format:eM,RGBA_PVRTC_4BPPV1_Format:JS,RGBA_S3TC_DXT1_Format:ay,RGBA_S3TC_DXT3_Format:sy,RGBA_S3TC_DXT5_Format:oy,RGBDepthPacking:sle,RGBFormat:yD,RGBIntegerFormat:nle,RGB_BPTC_SIGNED_Format:MM,RGB_BPTC_UNSIGNED_Format:wM,RGB_ETC1_Format:tM,RGB_ETC2_Format:nM,RGB_PVRTC_2BPPV1_Format:QS,RGB_PVRTC_4BPPV1_Format:$S,RGB_S3TC_DXT1_Format:ry,RGDepthPacking:ole,RGFormat:gp,RGIntegerFormat:Nw,RawShaderMaterial:kD,Ray:Cp,Raycaster:uj,RectAreaLight:nj,RedFormat:Ow,RedIntegerFormat:Dx,ReinhardToneMapping:Aw,RenderTarget:SD,RenderTarget3D:afe,RepeatWrapping:Vy,ReplaceStencilOp:dle,ReverseSubtractEquation:LV,RingGeometry:tE,SIGNED_R11_EAC_Format:aM,SIGNED_RED_GREEN_RGTC2_Format:CM,SIGNED_RED_RGTC1_Format:AM,SIGNED_RG11_EAC_Format:oM,SRGBColorSpace:Fa,SRGBTransfer:$n,Scene:AD,ShaderChunk:fn,ShaderLib:kl,ShaderMaterial:Qs,ShadowMaterial:z8,Shape:ip,ShapeGeometry:nE,ShapePath:Rfe,ShapeUtils:jl,ShortType:pD,Skeleton:Hw,SkeletonHelper:gfe,SkinnedMesh:_8,Source:vd,Sphere:Tr,SphereGeometry:Ux,Spherical:IM,SphericalHarmonics3:HD,SplineCurve:ID,SpotLight:Q8,SpotLightHelper:mfe,Sprite:x8,SpriteMaterial:TD,SrcAlphaFactor:jS,SrcAlphaSaturateFactor:WV,SrcColorFactor:FV,StaticCopyUsage:Ple,StaticDrawUsage:Xy,StaticReadUsage:Tle,StereoCamera:Vce,StreamCopyUsage:Ole,StreamDrawUsage:Ale,StreamReadUsage:Rle,StringKeyframeTrack:Dp,SubtractEquation:NV,SubtractiveBlending:P3,TOUCH:Bh,TangentSpaceNormalMap:Ud,TetrahedronGeometry:iE,Texture:Ki,TextureLoader:Nce,TextureUtils:Ife,Timer:ufe,TimestampQuery:Lle,TorusGeometry:rE,TorusKnotGeometry:aE,Triangle:Xs,TriangleFanDrawMode:ale,TriangleStripDrawMode:rle,TrianglesDrawMode:ile,TubeGeometry:sE,UVMapping:Cw,Uint16BufferAttribute:MD,Uint32BufferAttribute:wD,Uint8BufferAttribute:bue,Uint8ClampedBufferAttribute:_ue,Uniform:KD,UniformsGroup:ofe,UniformsLib:wt,UniformsUtils:Ky,UnsignedByteType:ds,UnsignedInt101111Type:gD,UnsignedInt248Type:Pg,UnsignedInt5999Type:mD,UnsignedIntType:fl,UnsignedShort4444Type:Pw,UnsignedShort5551Type:Dw,UnsignedShortType:Rg,VSMShadowMap:qh,Vector2:rt,Vector3:ne,Vector4:Nn,VectorKeyframeTrack:ex,VideoFrameTexture:Hue,VideoTexture:A8,WebGL3DRenderTarget:oue,WebGLArrayRenderTarget:sue,WebGLCoordinateSystem:go,WebGLCubeRenderTarget:ED,WebGLRenderTarget:Zs,WebGLRenderer:yj,WebGLUtils:vj,WebGPUCoordinateSystem:Dg,WebXRController:W_,WireframeGeometry:UD,WrapAroundEnding:Hy,ZeroCurvatureEnding:Yh,ZeroFactor:kV,ZeroSlopeEnding:Kh,ZeroStencilOp:fle,createCanvasElement:h8,error:Vt,getConsoleFunction:Fle,log:Yy,setConsoleFunction:zle,warn:Et,warnOnce:Og},Symbol.toStringTag,{value:"Module"})),l2=t=>{let e;const n=new Set,i=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(y=>y(e,v))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=e=t(i,r,l);return l},Pge=(t=>t?l2(t):l2),{useSyncExternalStoreWithSelector:Dge}=oY,Oge=t=>t;function Nge(t,e=Oge,n){const i=Dge(t.subscribe,t.getState,t.getInitialState,e,n);return So.useDebugValue(i),i}const u2=(t,e)=>{const n=Pge(t),i=(r,a=e)=>Nge(n,r,a);return Object.assign(i,n),i},Lge=((t,e)=>t?u2(t,e):u2),Ige=t=>typeof t=="object"&&typeof t.then=="function",E_=[];function Uge(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function kge(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const a of E_)if(Uge(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!n)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=E_.indexOf(r);a!==-1&&E_.splice(a,1)},promise:(Ige(t)?t:t(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(E_.push(r),!n)throw r.promise}const zge=(t,e,n)=>kge(t,e,!1,n);var W3=X2();const Fge=lf(W3);function $D(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=$D(i,e,n);if(r)return r;i=e?null:i.sibling}}function xj(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const QD=xj(F.createContext(null));class bj extends F.Component{render(){return F.createElement(QD.Provider,{value:this._reactInternals},this.props.children)}}function _j(){const t=F.useContext(QD);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const i=$D(n,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}const Bge=Symbol.for("react.context"),Vge=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Bge;function jge(){const t=_j(),[e]=F.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;Vge(i)&&i!==QD&&!e.has(i)&&e.set(i,F.use(xj(i))),n=n.return}return e}function Gge(){const t=jge();return F.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>F.createElement(e,null,F.createElement(n.Provider,{...i,value:t.get(n)})),e=>F.createElement(bj,{...e})),[t])}function Sj(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Mj=t=>t&&t.isOrthographicCamera,Hge=t=>t&&t.hasOwnProperty("current"),Wge=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),Fx=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?F.useLayoutEffect:F.useEffect;function wj(t){const e=F.useRef(t);return Fx(()=>{e.current=t},[t]),e}function Xge(){const t=_j(),e=Gge();return F.useMemo(()=>({children:n})=>{const r=!!$D(t,!0,a=>a.type===F.StrictMode)?F.StrictMode:F.Fragment;return G.jsx(r,{children:G.jsx(e,{children:n})})},[t,e])}function qge({set:t}){return Fx(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const Yge=(t=>(t=class extends F.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function Ej(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function ig(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const Xi={obj:t=>t===Object(t)&&!Xi.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Xi.str(t)||Xi.num(t)||Xi.boo(t))return t===e;const a=Xi.obj(t);if(a&&i==="reference")return t===e;const s=Xi.arr(t);if(s&&n==="reference")return t===e;if((s||a)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(a&&n==="shallow"&&i==="shallow"){for(l in r?e:t)if(!Xi.equ(t[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:t)if(t[l]!==e[l])return!1;if(Xi.und(l)){if(s&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Kge(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];n?.type!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const Aj=["children","key","ref"];function Zge(t){const e={};for(const n in t)Aj.includes(n)||(e[n]=t[n]);return e}function UM(t,e,n,i){const r=t;let a=r?.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:Zge(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function ix(t,e){if(!e.includes("-"))return{root:t,key:e,target:t[e]};if(e in t)return{root:t,key:e,target:t[e]};let n=t;const i=e.split("-");for(const r of i){if(typeof n!="object"||n===null){if(n!==void 0){const a=i.slice(i.indexOf(r)).join("-");return{root:n,key:a,target:void 0}}return{root:t,key:e,target:void 0}}e=r,t=n,n=n[e]}return{root:t,key:e,target:n}}const c2=/-\d+$/;function kM(t,e){if(Xi.str(e.props.attach)){if(c2.test(e.props.attach)){const r=e.props.attach.replace(c2,""),{root:a,key:s}=ix(t.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:n,key:i}=ix(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else Xi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function zM(t,e){if(Xi.str(e.props.attach)){const{root:n,key:i}=ix(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const X3=[...Aj,"args","dispose","attach","object","onUpdate","dispose"],f2=new Map;function $ge(t){let e=f2.get(t.constructor);try{e||(e=new t.constructor,f2.set(t.constructor,e))}catch{}return e}function Qge(t,e){const n={};for(const i in e)if(!X3.includes(i)&&!Xi.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(X3.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=ix(t.object,i);if(r.constructor&&r.constructor.length===0){const s=$ge(r);Xi.und(s)||(n[a]=s[a])}else n[a]=0}return n}const Jge=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],e0e=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function hd(t,e){var n;const i=t.__r3f,r=i&&Sj(i).getState(),a=i?.eventCount;for(const l in e){let u=e[l];if(X3.includes(l))continue;if(i&&e0e.test(l)){typeof u=="function"?i.handlers[l]=u:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:f,key:p,target:g}=ix(t,l);if(g===void 0&&(typeof f!="object"||f===null))throw Error(`R3F: Cannot set "${l}". Ensure it is an object before setting "${p}".`);if(g instanceof Lg&&u instanceof Lg)g.mask=u.mask;else if(g instanceof At&&Wge(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var s;f[p]=u,r&&!r.linear&&Jge.includes(p)&&(s=f[p])!=null&&s.isTexture&&f[p].format===Ga&&f[p].type===ds&&(f[p].colorSpace=Fa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&a!==i.eventCount){const l=i.object,u=r.internal.interaction.indexOf(l);u>-1&&r.internal.interaction.splice(u,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&e0(i),t}function e0(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function t0e(t,e){t.manual||(Mj(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const Ws=t=>t?.isObject3D;function A_(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Tj(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function n0e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{Tj(n.capturedMap,e,i,r)})}function i0e(t){function e(u){const{internal:f}=t.getState(),p=u.offsetX-f.initialClick[0],g=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function n(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=f.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function i(u,f){const p=t.getState(),g=new Set,v=[],y=f?f(p.internal.interaction):p.internal.interaction;for(let M=0;M<y.length;M++){const R=ig(y[M]);R&&(R.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(u,p);function _(M){const R=ig(M);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var T;R.events.compute==null||R.events.compute(u,R,(T=R.previousRoot)==null?void 0:T.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(M,!0):[]}let w=y.flatMap(_).sort((M,R)=>{const T=ig(M.object),P=ig(R.object);return!T||!P?M.distance-R.distance:P.events.priority-T.events.priority||M.distance-R.distance}).filter(M=>{const R=A_(M);return g.has(R)?!1:(g.add(R),!0)});p.events.filter&&(w=p.events.filter(w,p));for(const M of w){let R=M.object;for(;R;){var S;(S=R.__r3f)!=null&&S.eventCount&&v.push({...M,eventObject:R}),R=R.parent}}if("pointerId"in u&&p.internal.capturedMap.has(u.pointerId))for(let M of p.internal.capturedMap.get(u.pointerId).values())g.has(A_(M.intersection))||v.push(M.intersection);return v}function r(u,f,p,g){if(u.length){const v={stopped:!1};for(const y of u){let _=ig(y.object);if(_||y.object.traverseAncestors(w=>{const S=ig(w);if(S)return _=S,!1}),_){const{raycaster:w,pointer:S,camera:M,internal:R}=_,T=new ne(S.x,S.y,0).unproject(M),P=I=>{var U,W;return(U=(W=R.capturedMap.get(I))==null?void 0:W.has(y.eventObject))!=null?U:!1},O=I=>{const U={intersection:y,target:f.target};R.capturedMap.has(I)?R.capturedMap.get(I).set(y.eventObject,U):R.capturedMap.set(I,new Map([[y.eventObject,U]])),f.target.setPointerCapture(I)},N=I=>{const U=R.capturedMap.get(I);U&&Tj(R.capturedMap,y.eventObject,U,I)};let k={};for(let I in f){let U=f[I];typeof U!="function"&&(k[I]=U)}let z={...y,...k,pointer:S,intersections:u,stopped:v.stopped,delta:p,unprojectedPoint:T,ray:w.ray,camera:M,stopPropagation(){const I="pointerId"in f&&R.capturedMap.get(f.pointerId);if((!I||I.has(y.eventObject))&&(z.stopped=v.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(U=>U.eventObject===y.eventObject))){const U=u.slice(0,u.indexOf(y));a([...U,y])}},target:{hasPointerCapture:P,setPointerCapture:O,releasePointerCapture:N},currentTarget:{hasPointerCapture:P,setPointerCapture:O,releasePointerCapture:N},nativeEvent:f};if(g(z),v.stopped===!0)break}}}return u}function a(u){const{internal:f}=t.getState();for(const p of f.hovered.values())if(!u.length||!u.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const v=p.eventObject.__r3f;if(f.hovered.delete(A_(p)),v!=null&&v.eventCount){const y=v.handlers,_={...p,intersections:u};y.onPointerOut==null||y.onPointerOut(_),y.onPointerLeave==null||y.onPointerLeave(_)}}}function s(u,f){for(let p=0;p<f.length;p++){const g=f[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:p}=t.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),a([]))})}}return function(p){const{onPointerMissed:g,internal:v}=t.getState();v.lastEvent.current=p;const y=u==="onPointerMove",_=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",S=i(p,y?n:void 0),M=_?e(p):0;u==="onPointerDown"&&(v.initialClick=[p.offsetX,p.offsetY],v.initialHits=S.map(T=>T.eventObject)),_&&!S.length&&M<=2&&(s(p,v.interaction),g&&g(p)),y&&a(S);function R(T){const P=T.eventObject,O=P.__r3f;if(!(O!=null&&O.eventCount))return;const N=O.handlers;if(y){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const k=A_(T),z=v.hovered.get(k);z?z.stopped&&T.stopPropagation():(v.hovered.set(k,T),N.onPointerOver==null||N.onPointerOver(T),N.onPointerEnter==null||N.onPointerEnter(T))}N.onPointerMove==null||N.onPointerMove(T)}else{const k=N[u];k?(!_||v.initialHits.includes(P))&&(s(p,v.interaction.filter(z=>!v.initialHits.includes(z))),k(T)):_&&v.initialHits.includes(P)&&s(p,v.interaction.filter(z=>!v.initialHits.includes(z)))}}r(S,p,M,R)}}return{handlePointer:l}}const d2=t=>!!(t!=null&&t.render),Cj=F.createContext(null),r0e=(t,e)=>{const n=Lge((l,u)=>{const f=new ne,p=new ne,g=new ne;function v(M=u().camera,R=p,T=u().size){const{width:P,height:O,top:N,left:k}=T,z=P/O;R.isVector3?g.copy(R):g.set(...R);const I=M.getWorldPosition(f).distanceTo(g);if(Mj(M))return{width:P/M.zoom,height:O/M.zoom,top:N,left:k,factor:1,distance:I,aspect:z};{const U=M.fov*Math.PI/180,W=2*Math.tan(U/2)*I,H=W*(P/O);return{width:H,height:W,top:N,left:k,factor:P/H,distance:I,aspect:z}}}let y;const _=M=>l(R=>({performance:{...R.performance,current:M}})),w=new rt;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>t(u(),M),advance:(M,R)=>e(M,R,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new XD,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=u();y&&clearTimeout(y),M.performance.current!==M.performance.min&&_(M.performance.min),y=setTimeout(()=>_(u().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:M=>l(R=>({...R,events:{...R.events,...M}})),setSize:(M,R,T=0,P=0)=>{const O=u().camera,N={width:M,height:R,top:T,left:P};l(k=>({size:N,viewport:{...k.viewport,...v(O,p,N)}}))},setDpr:M=>l(R=>{const T=Ej(M);return{viewport:{...R.viewport,dpr:T,initialDpr:R.viewport.initialDpr||T}}}),setFrameloop:(M="always")=>{const R=u().clock;R.stop(),R.elapsedTime=0,M!=="never"&&(R.start(),R.elapsedTime=0),l(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:F.createRef(),active:!1,frames:0,priority:0,subscribe:(M,R,T)=>{const P=u().internal;return P.priority=P.priority+(R>0?1:0),P.subscribers.push({ref:M,priority:R,store:T}),P.subscribers=P.subscribers.sort((O,N)=>O.priority-N.priority),()=>{const O=u().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(R>0?1:0),O.subscribers=O.subscribers.filter(N=>N.ref!==M))}}}}}),i=n.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return n.subscribe(()=>{const{camera:l,size:u,viewport:f,gl:p,set:g}=n.getState();if(u.width!==r.width||u.height!==r.height||f.dpr!==a){r=u,a=f.dpr,t0e(l,u),f.dpr>0&&p.setPixelRatio(f.dpr);const v=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(u.width,u.height,v)}l!==s&&(s=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};function Rj(){const t=F.useContext(Cj);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function fs(t=n=>n,e){return Rj()(t,e)}function t0(t,e=0){const n=Rj(),i=n.getState().internal.subscribe,r=wj(t);return Fx(()=>i(r,e,n),[e,i,n]),null}const a0e=1,s0e=8,o0e=32,l0e=2;var u0e={version:"9.5.0"};function c0e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h2={exports:{}},p2={exports:{}},m2;function f0e(){return m2||(m2=1,(function(t){t.exports=function(e){function n(d,h,b,E){return new _0(d,h,b,E)}function i(){}function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){var h=d,b=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(b=h.return),d=h.return;while(d)}return h.tag===3?b:null}function s(d){if(a(d)!==d)throw Error(r(188))}function l(d){var h=d.alternate;if(!h){if(h=a(d),h===null)throw Error(r(188));return h!==d?null:d}for(var b=d,E=h;;){var D=b.return;if(D===null)break;var L=D.alternate;if(L===null){if(E=D.return,E!==null){b=E;continue}break}if(D.child===L.child){for(L=D.child;L;){if(L===b)return s(D),d;if(L===E)return s(D),h;L=L.sibling}throw Error(r(188))}if(b.return!==E.return)b=D,E=L;else{for(var K=!1,ve=D.child;ve;){if(ve===b){K=!0,b=D,E=L;break}if(ve===E){K=!0,E=D,b=L;break}ve=ve.sibling}if(!K){for(ve=L.child;ve;){if(ve===b){K=!0,b=L,E=D;break}if(ve===E){K=!0,E=L,b=D;break}ve=ve.sibling}if(!K)throw Error(r(189))}}if(b.alternate!==E)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?d:h}function u(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=u(d),h!==null)return h;d=d.sibling}return null}function f(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(d.tag!==4&&(h=f(d),h!==null))return h;d=d.sibling}return null}function p(d){return d===null||typeof d!="object"?null:(d=Sl&&d[Sl]||d["@@iterator"],typeof d=="function"?d:null)}function g(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===pu?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case gc:return"Fragment";case yc:return"Profiler";case vc:return"StrictMode";case tm:return"Suspense";case _l:return"SuspenseList";case th:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case mc:return"Portal";case Ds:return d.displayName||"Context";case eh:return(d._context.displayName||"Context")+".Consumer";case Of:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case nm:return h=d.displayName||null,h!==null?h:g(d.type)||"Memo";case ua:h=d._payload,d=d._init;try{return g(d(h))}catch{}}return null}function v(d){return{current:d}}function y(d){0>Mc||(d.current=mm[Mc],mm[Mc]=null,Mc--)}function _(d,h){Mc++,mm[Mc]=d.current,d.current=h}function w(d){return d>>>=0,d===0?32:31-(gm(d)/Kb|0)|0}function S(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function M(d,h,b){var E=d.pendingLanes;if(E===0)return 0;var D=0,L=d.suspendedLanes,K=d.pingedLanes;d=d.warmLanes;var ve=E&134217727;return ve!==0?(E=ve&~L,E!==0?D=S(E):(K&=ve,K!==0?D=S(K):b||(b=ve&~d,b!==0&&(D=S(b))))):(ve=E&~L,ve!==0?D=S(ve):K!==0?D=S(K):b||(b=E&~d,b!==0&&(D=S(b)))),D===0?0:h!==0&&h!==D&&(h&L)===0&&(L=D&-D,b=h&-h,L>=b||L===32&&(b&4194048)!==0)?h:D}function R(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function T(d,h){switch(d){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var d=Ff;return Ff<<=1,(Ff&62914560)===0&&(Ff=4194304),d}function O(d){for(var h=[],b=0;31>b;b++)h.push(d);return h}function N(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function k(d,h,b,E,D,L){var K=d.pendingLanes;d.pendingLanes=b,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=b,d.entangledLanes&=b,d.errorRecoveryDisabledLanes&=b,d.shellSuspendCounter=0;var ve=d.entanglements,Ye=d.expirationTimes,ct=d.hiddenUpdates;for(b=K&~b;0<b;){var yt=31-Pa(b),ht=1<<yt;ve[yt]=0,Ye[yt]=-1;var Tt=ct[yt];if(Tt!==null)for(ct[yt]=null,yt=0;yt<Tt.length;yt++){var en=Tt[yt];en!==null&&(en.lane&=-536870913)}b&=~ht}E!==0&&z(d,E,0),L!==0&&D===0&&d.tag!==0&&(d.suspendedLanes|=L&~(K&~h))}function z(d,h,b){d.pendingLanes|=h,d.suspendedLanes&=~h;var E=31-Pa(h);d.entangledLanes|=h,d.entanglements[E]=d.entanglements[E]|1073741824|b&261930}function I(d,h){var b=d.entangledLanes|=h;for(d=d.entanglements;b;){var E=31-Pa(b),D=1<<E;D&h|d[E]&h&&(d[E]|=h),b&=~D}}function U(d,h){var b=h&-h;return b=(b&42)!==0?1:W(b),(b&(d.suspendedLanes|h))!==0?0:b}function W(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function H(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Y(d){if(typeof sv=="function"&&Qb(d),Da&&typeof Da.setStrictMode=="function")try{Da.setStrictMode(Ec,d)}catch{}}function J(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}function ie(d){if(Sm===void 0)try{throw Error()}catch(b){var h=b.stack.trim().match(/\n( *(at )?)/);Sm=h&&h[1]||"",jo=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sm+d+jo}function X(d,h){if(!d||ch)return"";ch=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(h){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(en){var Tt=en}Reflect.construct(d,[],ht)}else{try{ht.call()}catch(en){Tt=en}d.call(ht.prototype)}}else{try{throw Error()}catch(en){Tt=en}(ht=d())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(en){if(en&&Tt&&typeof en.stack=="string")return[en.stack,Tt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=E.DetermineComponentFrameRoot(),K=L[0],ve=L[1];if(K&&ve){var Ye=K.split(`
`),ct=ve.split(`
`);for(D=E=0;E<Ye.length&&!Ye[E].includes("DetermineComponentFrameRoot");)E++;for(;D<ct.length&&!ct[D].includes("DetermineComponentFrameRoot");)D++;if(E===Ye.length||D===ct.length)for(E=Ye.length-1,D=ct.length-1;1<=E&&0<=D&&Ye[E]!==ct[D];)D--;for(;1<=E&&0<=D;E--,D--)if(Ye[E]!==ct[D]){if(E!==1||D!==1)do if(E--,D--,0>D||Ye[E]!==ct[D]){var yt=`
`+Ye[E].replace(" at new "," at ");return d.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",d.displayName)),yt}while(1<=E&&0<=D);break}}}finally{ch=!1,Error.prepareStackTrace=b}return(b=d?d.displayName||d.name:"")?ie(b):""}function te(d,h){switch(d.tag){case 26:case 27:case 5:return ie(d.type);case 16:return ie("Lazy");case 13:return d.child!==h&&h!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return X(d.type,!1);case 11:return X(d.type.render,!1);case 1:return X(d.type,!0);case 31:return ie("Activity");default:return""}}function de(d){try{var h="",b=null;do h+=te(d,b),b=d,d=d.return;while(d);return h}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function he(d,h){if(typeof d=="object"&&d!==null){var b=ov.get(d);return b!==void 0?b:(h={value:d,source:h,stack:de(h)},ov.set(d,h),h)}return{value:d,source:h,stack:de(h)}}function le(d,h){El[Go++]=fh,El[Go++]=Zn,Zn=d,fh=h}function V(d,h,b){Ls[rs++]=Dr,Ls[rs++]=oo,Ls[rs++]=Is,Is=d;var E=Dr;d=oo;var D=32-Pa(E)-1;E&=~(1<<D),b+=1;var L=32-Pa(h)+D;if(30<L){var K=D-D%5;L=(E&(1<<K)-1).toString(32),E>>=K,D-=K,Dr=1<<32-Pa(h)+D|b<<D|E,oo=L+d}else Dr=1<<L|b<<D|E,oo=d}function ee(d){d.return!==null&&(le(d,1),V(d,1,0))}function re(d){for(;d===Zn;)Zn=El[--Go],El[Go]=null,fh=El[--Go],El[Go]=null;for(;d===Is;)Is=Ls[--rs],Ls[rs]=null,oo=Ls[--rs],Ls[rs]=null,Dr=Ls[--rs],Ls[rs]=null}function pe(d,h){Ls[rs++]=Dr,Ls[rs++]=oo,Ls[rs++]=Is,Dr=h.id,oo=h.overflow,Is=d}function ye(d,h){_(Or,h),_(Al,d),_(_r,null),d=fb(h),y(_r),_(_r,d)}function se(){y(_r),y(Al),y(Or)}function ce(d){d.memoizedState!==null&&_(dh,d);var h=_r.current,b=If(h,d.type);h!==b&&(_(Al,d),_(_r,b))}function Se(d){Al.current===d&&(y(_r),y(Al)),dh.current===d&&(y(dh),Bi?_c._currentValue=bc:_c._currentValue2=bc)}function fe(d){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ae(he(h,d)),Mm}function Oe(d,h){if(!mi)throw Error(r(175));kb(d.stateNode,d.type,d.memoizedProps,h,d)||fe(d,!0)}function ke(d){for(or=d.return;or;)switch(or.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:or=or.return}}function me(d){if(!mi||d!==or)return!1;if(!bn)return ke(d),bn=!0,!1;var h=d.tag;if(sr?h!==3&&h!==27&&(h!==5||zf(d.type)&&!ca(d.type,d.memoizedProps))&&gi&&fe(d):h!==3&&(h!==5||zf(d.type)&&!ca(d.type,d.memoizedProps))&&gi&&fe(d),ke(d),h===13){if(!mi)throw Error(r(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));gi=K0(d)}else if(h===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));gi=Fb(d)}else gi=sr&&h===27?Rb(d.type,gi):or?Cb(d.stateNode):null;return!0}function ut(){mi&&(gi=or=null,bn=!1)}function _e(){var d=Ho;return d!==null&&(La===null?La=d:La.push.apply(La,d),Ho=null),d}function Ae(d){Ho===null?Ho=[d]:Ho.push(d)}function Me(d,h,b){Bi?(_(Us,h._currentValue),h._currentValue=b):(_(Us,h._currentValue2),h._currentValue2=b)}function Ge(d){var h=Us.current;Bi?d._currentValue=h:d._currentValue2=h,y(Us)}function Z(d,h,b){for(;d!==null;){var E=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),d===b)break;d=d.return}}function at(d,h,b,E){var D=d.child;for(D!==null&&(D.return=d);D!==null;){var L=D.dependencies;if(L!==null){var K=D.child;L=L.firstContext;e:for(;L!==null;){var ve=L;L=D;for(var Ye=0;Ye<h.length;Ye++)if(ve.context===h[Ye]){L.lanes|=b,ve=L.alternate,ve!==null&&(ve.lanes|=b),Z(L.return,b,d),E||(K=null);break e}L=ve.next}}else if(D.tag===18){if(K=D.return,K===null)throw Error(r(341));K.lanes|=b,L=K.alternate,L!==null&&(L.lanes|=b),Z(K,b,d),K=null}else K=D.child;if(K!==null)K.return=D;else for(K=D;K!==null;){if(K===d){K=null;break}if(D=K.sibling,D!==null){D.return=K.return,K=D;break}K=K.return}D=K}}function qe(d,h,b,E){d=null;for(var D=h,L=!1;D!==null;){if(!L){if((D.flags&524288)!==0)L=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var K=D.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var ve=D.type;ji(D.pendingProps.value,K.value)||(d!==null?d.push(ve):d=[ve])}}else if(D===dh.current){if(K=D.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(d!==null?d.push(_c):d=[_c])}D=D.return}d!==null&&at(h,d,b,E),h.flags|=262144}function Ne(d){for(d=d.firstContext;d!==null;){var h=d.context;if(!ji(Bi?h._currentValue:h._currentValue2,d.memoizedValue))return!0;d=d.next}return!1}function Ze(d){ii=d,lo=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function q(d){return oe(ii,d)}function j(d,h){return ii===null&&Ze(d),oe(d,h)}function oe(d,h){var b=Bi?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:b,next:null},lo===null){if(d===null)throw Error(r(308));lo=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else lo=lo.next=h;return b}function De(){return{controller:new Jb,data:new Map,refCount:0}}function Re(d){d.refCount--,d.refCount===0&&Sr(wE,function(){d.controller.abort()})}function be(){}function nt(d){d!==Wn&&d.next===null&&(Wn===null?hh=Wn=d:Wn=Wn.next=d),ks=!0,Zr||(Zr=!0,ae())}function Je(d,h){if(!wm&&ks){wm=!0;do for(var b=!1,E=hh;E!==null;){if(d!==0){var D=E.pendingLanes;if(D===0)var L=0;else{var K=E.suspendedLanes,ve=E.pingedLanes;L=(1<<31-Pa(42|d)+1)-1,L&=D&~(K&~ve),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(b=!0,tt(E,L))}else L=_n,L=M(E,E===cn?L:0,E.cancelPendingCommit!==null||E.timeoutHandle!==Ra),(L&3)===0||R(E,L)||(b=!0,tt(E,L));E=E.next}while(b);wm=!1}}function pt(){St()}function St(){ks=Zr=!1;var d=0;xu!==0&&xc()&&(d=xu);for(var h=Kr(),b=null,E=hh;E!==null;){var D=E.next,L=Xe(E,h);L===0?(E.next=null,b===null?hh=D:b.next=D,D===null&&(Wn=b)):(b=E,(d!==0||(L&3)!==0)&&(ks=!0)),E=D}tr!==0&&tr!==5||Je(d),xu!==0&&(xu=0)}function Xe(d,h){for(var b=d.suspendedLanes,E=d.pingedLanes,D=d.expirationTimes,L=d.pendingLanes&-62914561;0<L;){var K=31-Pa(L),ve=1<<K,Ye=D[K];Ye===-1?((ve&b)===0||(ve&E)!==0)&&(D[K]=T(ve,h)):Ye<=h&&(d.expiredLanes|=ve),L&=~ve}if(h=cn,b=_n,b=M(d,d===h?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==Ra),E=d.callbackNode,b===0||d===h&&(qn===2||qn===9)||d.cancelPendingCommit!==null)return E!==null&&E!==null&&ym(E),d.callbackNode=null,d.callbackPriority=0;if((b&3)===0||R(d,b)){if(h=b&-b,h===d.callbackPriority)return h;switch(E!==null&&ym(E),H(b)){case 2:case 8:b=$b;break;case 32:b=uh;break;case 268435456:b=bm;break;default:b=uh}return E=$e.bind(null,d),b=lh(b,E),d.callbackPriority=h,d.callbackNode=b,h}return E!==null&&E!==null&&ym(E),d.callbackPriority=2,d.callbackNode=null,2}function $e(d,h){if(tr!==0&&tr!==5)return d.callbackNode=null,d.callbackPriority=0,null;var b=d.callbackNode;if(Fo()&&d.callbackNode!==b)return null;var E=_n;return E=M(d,d===cn?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==Ra),E===0?null:(so(d,E,h),Xe(d,Kr()),d.callbackNode!=null&&d.callbackNode===b?$e.bind(null,d):null)}function tt(d,h){if(Fo())return null;so(d,h,!0)}function ae(){N0?L0(function(){(vn&6)!==0?lh(xm,pt):St()}):lh(xm,pt)}function Ee(){if(xu===0){var d=Tl;d===0&&(d=vm,vm<<=1,(vm&261888)===0&&(vm=256)),xu=d}return xu}function ft(d,h){if(Bf===null){var b=Bf=[];lv=0,Tl=Ee(),lr={status:"pending",value:void 0,then:function(E){b.push(E)}}}return lv++,h.then(ue,ue),h}function ue(){if(--lv===0&&Bf!==null){lr!==null&&(lr.status="fulfilled");var d=Bf;Bf=null,Tl=0,lr=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function He(d,h){var b=[],E={status:"pending",value:null,reason:null,then:function(D){b.push(D)}};return d.then(function(){E.status="fulfilled",E.value=h;for(var D=0;D<b.length;D++)(0,b[D])(h)},function(D){for(E.status="rejected",E.reason=D,D=0;D<b.length;D++)(0,b[D])(void 0)}),E}function Qe(){var d=bu.current;return d!==null?d:cn.pooledCache}function mt(d,h){h===null?_(bu,bu.current):_(bu,h.pool)}function et(){var d=Qe();return d===null?null:{parent:Bi?vi._currentValue:vi._currentValue2,pool:d}}function ze(d,h){if(ji(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var b=Object.keys(d),E=Object.keys(h);if(b.length!==E.length)return!1;for(E=0;E<b.length;E++){var D=b[E];if(!ME.call(h,D)||!ji(d[D],h[D]))return!1}return!0}function st(d){return d=d.status,d==="fulfilled"||d==="rejected"}function bt(d,h,b){switch(b=d[b],b===void 0?d.push(h):b!==h&&(h.then(be,be),h=b),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,hn(d),d;default:if(typeof h.status=="string")h.then(be,be);else{if(d=cn,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=h,d.status="pending",d.then(function(E){if(h.status==="pending"){var D=h;D.status="fulfilled",D.value=E}},function(E){if(h.status==="pending"){var D=h;D.status="rejected",D.reason=E}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,hn(d),d}throw da=h,ur}}function xt(d){try{var h=d._init;return h(d._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(da=b,ur):b}}function Nt(){if(da===null)throw Error(r(459));var d=da;return da=null,d}function hn(d){if(d===ur||d===Fs)throw Error(r(483))}function Sn(d){var h=Ac;return Ac+=1,_u===null&&(_u=[]),bt(_u,d,h)}function Yn(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function Zi(d,h){throw h.$$typeof===pc?Error(r(525)):(d=Object.prototype.toString.call(h),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function jr(d){function h(Be,Pe){if(d){var We=Be.deletions;We===null?(Be.deletions=[Pe],Be.flags|=16):We.push(Pe)}}function b(Be,Pe){if(!d)return null;for(;Pe!==null;)h(Be,Pe),Pe=Pe.sibling;return null}function E(Be){for(var Pe=new Map;Be!==null;)Be.key!==null?Pe.set(Be.key,Be):Pe.set(Be.index,Be),Be=Be.sibling;return Pe}function D(Be,Pe){return Be=ns(Be,Pe),Be.index=0,Be.sibling=null,Be}function L(Be,Pe,We){return Be.index=We,d?(We=Be.alternate,We!==null?(We=We.index,We<Pe?(Be.flags|=67108866,Pe):We):(Be.flags|=67108866,Pe)):(Be.flags|=1048576,Pe)}function K(Be){return d&&Be.alternate===null&&(Be.flags|=67108866),Be}function ve(Be,Pe,We,vt){return Pe===null||Pe.tag!==6?(Pe=S0(We,Be.mode,vt),Pe.return=Be,Pe):(Pe=D(Pe,We),Pe.return=Be,Pe)}function Ye(Be,Pe,We,vt){var Wt=We.type;return Wt===gc?yt(Be,Pe,We.props.children,vt,We.key):Pe!==null&&(Pe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===ua&&xt(Wt)===Pe.type)?(Pe=D(Pe,We.props),Yn(Pe,We),Pe.return=Be,Pe):(Pe=bl(We.type,We.key,We.props,null,Be.mode,vt),Yn(Pe,We),Pe.return=Be,Pe)}function ct(Be,Pe,We,vt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==We.containerInfo||Pe.stateNode.implementation!==We.implementation?(Pe=w0(We,Be.mode,vt),Pe.return=Be,Pe):(Pe=D(Pe,We.children||[]),Pe.return=Be,Pe)}function yt(Be,Pe,We,vt,Wt){return Pe===null||Pe.tag!==7?(Pe=Ps(We,Be.mode,vt,Wt),Pe.return=Be,Pe):(Pe=D(Pe,We),Pe.return=Be,Pe)}function ht(Be,Pe,We){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=S0(""+Pe,Be.mode,We),Pe.return=Be,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case Bo:return We=bl(Pe.type,Pe.key,Pe.props,null,Be.mode,We),Yn(We,Pe),We.return=Be,We;case mc:return Pe=w0(Pe,Be.mode,We),Pe.return=Be,Pe;case ua:return Pe=xt(Pe),ht(Be,Pe,We)}if(mu(Pe)||p(Pe))return Pe=Ps(Pe,Be.mode,We,null),Pe.return=Be,Pe;if(typeof Pe.then=="function")return ht(Be,Sn(Pe),We);if(Pe.$$typeof===Ds)return ht(Be,j(Be,Pe),We);Zi(Be,Pe)}return null}function Tt(Be,Pe,We,vt){var Wt=Pe!==null?Pe.key:null;if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Wt!==null?null:ve(Be,Pe,""+We,vt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case Bo:return We.key===Wt?Ye(Be,Pe,We,vt):null;case mc:return We.key===Wt?ct(Be,Pe,We,vt):null;case ua:return We=xt(We),Tt(Be,Pe,We,vt)}if(mu(We)||p(We))return Wt!==null?null:yt(Be,Pe,We,vt,null);if(typeof We.then=="function")return Tt(Be,Pe,Sn(We),vt);if(We.$$typeof===Ds)return Tt(Be,Pe,j(Be,We),vt);Zi(Be,We)}return null}function en(Be,Pe,We,vt,Wt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Be=Be.get(We)||null,ve(Pe,Be,""+vt,Wt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case Bo:return Be=Be.get(vt.key===null?We:vt.key)||null,Ye(Pe,Be,vt,Wt);case mc:return Be=Be.get(vt.key===null?We:vt.key)||null,ct(Pe,Be,vt,Wt);case ua:return vt=xt(vt),en(Be,Pe,We,vt,Wt)}if(mu(vt)||p(vt))return Be=Be.get(We)||null,yt(Pe,Be,vt,Wt,null);if(typeof vt.then=="function")return en(Be,Pe,We,Sn(vt),Wt);if(vt.$$typeof===Ds)return en(Be,Pe,We,j(Pe,vt),Wt);Zi(Pe,vt)}return null}function Wi(Be,Pe,We,vt){for(var Wt=null,Ti=null,Xt=Pe,Rn=Pe=0,Mr=null;Xt!==null&&Rn<We.length;Rn++){Xt.index>Rn?(Mr=Xt,Xt=null):Mr=Xt.sibling;var Ln=Tt(Be,Xt,We[Rn],vt);if(Ln===null){Xt===null&&(Xt=Mr);break}d&&Xt&&Ln.alternate===null&&h(Be,Xt),Pe=L(Ln,Pe,Rn),Ti===null?Wt=Ln:Ti.sibling=Ln,Ti=Ln,Xt=Mr}if(Rn===We.length)return b(Be,Xt),bn&&le(Be,Rn),Wt;if(Xt===null){for(;Rn<We.length;Rn++)Xt=ht(Be,We[Rn],vt),Xt!==null&&(Pe=L(Xt,Pe,Rn),Ti===null?Wt=Xt:Ti.sibling=Xt,Ti=Xt);return bn&&le(Be,Rn),Wt}for(Xt=E(Xt);Rn<We.length;Rn++)Mr=en(Xt,Be,Rn,We[Rn],vt),Mr!==null&&(d&&Mr.alternate!==null&&Xt.delete(Mr.key===null?Rn:Mr.key),Pe=L(Mr,Pe,Rn),Ti===null?Wt=Mr:Ti.sibling=Mr,Ti=Mr);return d&&Xt.forEach(function(js){return h(Be,js)}),bn&&le(Be,Rn),Wt}function Yf(Be,Pe,We,vt){if(We==null)throw Error(r(151));for(var Wt=null,Ti=null,Xt=Pe,Rn=Pe=0,Mr=null,Ln=We.next();Xt!==null&&!Ln.done;Rn++,Ln=We.next()){Xt.index>Rn?(Mr=Xt,Xt=null):Mr=Xt.sibling;var js=Tt(Be,Xt,Ln.value,vt);if(js===null){Xt===null&&(Xt=Mr);break}d&&Xt&&js.alternate===null&&h(Be,Xt),Pe=L(js,Pe,Rn),Ti===null?Wt=js:Ti.sibling=js,Ti=js,Xt=Mr}if(Ln.done)return b(Be,Xt),bn&&le(Be,Rn),Wt;if(Xt===null){for(;!Ln.done;Rn++,Ln=We.next())Ln=ht(Be,Ln.value,vt),Ln!==null&&(Pe=L(Ln,Pe,Rn),Ti===null?Wt=Ln:Ti.sibling=Ln,Ti=Ln);return bn&&le(Be,Rn),Wt}for(Xt=E(Xt);!Ln.done;Rn++,Ln=We.next())Ln=en(Xt,Be,Rn,Ln.value,vt),Ln!==null&&(d&&Ln.alternate!==null&&Xt.delete(Ln.key===null?Rn:Ln.key),Pe=L(Ln,Pe,Rn),Ti===null?Wt=Ln:Ti.sibling=Ln,Ti=Ln);return d&&Xt.forEach(function(EE){return h(Be,EE)}),bn&&le(Be,Rn),Wt}function Ru(Be,Pe,We,vt){if(typeof We=="object"&&We!==null&&We.type===gc&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case Bo:e:{for(var Wt=We.key;Pe!==null;){if(Pe.key===Wt){if(Wt=We.type,Wt===gc){if(Pe.tag===7){b(Be,Pe.sibling),vt=D(Pe,We.props.children),vt.return=Be,Be=vt;break e}}else if(Pe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===ua&&xt(Wt)===Pe.type){b(Be,Pe.sibling),vt=D(Pe,We.props),Yn(vt,We),vt.return=Be,Be=vt;break e}b(Be,Pe);break}else h(Be,Pe);Pe=Pe.sibling}We.type===gc?(vt=Ps(We.props.children,Be.mode,vt,We.key),vt.return=Be,Be=vt):(vt=bl(We.type,We.key,We.props,null,Be.mode,vt),Yn(vt,We),vt.return=Be,Be=vt)}return K(Be);case mc:e:{for(Wt=We.key;Pe!==null;){if(Pe.key===Wt)if(Pe.tag===4&&Pe.stateNode.containerInfo===We.containerInfo&&Pe.stateNode.implementation===We.implementation){b(Be,Pe.sibling),vt=D(Pe,We.children||[]),vt.return=Be,Be=vt;break e}else{b(Be,Pe);break}else h(Be,Pe);Pe=Pe.sibling}vt=w0(We,Be.mode,vt),vt.return=Be,Be=vt}return K(Be);case ua:return We=xt(We),Ru(Be,Pe,We,vt)}if(mu(We))return Wi(Be,Pe,We,vt);if(p(We)){if(Wt=p(We),typeof Wt!="function")throw Error(r(150));return We=Wt.call(We),Yf(Be,Pe,We,vt)}if(typeof We.then=="function")return Ru(Be,Pe,Sn(We),vt);if(We.$$typeof===Ds)return Ru(Be,Pe,j(Be,We),vt);Zi(Be,We)}return typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint"?(We=""+We,Pe!==null&&Pe.tag===6?(b(Be,Pe.sibling),vt=D(Pe,We),vt.return=Be,Be=vt):(b(Be,Pe),vt=S0(We,Be.mode,vt),vt.return=Be,Be=vt),K(Be)):b(Be,Pe)}return function(Be,Pe,We,vt){try{Ac=0;var Wt=Ru(Be,Pe,We,vt);return _u=null,Wt}catch(Xt){if(Xt===ur||Xt===Fs)throw Xt;var Ti=n(29,Xt,null,Be.mode);return Ti.lanes=vt,Ti.return=Be,Ti}}}function pr(){for(var d=Xo,h=Tc=Xo=0;h<d;){var b=Lr[h];Lr[h++]=null;var E=Lr[h];Lr[h++]=null;var D=Lr[h];Lr[h++]=null;var L=Lr[h];if(Lr[h++]=null,E!==null&&D!==null){var K=E.pending;K===null?D.next=D:(D.next=K.next,K.next=D),E.pending=D}L!==0&&Hn(b,D,L)}}function mr(d,h,b,E){Lr[Xo++]=d,Lr[Xo++]=h,Lr[Xo++]=b,Lr[Xo++]=E,Tc|=E,d.lanes|=E,d=d.alternate,d!==null&&(d.lanes|=E)}function ra(d,h,b,E){return mr(d,h,b,E),In(d)}function ei(d,h){return mr(d,null,null,h),In(d)}function Hn(d,h,b){d.lanes|=b;var E=d.alternate;E!==null&&(E.lanes|=b);for(var D=!1,L=d.return;L!==null;)L.childLanes|=b,E=L.alternate,E!==null&&(E.childLanes|=b),L.tag===22&&(d=L.stateNode,d===null||d._visibility&1||(D=!0)),d=L,L=L.return;return d.tag===3?(L=d.stateNode,D&&h!==null&&(D=31-Pa(b),d=L.hiddenUpdates,E=d[D],E===null?d[D]=[h]:E.push(h),h.lane=b|536870912),L):null}function In(d){if(50<On)throw On=0,xh=null,Error(r(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}function Ri(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cr(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function aa(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Gr(d,h,b){var E=d.updateQueue;if(E===null)return null;if(E=E.shared,(vn&2)!==0){var D=E.pending;return D===null?h.next=h:(h.next=D.next,D.next=h),E.pending=h,h=In(d),Hn(d,null,b),h}return mr(d,E,h,b),In(d)}function Ya(d,h,b){if(h=h.updateQueue,h!==null&&(h=h.shared,(b&4194048)!==0)){var E=h.lanes;E&=d.pendingLanes,b|=E,h.lanes=b,I(d,b)}}function to(d,h){var b=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,b===E)){var D=null,L=null;if(b=b.firstBaseUpdate,b!==null){do{var K={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};L===null?D=L=K:L=L.next=K,b=b.next}while(b!==null);L===null?D=L=h:L=L.next=h}else D=L=h;b={baseState:E.baseState,firstBaseUpdate:D,lastBaseUpdate:L,shared:E.shared,callbacks:E.callbacks},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=h:d.next=h,b.lastBaseUpdate=h}function Ka(){if(Am){var d=lr;if(d!==null)throw d}}function bs(d,h,b,E){Am=!1;var D=d.updateQueue;as=!1;var L=D.firstBaseUpdate,K=D.lastBaseUpdate,ve=D.shared.pending;if(ve!==null){D.shared.pending=null;var Ye=ve,ct=Ye.next;Ye.next=null,K===null?L=ct:K.next=ct,K=Ye;var yt=d.alternate;yt!==null&&(yt=yt.updateQueue,ve=yt.lastBaseUpdate,ve!==K&&(ve===null?yt.firstBaseUpdate=ct:ve.next=ct,yt.lastBaseUpdate=Ye))}if(L!==null){var ht=D.baseState;K=0,yt=ct=Ye=null,ve=L;do{var Tt=ve.lane&-536870913,en=Tt!==ve.lane;if(en?(_n&Tt)===Tt:(E&Tt)===Tt){Tt!==0&&Tt===Tl&&(Am=!0),yt!==null&&(yt=yt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var Wi=d,Yf=ve;Tt=h;var Ru=b;switch(Yf.tag){case 1:if(Wi=Yf.payload,typeof Wi=="function"){ht=Wi.call(Ru,ht,Tt);break e}ht=Wi;break e;case 3:Wi.flags=Wi.flags&-65537|128;case 0:if(Wi=Yf.payload,Tt=typeof Wi=="function"?Wi.call(Ru,ht,Tt):Wi,Tt==null)break e;ht=em({},ht,Tt);break e;case 2:as=!0}}Tt=ve.callback,Tt!==null&&(d.flags|=64,en&&(d.flags|=8192),en=D.callbacks,en===null?D.callbacks=[Tt]:en.push(Tt))}else en={lane:Tt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},yt===null?(ct=yt=en,Ye=ht):yt=yt.next=en,K|=Tt;if(ve=ve.next,ve===null){if(ve=D.shared.pending,ve===null)break;en=ve,ve=en.next,en.next=null,D.lastBaseUpdate=en,D.shared.pending=null}}while(!0);yt===null&&(Ye=ht),D.baseState=Ye,D.firstBaseUpdate=ct,D.lastBaseUpdate=yt,L===null&&(D.shared.lanes=0),Rl|=K,d.lanes=K,d.memoizedState=ht}}function wa(d,h){if(typeof d!="function")throw Error(r(191,d));d.call(h)}function Za(d,h){var b=d.callbacks;if(b!==null)for(d.callbacks=null,d=0;d<b.length;d++)wa(b[d],h)}function _s(d,h){d=Yo,_(Su,d),_(Cc,h),Yo=d|h.baseLanes}function Dt(){_(Su,Yo),_(Cc,Cc.current)}function $(){Yo=Su.current,y(Cc),y(Su)}function we(d){var h=d.alternate;_(Oi,Oi.current&1),_(Oa,d),Na===null&&(h===null||Cc.current!==null||h.memoizedState!==null)&&(Na=d)}function Ve(d){_(Oi,Oi.current),_(Oa,d),Na===null&&(Na=d)}function Le(d){d.tag===22?(_(Oi,Oi.current),_(Oa,d),Na===null&&(Na=d)):Te()}function Te(){_(Oi,Oi.current),_(Oa,Oa.current)}function gt(d){y(Oa),Na===d&&(Na=null),y(Oi)}function Mt(d){for(var h=d;h!==null;){if(h.tag===13){var b=h.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||vu(b)||lm(b)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function dt(){throw Error(r(321))}function Ct(d,h){if(h===null)return!1;for(var b=0;b<h.length&&b<d.length;b++)if(!ji(d[b],h[b]))return!1;return!0}function Rt(d,h,b,E,D,L){return Cl=L,nn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Gt.H=d===null||d.memoizedState===null?wi:qo,Tn=!1,L=b(E,D),Tn=!1,on&&(L=Pt(h,b,E,D)),Bt(d),L}function Bt(d){Gt.H=ss;var h=Ft!==null&&Ft.next!==null;if(Cl=0,Jt=Ft=nn=null,un=!1,Bs=0,uo=null,h)throw Error(r(300));d===null||ui||(d=d.dependencies,d!==null&&Ne(d)&&(ui=!0))}function Pt(d,h,b,E){nn=d;var D=0;do{if(on&&(uo=null),Bs=0,on=!1,25<=D)throw Error(r(301));if(D+=1,Jt=Ft=null,d.updateQueue!=null){var L=d.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}Gt.H=Mu,L=h(b,E)}while(on);return L}function jt(){var d=Gt.H,h=d.useState()[0];return h=typeof h.then=="function"?kt(h):h,d=d.useState()[0],(Ft!==null?Ft.memoizedState:null)!==d&&(nn.flags|=1024),h}function pn(){var d=$r!==0;return $r=0,d}function Bn(d,h,b){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~b}function An(d){if(un){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}un=!1}Cl=0,Jt=Ft=nn=null,on=!1,Bs=$r=0,uo=null}function Kt(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?nn.memoizedState=Jt=d:Jt=Jt.next=d,Jt}function _t(){if(Ft===null){var d=nn.alternate;d=d!==null?d.memoizedState:null}else d=Ft.next;var h=Jt===null?nn.memoizedState:Jt.next;if(h!==null)Jt=h,Ft=d;else{if(d===null)throw nn.alternate===null?Error(r(467)):Error(r(310));Ft=d,d={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Jt===null?nn.memoizedState=Jt=d:Jt=Jt.next=d}return Jt}function gn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kt(d){var h=Bs;return Bs+=1,uo===null&&(uo=[]),d=bt(uo,d,h),h=nn,(Jt===null?h.memoizedState:Jt.next)===null&&(h=h.alternate,Gt.H=h===null||h.memoizedState===null?wi:qo),d}function Pi(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return kt(d);if(d.$$typeof===Ds)return q(d)}throw Error(r(438,String(d)))}function Hr(d){var h=null,b=nn.updateQueue;if(b!==null&&(h=b.memoCache),h==null){var E=nn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(h={data:E.data.map(function(D){return D.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),b===null&&(b=gn(),nn.updateQueue=b),b.memoCache=h,b=h.data[h.index],b===void 0)for(b=h.data[h.index]=Array(d),E=0;E<d;E++)b[E]=A0;return h.index++,b}function Un(d,h){return typeof h=="function"?h(d):h}function gr(d){var h=_t();return Mn(h,Ft,d)}function Mn(d,h,b){var E=d.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=b;var D=d.baseQueue,L=E.pending;if(L!==null){if(D!==null){var K=D.next;D.next=L.next,L.next=K}h.baseQueue=D=L,E.pending=null}if(L=d.baseState,D===null)d.memoizedState=L;else{h=D.next;var ve=K=null,Ye=null,ct=h,yt=!1;do{var ht=ct.lane&-536870913;if(ht!==ct.lane?(_n&ht)===ht:(Cl&ht)===ht){var Tt=ct.revertLane;if(Tt===0)Ye!==null&&(Ye=Ye.next={lane:0,revertLane:0,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),ht===Tl&&(yt=!0);else if((Cl&Tt)===Tt){ct=ct.next,Tt===Tl&&(yt=!0);continue}else ht={lane:0,revertLane:ct.revertLane,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Ye===null?(ve=Ye=ht,K=L):Ye=Ye.next=ht,nn.lanes|=Tt,Rl|=Tt;ht=ct.action,Tn&&b(L,ht),L=ct.hasEagerState?ct.eagerState:b(L,ht)}else Tt={lane:ht,revertLane:ct.revertLane,gesture:ct.gesture,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Ye===null?(ve=Ye=Tt,K=L):Ye=Ye.next=Tt,nn.lanes|=ht,Rl|=ht;ct=ct.next}while(ct!==null&&ct!==h);if(Ye===null?K=L:Ye.next=ve,!ji(L,d.memoizedState)&&(ui=!0,yt&&(b=lr,b!==null)))throw b;d.memoizedState=L,d.baseState=K,d.baseQueue=Ye,E.lastRenderedState=L}return D===null&&(E.lanes=0),[d.memoizedState,E.dispatch]}function fi(d){var h=_t(),b=h.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=d;var E=b.dispatch,D=b.pending,L=h.memoizedState;if(D!==null){b.pending=null;var K=D=D.next;do L=d(L,K.action),K=K.next;while(K!==D);ji(L,h.memoizedState)||(ui=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),b.lastRenderedState=L}return[L,E]}function di(d,h,b){var E=nn,D=_t(),L=bn;if(L){if(b===void 0)throw Error(r(407));b=b()}else b=h();var K=!ji((Ft||D).memoizedState,b);if(K&&(D.memoizedState=b,ui=!0),D=D.queue,ws(no.bind(null,E,D,d),[d]),D.getSnapshot!==h||K||Jt!==null&&Jt.memoizedState.tag&1){if(E.flags|=2048,Xr(9,{destroy:void 0},Fi.bind(null,E,D,b,h),null),cn===null)throw Error(r(349));L||(Cl&127)!==0||zi(E,h,b)}return b}function zi(d,h,b){d.flags|=16384,d={getSnapshot:h,value:b},h=nn.updateQueue,h===null?(h=gn(),nn.updateQueue=h,h.stores=[d]):(b=h.stores,b===null?h.stores=[d]:b.push(d))}function Fi(d,h,b,E){h.value=b,h.getSnapshot=E,vr(h)&&Fd(d)}function no(d,h,b){return b(function(){vr(h)&&Fd(d)})}function vr(d){var h=d.getSnapshot;d=d.value;try{var b=h();return!ji(d,b)}catch{return!0}}function Fd(d){var h=ei(d,2);h!==null&&Si(h,d,2)}function Zl(d){var h=Kt();if(typeof d=="function"){var b=d;if(d=b(),Tn){Y(!0);try{b()}finally{Y(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:d},h}function Ss(d,h,b,E){return d.baseState=b,Mn(d,Ft,typeof E=="function"?E:Un)}function Wr(d,h,b,E,D){if(Lp(d))throw Error(r(485));if(d=h.action,d!==null){var L={payload:D,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){L.listeners.push(K)}};Gt.T!==null?b(!0):L.isTransition=!1,E(L),b=h.pending,b===null?(L.next=h.pending=L,Mo(h,L)):(L.next=b.next,h.pending=b.next=L)}}function Mo(d,h){var b=h.action,E=h.payload,D=d.state;if(h.isTransition){var L=Gt.T,K={};Gt.T=K;try{var ve=b(D,E),Ye=Gt.S;Ye!==null&&Ye(K,ve),tc(d,h,ve)}catch(ct){Ms(d,h,ct)}finally{L!==null&&K.types!==null&&(L.types=K.types),Gt.T=L}}else try{L=b(D,E),tc(d,h,L)}catch(ct){Ms(d,h,ct)}}function tc(d,h,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(E){$a(d,h,E)},function(E){return Ms(d,h,E)}):$a(d,h,b)}function $a(d,h,b){h.status="fulfilled",h.value=b,nc(h),d.state=b,h=d.pending,h!==null&&(b=h.next,b===h?d.pending=null:(b=b.next,h.next=b,Mo(d,b)))}function Ms(d,h,b){var E=d.pending;if(d.pending=null,E!==null){E=E.next;do h.status="rejected",h.reason=b,nc(h),h=h.next;while(h!==E)}d.action=null}function nc(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function ic(d,h){return h}function $l(d,h){if(bn){var b=cn.formState;if(b!==null){e:{var E=nn;if(bn){if(gi){var D=Tb(gi,fa);if(D){gi=Cb(D),E=W0(D);break e}}fe(E)}E=!1}E&&(h=b[0])}}b=Kt(),b.memoizedState=b.baseState=h,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:h},b.queue=E,b=ao.bind(null,nn,E),E.dispatch=b,E=Zl(!1);var L=Np.bind(null,nn,!1,E.queue);return E=Kt(),D={state:h,dispatch:null,action:d,pending:null},E.queue=D,b=Wr.bind(null,nn,D,L,b),D.dispatch=b,E.memoizedState=d,[h,b,!1]}function wo(d){var h=_t();return Qa(h,Ft,d)}function Qa(d,h,b){if(h=Mn(d,h,ic)[0],d=gr(Un)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var E=kt(h)}catch(K){throw K===ur?Fs:K}else E=h;h=_t();var D=h.queue,L=D.dispatch;return b!==h.memoizedState&&(nn.flags|=2048,Xr(9,{destroy:void 0},sa.bind(null,D,b),null)),[E,L,d]}function sa(d,h){d.action=h}function Eo(d){var h=_t(),b=Ft;if(b!==null)return Qa(h,b,d);_t(),h=h.memoizedState,b=_t();var E=b.queue.dispatch;return b.memoizedState=d,[h,E,!1]}function Xr(d,h,b,E){return d={tag:d,create:b,deps:E,inst:h,next:null},h=nn.updateQueue,h===null&&(h=gn(),nn.updateQueue=h),b=h.lastEffect,b===null?h.lastEffect=d.next=d:(E=b.next,b.next=d,d.next=E,h.lastEffect=d),d}function rc(){return _t().memoizedState}function io(d,h,b,E){var D=Kt();nn.flags|=d,D.memoizedState=Xr(1|h,{destroy:void 0},b,E===void 0?null:E)}function Ql(d,h,b,E){var D=_t();E=E===void 0?null:E;var L=D.memoizedState.inst;Ft!==null&&E!==null&&Ct(E,Ft.memoizedState.deps)?D.memoizedState=Xr(h,L,b,E):(nn.flags|=d,D.memoizedState=Xr(1|h,L,b,E))}function Jl(d,h){io(8390656,8,d,h)}function ws(d,h){Ql(2048,8,d,h)}function eu(d){nn.flags|=4;var h=nn.updateQueue;if(h===null)h=gn(),nn.updateQueue=h,h.events=[d];else{var b=h.events;b===null?h.events=[d]:b.push(d)}}function hi(d){var h=_t().memoizedState;return eu({ref:h,nextImpl:d}),function(){if((vn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function ro(d,h){return Ql(4,2,d,h)}function pl(d,h){return Ql(4,4,d,h)}function Ao(d,h){if(typeof h=="function"){d=d();var b=h(d);return function(){typeof b=="function"?b():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function tu(d,h,b){b=b!=null?b.concat([d]):null,Ql(4,4,Ao.bind(null,h,d),b)}function nu(){}function To(d,h){var b=_t();h=h===void 0?null:h;var E=b.memoizedState;return h!==null&&Ct(h,E[1])?E[0]:(b.memoizedState=[d,h],d)}function Co(d,h){var b=_t();h=h===void 0?null:h;var E=b.memoizedState;if(h!==null&&Ct(h,E[1]))return E[0];if(E=d(),Tn){Y(!0);try{d()}finally{Y(!1)}}return b.memoizedState=[E,h],E}function $i(d,h,b){return b===void 0||(Cl&1073741824)!==0&&(_n&261930)===0?d.memoizedState=h:(d.memoizedState=b,d=vl(),nn.lanes|=d,Rl|=d,b)}function Bd(d,h,b,E){return ji(b,h)?b:Cc.current!==null?(d=$i(d,b,E),ji(d,h)||(ui=!0),d):(Cl&42)===0||(Cl&1073741824)!==0&&(_n&261930)===0?(ui=!0,d.memoizedState=b):(d=vl(),nn.lanes|=d,Rl|=d,h)}function ac(d,h,b,E,D){var L=Os();xn(L!==0&&8>L?L:8);var K=Gt.T,ve={};Gt.T=ve,Np(d,!1,h,b);try{var Ye=D(),ct=Gt.S;if(ct!==null&&ct(ve,Ye),Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var yt=He(Ye,E);iu(d,h,yt,pi(d))}else iu(d,h,E,pi(d))}catch(ht){iu(d,h,{then:function(){},status:"rejected",reason:ht},pi())}finally{xn(L),K!==null&&ve.types!==null&&(K.types=ve.types),Gt.T=K}}function sc(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:bc,baseState:bc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:bc},next:null};var b={};return h.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:b},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function gf(){return q(_c)}function vf(){return _t().memoizedState}function Rr(){return _t().memoizedState}function Ja(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var b=pi();d=aa(b);var E=Gr(h,d,b);E!==null&&(Si(E,h,b),Ya(E,h,b)),h={cache:De()},d.payload=h;return}h=h.return}}function qr(d,h,b){var E=pi();b={lane:E,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Lp(d)?Bx(h,b):(b=ra(d,h,b,E),b!==null&&(Si(b,d,E),Vx(b,h,E)))}function ao(d,h,b){var E=pi();iu(d,h,b,E)}function iu(d,h,b,E){var D={lane:E,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(Lp(d))Bx(h,D);else{var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var K=h.lastRenderedState,ve=L(K,b);if(D.hasEagerState=!0,D.eagerState=ve,ji(ve,K))return mr(d,h,D,0),cn===null&&pr(),!1}catch{}if(b=ra(d,h,D,E),b!==null)return Si(b,d,E),Vx(b,h,E),!0}return!1}function Np(d,h,b,E){if(E={lane:2,revertLane:Ee(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},Lp(d)){if(h)throw Error(r(479))}else h=ra(d,b,E,2),h!==null&&Si(h,d,2)}function Lp(d){var h=d.alternate;return d===nn||h!==null&&h===nn}function Bx(d,h){on=un=!0;var b=d.pending;b===null?h.next=h:(h.next=b.next,b.next=h),d.pending=h}function Vx(d,h,b){if((b&4194048)!==0){var E=h.lanes;E&=d.pendingLanes,b|=E,h.lanes=b,I(d,b)}}function i0(d,h,b,E){h=d.memoizedState,b=b(E,h),b=b==null?h:em({},h,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}function Ip(d,h,b,E,D,L,K){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,L,K):h.prototype&&h.prototype.isPureReactComponent?!ze(b,E)||!ze(D,L):!0}function jx(d,h,b,E){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(b,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(b,E),h.state!==d&&ph.enqueueReplaceState(h,h.state,null)}function oc(d,h){var b=h;if("ref"in h){b={};for(var E in h)E!=="ref"&&(b[E]=h[E])}if(d=d.defaultProps){b===h&&(b=em({},b));for(var D in d)b[D]===void 0&&(b[D]=d[D])}return b}function Up(d,h){try{var b=d.onUncaughtError;b(h.value,{componentStack:h.stack})}catch(E){setTimeout(function(){throw E})}}function r0(d,h,b){try{var E=d.onCaughtError;E(b.value,{componentStack:b.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function a0(d,h,b){return b=aa(b),b.tag=3,b.payload={element:null},b.callback=function(){Up(d,h)},b}function Gx(d){return d=aa(d),d.tag=3,d}function Hx(d,h,b,E){var D=b.type.getDerivedStateFromError;if(typeof D=="function"){var L=E.value;d.payload=function(){return D(L)},d.callback=function(){r0(h,b,E)}}var K=b.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(d.callback=function(){r0(h,b,E),typeof D!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var ve=E.stack;this.componentDidCatch(E.value,{componentStack:ve!==null?ve:""})})}function mE(d,h,b,E,D){if(b.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(h=b.alternate,h!==null&&qe(h,b,D,!0),b=Oa.current,b!==null){switch(b.tag){case 31:case 13:return Na===null?Cf():b.alternate===null&&Ai===0&&(Ai=3),b.flags&=-257,b.flags|=65536,b.lanes=D,E===Wo?b.flags|=16384:(h=b.updateQueue,h===null?b.updateQueue=new Set([E]):h.add(E),Df(d,E,D)),!1;case 22:return b.flags|=65536,E===Wo?b.flags|=16384:(h=b.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([E])},b.updateQueue=h):(b=h.retryQueue,b===null?h.retryQueue=new Set([E]):b.add(E)),Df(d,E,D)),!1}throw Error(r(435,b.tag))}return Df(d,E,D),Cf(),!1}if(bn)return h=Oa.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=D,E!==Mm&&(d=Error(r(422),{cause:E}),Ae(he(d,b)))):(E!==Mm&&(h=Error(r(423),{cause:E}),Ae(he(h,b))),d=d.current.alternate,d.flags|=65536,D&=-D,d.lanes|=D,E=he(E,b),D=a0(d.stateNode,E,D),to(d,D),Ai!==4&&(Ai=2)),!1;var L=Error(r(520),{cause:E});if(L=he(L,b),gh===null?gh=[L]:gh.push(L),Ai!==4&&(Ai=2),h===null)return!0;E=he(E,b),b=h;do{switch(b.tag){case 3:return b.flags|=65536,d=D&-D,b.lanes|=d,d=a0(b.stateNode,E,d),to(b,d),!1;case 1:if(h=b.type,L=b.stateNode,(b.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Pl===null||!Pl.has(L))))return b.flags|=65536,D&=-D,b.lanes|=D,D=Gx(D),Hx(D,d,b,E),to(b,D),!1}b=b.return}while(b!==null);return!1}function Pr(d,h,b,E){h.child=d===null?uv(h,null,b,E):Nr(h,d.child,b,E)}function Wx(d,h,b,E,D){b=b.render;var L=h.ref;if("ref"in E){var K={};for(var ve in E)ve!=="ref"&&(K[ve]=E[ve])}else K=E;return Ze(h),E=Rt(d,h,b,K,L,D),ve=pn(),d!==null&&!ui?(Bn(d,h,D),Ro(d,h,D)):(bn&&ve&&ee(h),h.flags|=1,Pr(d,h,E,D),h.child)}function Xx(d,h,b,E,D){if(d===null){var L=b.type;return typeof L=="function"&&!dc(L)&&L.defaultProps===void 0&&b.compare===null?(h.tag=15,h.type=L,qx(d,h,L,E,D)):(d=bl(b.type,null,E,h,h.mode,D),d.ref=h.ref,d.return=h,h.child=d)}if(L=d.child,!jd(d,D)){var K=L.memoizedProps;if(b=b.compare,b=b!==null?b:ze,b(K,E)&&d.ref===h.ref)return Ro(d,h,D)}return h.flags|=1,d=ns(L,E),d.ref=h.ref,d.return=h,h.child=d}function qx(d,h,b,E,D){if(d!==null){var L=d.memoizedProps;if(ze(L,E)&&d.ref===h.ref)if(ui=!1,h.pendingProps=E=L,jd(d,D))(d.flags&131072)!==0&&(ui=!0);else return h.lanes=d.lanes,Ro(d,h,D)}return zp(d,h,b,E,D)}function Yx(d,h,b,E){var D=E.children,L=d!==null?d.memoizedState:null;if(d===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((h.flags&128)!==0){if(L=L!==null?L.baseLanes|b:b,d!==null){for(E=h.child=d.child,D=0;E!==null;)D=D|E.lanes|E.childLanes,E=E.sibling;E=D&~L}else E=0,h.child=null;return yf(d,h,L,b,E)}if((b&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&mt(h,L!==null?L.cachePool:null),L!==null?_s(h,L):Dt(),Le(h);else return E=h.lanes=536870912,yf(d,h,L!==null?L.baseLanes|b:b,b,E)}else L!==null?(mt(h,L.cachePool),_s(h,L),Te(),h.memoizedState=null):(d!==null&&mt(h,null),Dt(),Te());return Pr(d,h,D,b),h.child}function lc(d,h){return d!==null&&d.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function yf(d,h,b,E,D){var L=Qe();return L=L===null?null:{parent:Bi?vi._currentValue:vi._currentValue2,pool:L},h.memoizedState={baseLanes:b,cachePool:L},d!==null&&mt(h,null),Dt(),Le(h),d!==null&&qe(d,h,E,!0),h.childLanes=D,null}function kp(d,h){return h=ru({mode:h.mode,children:h.children},d.mode),h.ref=d.ref,d.child=h,h.return=d,h}function s0(d,h,b){return Nr(h,d.child,null,b),d=kp(h,h.pendingProps),d.flags|=2,gt(h),h.memoizedState=null,d}function Kx(d,h,b){var E=h.pendingProps,D=(h.flags&128)!==0;if(h.flags&=-129,d===null){if(bn){if(E.mode==="hidden")return d=kp(h,E),h.lanes=536870912,lc(null,d);if(Ve(h),(d=gi)?(d=q0(d,fa),d!==null&&(h.memoizedState={dehydrated:d,treeContext:Is!==null?{id:Dr,overflow:oo}:null,retryLane:536870912,hydrationErrors:null},b=M0(d),b.return=h,h.child=b,or=h,gi=null)):d=null,d===null)throw fe(h);return h.lanes=536870912,null}return kp(h,E)}var L=d.memoizedState;if(L!==null){var K=L.dehydrated;if(Ve(h),D)if(h.flags&256)h.flags&=-257,h=s0(d,h,b);else if(h.memoizedState!==null)h.child=d.child,h.flags|=128,h=null;else throw Error(r(558));else if(ui||qe(d,h,b,!1),D=(b&d.childLanes)!==0,ui||D){if(E=cn,E!==null&&(K=U(E,b),K!==0&&K!==L.retryLane))throw L.retryLane=K,ei(d,K),Si(E,d,K),ha;Cf(),h=s0(d,h,b)}else d=L.treeContext,mi&&(gi=Ob(K),or=h,bn=!0,Ho=null,fa=!1,d!==null&&pe(h,d)),h=kp(h,E),h.flags|=4096;return h}return d=ns(d.child,{mode:E.mode,children:E.children}),d.ref=h.ref,h.child=d,d.return=h,d}function Vd(d,h){var b=h.ref;if(b===null)d!==null&&d.ref!==null&&(h.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(d===null||d.ref!==b)&&(h.flags|=4194816)}}function zp(d,h,b,E,D){return Ze(h),b=Rt(d,h,b,E,void 0,D),E=pn(),d!==null&&!ui?(Bn(d,h,D),Ro(d,h,D)):(bn&&E&&ee(h),h.flags|=1,Pr(d,h,b,D),h.child)}function o0(d,h,b,E,D,L){return Ze(h),h.updateQueue=null,b=Pt(h,E,b,D),Bt(d),E=pn(),d!==null&&!ui?(Bn(d,h,L),Ro(d,h,L)):(bn&&E&&ee(h),h.flags|=1,Pr(d,h,b,L),h.child)}function uc(d,h,b,E,D){if(Ze(h),h.stateNode===null){var L=Vo,K=b.contextType;typeof K=="object"&&K!==null&&(L=q(K)),L=new b(E,L),h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=ph,h.stateNode=L,L._reactInternals=h,L=h.stateNode,L.props=E,L.state=h.memoizedState,L.refs={},Ri(h),K=b.contextType,L.context=typeof K=="object"&&K!==null?q(K):Vo,L.state=h.memoizedState,K=b.getDerivedStateFromProps,typeof K=="function"&&(i0(h,b,K,E),L.state=h.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(K=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),K!==L.state&&ph.enqueueReplaceState(L,L.state,null),bs(h,E,L,D),Ka(),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308),E=!0}else if(d===null){L=h.stateNode;var ve=h.memoizedProps,Ye=oc(b,ve);L.props=Ye;var ct=L.context,yt=b.contextType;K=Vo,typeof yt=="object"&&yt!==null&&(K=q(yt));var ht=b.getDerivedStateFromProps;yt=typeof ht=="function"||typeof L.getSnapshotBeforeUpdate=="function",ve=h.pendingProps!==ve,yt||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ve||ct!==K)&&jx(h,L,E,K),as=!1;var Tt=h.memoizedState;L.state=Tt,bs(h,E,L,D),Ka(),ct=h.memoizedState,ve||Tt!==ct||as?(typeof ht=="function"&&(i0(h,b,ht,E),ct=h.memoizedState),(Ye=as||Ip(h,b,Ye,E,Tt,ct,K))?(yt||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(h.flags|=4194308)):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=ct),L.props=E,L.state=ct,L.context=K,E=Ye):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{L=h.stateNode,Cr(d,h),K=h.memoizedProps,yt=oc(b,K),L.props=yt,ht=h.pendingProps,Tt=L.context,ct=b.contextType,Ye=Vo,typeof ct=="object"&&ct!==null&&(Ye=q(ct)),ve=b.getDerivedStateFromProps,(ct=typeof ve=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==ht||Tt!==Ye)&&jx(h,L,E,Ye),as=!1,Tt=h.memoizedState,L.state=Tt,bs(h,E,L,D),Ka();var en=h.memoizedState;K!==ht||Tt!==en||as||d!==null&&d.dependencies!==null&&Ne(d.dependencies)?(typeof ve=="function"&&(i0(h,b,ve,E),en=h.memoizedState),(yt=as||Ip(h,b,yt,E,Tt,en,Ye)||d!==null&&d.dependencies!==null&&Ne(d.dependencies))?(ct||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(E,en,Ye),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(E,en,Ye)),typeof L.componentDidUpdate=="function"&&(h.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof L.componentDidUpdate!="function"||K===d.memoizedProps&&Tt===d.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===d.memoizedProps&&Tt===d.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=en),L.props=E,L.state=en,L.context=Ye,E=yt):(typeof L.componentDidUpdate!="function"||K===d.memoizedProps&&Tt===d.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===d.memoizedProps&&Tt===d.memoizedState||(h.flags|=1024),E=!1)}return L=E,Vd(d,h),E=(h.flags&128)!==0,L||E?(L=h.stateNode,b=E&&typeof b.getDerivedStateFromError!="function"?null:L.render(),h.flags|=1,d!==null&&E?(h.child=Nr(h,d.child,null,D),h.child=Nr(h,null,b,D)):Pr(d,h,b,D),h.memoizedState=L.state,d=h.child):d=Ro(d,h,D),d}function Zx(d,h,b,E){return ut(),h.flags|=256,Pr(d,h,b,E),h.child}function l0(d){return{baseLanes:d,cachePool:et()}}function u0(d,h,b){return d=d!==null?d.childLanes&~b:0,h&&(d|=pa),d}function c0(d,h,b){var E=h.pendingProps,D=!1,L=(h.flags&128)!==0,K;if((K=L)||(K=d!==null&&d.memoizedState===null?!1:(Oi.current&2)!==0),K&&(D=!0,h.flags&=-129),K=(h.flags&32)!==0,h.flags&=-33,d===null){if(bn){if(D?we(h):Te(),(d=gi)?(d=Ub(d,fa),d!==null&&(h.memoizedState={dehydrated:d,treeContext:Is!==null?{id:Dr,overflow:oo}:null,retryLane:536870912,hydrationErrors:null},b=M0(d),b.return=h,h.child=b,or=h,gi=null)):d=null,d===null)throw fe(h);return lm(d)?h.lanes=32:h.lanes=536870912,null}var ve=E.children;return E=E.fallback,D?(Te(),D=h.mode,ve=ru({mode:"hidden",children:ve},D),E=Ps(E,D,b,null),ve.return=h,E.return=h,ve.sibling=E,h.child=ve,E=h.child,E.memoizedState=l0(b),E.childLanes=u0(d,K,b),h.memoizedState=Rc,lc(null,E)):(we(h),Fp(h,ve))}var Ye=d.memoizedState;if(Ye!==null&&(ve=Ye.dehydrated,ve!==null)){if(L)h.flags&256?(we(h),h.flags&=-257,h=cc(d,h,b)):h.memoizedState!==null?(Te(),h.child=d.child,h.flags|=128,h=null):(Te(),ve=E.fallback,D=h.mode,E=ru({mode:"visible",children:E.children},D),ve=Ps(ve,D,b,null),ve.flags|=2,E.return=h,ve.return=h,E.sibling=ve,h.child=E,Nr(h,d.child,null,b),E=h.child,E.memoizedState=l0(b),E.childLanes=u0(d,K,b),h.memoizedState=Rc,h=lc(null,E));else if(we(h),lm(ve))K=um(ve).digest,E=Error(r(419)),E.stack="",E.digest=K,Ae({value:E,source:null,stack:null}),h=cc(d,h,b);else if(ui||qe(d,h,b,!1),K=(b&d.childLanes)!==0,ui||K){if(K=cn,K!==null&&(E=U(K,b),E!==0&&E!==Ye.retryLane))throw Ye.retryLane=E,ei(d,E),Si(K,d,E),ha;vu(ve)||Cf(),h=cc(d,h,b)}else vu(ve)?(h.flags|=192,h.child=d.child,h=null):(d=Ye.treeContext,mi&&(gi=Nb(ve),or=h,bn=!0,Ho=null,fa=!1,d!==null&&pe(h,d)),h=Fp(h,E.children),h.flags|=4096);return h}return D?(Te(),ve=E.fallback,D=h.mode,Ye=d.child,L=Ye.sibling,E=ns(Ye,{mode:"hidden",children:E.children}),E.subtreeFlags=Ye.subtreeFlags&65011712,L!==null?ve=ns(L,ve):(ve=Ps(ve,D,b,null),ve.flags|=2),ve.return=h,E.return=h,E.sibling=ve,h.child=E,lc(null,E),E=h.child,ve=d.child.memoizedState,ve===null?ve=l0(b):(D=ve.cachePool,D!==null?(Ye=Bi?vi._currentValue:vi._currentValue2,D=D.parent!==Ye?{parent:Ye,pool:Ye}:D):D=et(),ve={baseLanes:ve.baseLanes|b,cachePool:D}),E.memoizedState=ve,E.childLanes=u0(d,K,b),h.memoizedState=Rc,lc(d.child,E)):(we(h),b=d.child,d=b.sibling,b=ns(b,{mode:"visible",children:E.children}),b.return=h,b.sibling=null,d!==null&&(K=h.deletions,K===null?(h.deletions=[d],h.flags|=16):K.push(d)),h.child=b,h.memoizedState=null,b)}function Fp(d,h){return h=ru({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function ru(d,h){return d=n(22,d,null,h),d.lanes=0,d}function cc(d,h,b){return Nr(h,d.child,null,b),d=Fp(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function $x(d,h,b){d.lanes|=h;var E=d.alternate;E!==null&&(E.lanes|=h),Z(d.return,h,b)}function xf(d,h,b,E,D,L){var K=d.memoizedState;K===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:D,treeForkCount:L}:(K.isBackwards=h,K.rendering=null,K.renderingStartTime=0,K.last=E,K.tail=b,K.tailMode=D,K.treeForkCount=L)}function f0(d,h,b){var E=h.pendingProps,D=E.revealOrder,L=E.tail;E=E.children;var K=Oi.current,ve=(K&2)!==0;if(ve?(K=K&1|2,h.flags|=128):K&=1,_(Oi,K),Pr(d,h,E,b),E=bn?fh:0,!ve&&d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&$x(d,b,h);else if(d.tag===19)$x(d,b,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(D){case"forwards":for(b=h.child,D=null;b!==null;)d=b.alternate,d!==null&&Mt(d)===null&&(D=b),b=b.sibling;b=D,b===null?(D=h.child,h.child=null):(D=b.sibling,b.sibling=null),xf(h,!1,D,b,L,E);break;case"backwards":case"unstable_legacy-backwards":for(b=null,D=h.child,h.child=null;D!==null;){if(d=D.alternate,d!==null&&Mt(d)===null){h.child=D;break}d=D.sibling,D.sibling=b,b=D,D=d}xf(h,!0,b,null,L,E);break;case"together":xf(h,!1,null,null,void 0,E);break;default:h.memoizedState=null}return h.child}function Ro(d,h,b){if(d!==null&&(h.dependencies=d.dependencies),Rl|=h.lanes,(b&h.childLanes)===0)if(d!==null){if(qe(d,h,b,!1),(b&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(r(153));if(h.child!==null){for(d=h.child,b=ns(d,d.pendingProps),h.child=b,b.return=h;d.sibling!==null;)d=d.sibling,b=b.sibling=ns(d,d.pendingProps),b.return=h;b.sibling=null}return h.child}function jd(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&Ne(d)))}function d0(d,h,b){switch(h.tag){case 3:ye(h,h.stateNode.containerInfo),Me(h,vi,d.memoizedState.cache),ut();break;case 27:case 5:ce(h);break;case 4:ye(h,h.stateNode.containerInfo);break;case 10:Me(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Ve(h),null;break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(we(h),h.flags|=128,null):(b&h.child.childLanes)!==0?c0(d,h,b):(we(h),d=Ro(d,h,b),d!==null?d.sibling:null);we(h);break;case 19:var D=(d.flags&128)!==0;if(E=(b&h.childLanes)!==0,E||(qe(d,h,b,!1),E=(b&h.childLanes)!==0),D){if(E)return f0(d,h,b);h.flags|=128}if(D=h.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),_(Oi,Oi.current),E)break;return null;case 22:return h.lanes=0,Yx(d,h,b,h.pendingProps);case 24:Me(h,vi,d.memoizedState.cache)}return Ro(d,h,b)}function h0(d,h,b){if(d!==null)if(d.memoizedProps!==h.pendingProps)ui=!0;else{if(!jd(d,b)&&(h.flags&128)===0)return ui=!1,d0(d,h,b);ui=(d.flags&131072)!==0}else ui=!1,bn&&(h.flags&1048576)!==0&&V(h,fh,h.index);switch(h.lanes=0,h.tag){case 16:e:{var E=h.pendingProps;if(d=xt(h.elementType),h.type=d,typeof d=="function")dc(d)?(E=oc(d,E),h.tag=1,h=uc(null,h,d,E,b)):(h.tag=0,h=zp(null,h,d,E,b));else{if(d!=null){var D=d.$$typeof;if(D===Of){h.tag=11,h=Wx(null,h,d,E,b);break e}else if(D===nm){h.tag=14,h=Xx(null,h,d,E,b);break e}}throw h=g(d)||d,Error(r(306,h,""))}}return h;case 0:return zp(d,h,h.type,h.pendingProps,b);case 1:return E=h.type,D=oc(E,h.pendingProps),uc(d,h,E,D,b);case 3:e:{if(ye(h,h.stateNode.containerInfo),d===null)throw Error(r(387));var L=h.pendingProps;D=h.memoizedState,E=D.element,Cr(d,h),bs(h,L,null,b);var K=h.memoizedState;if(L=K.cache,Me(h,vi,L),L!==D.cache&&at(h,[vi],b,!0),Ka(),L=K.element,mi&&D.isDehydrated)if(D={element:L,isDehydrated:!1,cache:K.cache},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){h=Zx(d,h,L,b);break e}else if(L!==E){E=he(Error(r(424)),h),Ae(E),h=Zx(d,h,L,b);break e}else for(mi&&(gi=Db(h.stateNode.containerInfo),or=h,bn=!0,Ho=null,fa=!0),b=uv(h,null,L,b),h.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(ut(),L===E){h=Ro(d,h,b);break e}Pr(d,h,L,b)}h=h.child}return h;case 26:if(Ns)return Vd(d,h),d===null?(b=Q0(h.type,null,h.pendingProps,null))?h.memoizedState=b:bn||(h.stateNode=hm(h.type,h.pendingProps,Or.current,h)):h.memoizedState=Q0(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:if(sr)return ce(h),d===null&&sr&&bn&&(E=h.stateNode=pm(h.type,h.pendingProps,Or.current,_r.current,!1),or=h,fa=!0,gi=X0(h.type,E,gi)),Pr(d,h,h.pendingProps.children,b),Vd(d,h),d===null&&(h.flags|=4194304),h.child;case 5:return d===null&&bn&&(Wb(h.type,h.pendingProps,_r.current),(D=E=gi)&&(E=Lb(E,h.type,h.pendingProps,fa),E!==null?(h.stateNode=E,or=h,gi=Pb(E),fa=!1,D=!0):D=!1),D||fe(h)),ce(h),D=h.type,L=h.pendingProps,K=d!==null?d.memoizedProps:null,E=L.children,ca(D,L)?E=null:K!==null&&ca(D,K)&&(h.flags|=32),h.memoizedState!==null&&(D=Rt(d,h,jt,null,null,b),Bi?_c._currentValue=D:_c._currentValue2=D),Vd(d,h),Pr(d,h,E,b),h.child;case 6:return d===null&&bn&&($0(h.pendingProps,_r.current),(d=b=gi)&&(b=Ib(b,h.pendingProps,fa),b!==null?(h.stateNode=b,or=h,gi=null,d=!0):d=!1),d||fe(h)),null;case 13:return c0(d,h,b);case 4:return ye(h,h.stateNode.containerInfo),E=h.pendingProps,d===null?h.child=Nr(h,null,E,b):Pr(d,h,E,b),h.child;case 11:return Wx(d,h,h.type,h.pendingProps,b);case 7:return Pr(d,h,h.pendingProps,b),h.child;case 8:return Pr(d,h,h.pendingProps.children,b),h.child;case 12:return Pr(d,h,h.pendingProps.children,b),h.child;case 10:return E=h.pendingProps,Me(h,h.type,E.value),Pr(d,h,E.children,b),h.child;case 9:return D=h.type._context,E=h.pendingProps.children,Ze(h),D=q(D),E=E(D),h.flags|=1,Pr(d,h,E,b),h.child;case 14:return Xx(d,h,h.type,h.pendingProps,b);case 15:return qx(d,h,h.type,h.pendingProps,b);case 19:return f0(d,h,b);case 31:return Kx(d,h,b);case 22:return Yx(d,h,b,h.pendingProps);case 24:return Ze(h),E=q(vi),d===null?(D=Qe(),D===null&&(D=cn,L=De(),D.pooledCache=L,L.refCount++,L!==null&&(D.pooledCacheLanes|=b),D=L),h.memoizedState={parent:E,cache:D},Ri(h),Me(h,vi,D)):((d.lanes&b)!==0&&(Cr(d,h),bs(h,null,null,b),Ka()),D=d.memoizedState,L=h.memoizedState,D.parent!==E?(D={parent:E,cache:E},h.memoizedState=D,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=D),Me(h,vi,E)):(E=L.cache,Me(h,vi,E),E!==D.cache&&at(h,[vi],b,!0))),Pr(d,h,h.pendingProps.children,b),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Es(d){d.flags|=4}function Gd(d){is&&(d.flags|=8)}function Qx(d,h){if(d!==null&&d.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(d=h.child;d!==null;){if((d.flags&8218)!==0||(d.subtreeFlags&8218)!==0)return!0;d=d.sibling}return!1}function p0(d,h,b,E){if(En)for(b=h.child;b!==null;){if(b.tag===5||b.tag===6)ih(d,b.stateNode);else if(!(b.tag===4||sr&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(is)for(var D=h.child;D!==null;){if(D.tag===5){var L=D.stateNode;b&&E&&(L=Ab(L,D.type,D.memoizedProps)),ih(d,L)}else if(D.tag===6)L=D.stateNode,b&&E&&(L=H0(L,D.memoizedProps)),ih(d,L);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)L=D.child,L!==null&&(L.return=D),p0(d,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===h)break;for(;D.sibling===null;){if(D.return===null||D.return===h)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function Jx(d,h,b,E){var D=!1;if(is)for(var L=h.child;L!==null;){if(L.tag===5){var K=L.stateNode;b&&E&&(K=Ab(K,L.type,L.memoizedProps)),j0(d,K)}else if(L.tag===6)K=L.stateNode,b&&E&&(K=H0(K,L.memoizedProps)),j0(d,K);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)D=L.child,D!==null&&(D.return=L),Jx(d,L,!0,!0),D=!0;else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===h)break;for(;L.sibling===null;){if(L.return===null||L.return===h)return D;L=L.return}L.sibling.return=L.return,L=L.sibling}return D}function eb(d,h){if(is&&Qx(d,h)){d=h.stateNode;var b=d.containerInfo,E=V0();Jx(E,h,!1,!1),d.pendingChildren=E,Es(h),Eb(b,E)}}function m0(d,h,b,E){if(En)d.memoizedProps!==E&&Es(h);else if(is){var D=d.stateNode,L=d.memoizedProps;if((d=Qx(d,h))||L!==E){var K=_r.current;L=wb(D,b,L,E,!d,null),L===D?h.stateNode=D:(Gd(h),Ca(L,b,E,K)&&Es(h),h.stateNode=L,d&&p0(L,h,!1,!1))}else h.stateNode=D}}function oa(d,h,b,E,D){if((d.mode&32)!==0&&(b===null?rh(h,E):kf(h,b,E))){if(d.flags|=16777216,(D&335544128)===D||P0(h,E))if(Mi(d.stateNode,h,E))d.flags|=8192;else if(wn())d.flags|=8192;else throw da=Wo,Em}else d.flags&=-16777217}function bf(d,h){if(nv(h)){if(d.flags|=16777216,!iv(h))if(wn())d.flags|=8192;else throw da=Wo,Em}else d.flags&=-16777217}function Hd(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?P():536870912,d.lanes|=h,Xf|=h)}function _f(d,h){if(!bn)switch(d.tailMode){case"hidden":h=d.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function ti(d){var h=d.alternate!==null&&d.alternate.child===d.child,b=0,E=0;if(h)for(var D=d.child;D!==null;)b|=D.lanes|D.childLanes,E|=D.subtreeFlags&65011712,E|=D.flags&65011712,D.return=d,D=D.sibling;else for(D=d.child;D!==null;)b|=D.lanes|D.childLanes,E|=D.subtreeFlags,E|=D.flags,D.return=d,D=D.sibling;return d.subtreeFlags|=E,d.childLanes=b,h}function tb(d,h,b){var E=h.pendingProps;switch(re(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(h),null;case 1:return ti(h),null;case 3:return b=h.stateNode,E=null,d!==null&&(E=d.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),Ge(vi),se(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(d===null||d.child===null)&&(me(h)?Es(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,_e())),eb(d,h),ti(h),null;case 26:if(Ns){var D=h.type,L=h.memoizedState;return d===null?(Es(h),L!==null?(ti(h),bf(h,L)):(ti(h),oa(h,D,null,E,b))):L?L!==d.memoizedState?(Es(h),ti(h),bf(h,L)):(ti(h),h.flags&=-16777217):(L=d.memoizedProps,En?L!==E&&Es(h):m0(d,h,D,E),ti(h),oa(h,D,L,E,b)),null}case 27:if(sr){if(Se(h),b=Or.current,D=h.type,d!==null&&h.stateNode!=null)En?d.memoizedProps!==E&&Es(h):m0(d,h,D,E);else{if(!E){if(h.stateNode===null)throw Error(r(166));return ti(h),null}d=_r.current,me(h)?Oe(h,d):(d=pm(D,E,b,d,!0),h.stateNode=d,Es(h))}return ti(h),null}case 5:if(Se(h),D=h.type,d!==null&&h.stateNode!=null)m0(d,h,D,E);else{if(!E){if(h.stateNode===null)throw Error(r(166));return ti(h),null}if(L=_r.current,me(h))Oe(h,L),jb(h.stateNode,D,E,L)&&(h.flags|=64);else{var K=C0(D,E,Or.current,L,h);Gd(h),p0(K,h,!1,!1),h.stateNode=K,Ca(K,D,E,L)&&Es(h)}}return ti(h),oa(h,h.type,d===null?null:d.memoizedProps,h.pendingProps,b),null;case 6:if(d&&h.stateNode!=null)b=d.memoizedProps,En?b!==E&&Es(h):is&&(b!==E?(d=Or.current,b=_r.current,Gd(h),h.stateNode=Ml(E,d,b,h)):h.stateNode=d.stateNode);else{if(typeof E!="string"&&h.stateNode===null)throw Error(r(166));if(d=Or.current,b=_r.current,me(h)){if(!mi)throw Error(r(176));if(d=h.stateNode,b=h.memoizedProps,E=null,D=or,D!==null)switch(D.tag){case 27:case 5:E=D.memoizedProps}bE(d,b,h,E)||fe(h,!0)}else Gd(h),h.stateNode=Ml(E,d,b,h)}return ti(h),null;case 31:if(b=h.memoizedState,d===null||d.memoizedState!==null){if(E=me(h),b!==null){if(d===null){if(!E)throw Error(r(318));if(!mi)throw Error(r(556));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(557));Y0(d,h)}else ut(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ti(h),d=!1}else b=_e(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=b),d=!0;if(!d)return h.flags&256?(gt(h),h):(gt(h),null);if((h.flags&128)!==0)throw Error(r(558))}return ti(h),null;case 13:if(E=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(D=me(h),E!==null&&E.dehydrated!==null){if(d===null){if(!D)throw Error(r(318));if(!mi)throw Error(r(344));if(D=h.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));zb(D,h)}else ut(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ti(h),D=!1}else D=_e(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=D),D=!0;if(!D)return h.flags&256?(gt(h),h):(gt(h),null)}return gt(h),(h.flags&128)!==0?(h.lanes=b,h):(b=E!==null,d=d!==null&&d.memoizedState!==null,b&&(E=h.child,D=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(D=E.alternate.memoizedState.cachePool.pool),L=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(L=E.memoizedState.cachePool.pool),L!==D&&(E.flags|=2048)),b!==d&&b&&(h.child.flags|=8192),Hd(h,h.updateQueue),ti(h),null);case 4:return se(),eb(d,h),d===null&&Kn(h.stateNode.containerInfo),ti(h),null;case 10:return Ge(h.type),ti(h),null;case 19:if(y(Oi),E=h.memoizedState,E===null)return ti(h),null;if(D=(h.flags&128)!==0,L=E.rendering,L===null)if(D)_f(E,!1);else{if(Ai!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(L=Mt(d),L!==null){for(h.flags|=128,_f(E,!1),d=L.updateQueue,h.updateQueue=d,Hd(h,d),h.subtreeFlags=0,d=b,b=h.child;b!==null;)$p(b,d),b=b.sibling;return _(Oi,Oi.current&1|2),bn&&le(h,E.treeForkCount),h.child}d=d.sibling}E.tail!==null&&Kr()>Cu&&(h.flags|=128,D=!0,_f(E,!1),h.lanes=4194304)}else{if(!D)if(d=Mt(L),d!==null){if(h.flags|=128,D=!0,d=d.updateQueue,h.updateQueue=d,Hd(h,d),_f(E,!0),E.tail===null&&E.tailMode==="hidden"&&!L.alternate&&!bn)return ti(h),null}else 2*Kr()-E.renderingStartTime>Cu&&b!==536870912&&(h.flags|=128,D=!0,_f(E,!1),h.lanes=4194304);E.isBackwards?(L.sibling=h.child,h.child=L):(d=E.last,d!==null?d.sibling=L:h.child=L,E.last=L)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=Kr(),d.sibling=null,b=Oi.current,_(Oi,D?b&1|2:b&1),bn&&le(h,E.treeForkCount),d):(ti(h),null);case 22:case 23:return gt(h),$(),E=h.memoizedState!==null,d!==null?d.memoizedState!==null!==E&&(h.flags|=8192):E&&(h.flags|=8192),E?(b&536870912)!==0&&(h.flags&128)===0&&(ti(h),h.subtreeFlags&6&&(h.flags|=8192)):ti(h),b=h.updateQueue,b!==null&&Hd(h,b.retryQueue),b=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==b&&(h.flags|=2048),d!==null&&y(bu),null;case 24:return b=null,d!==null&&(b=d.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),Ge(vi),ti(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function g0(d,h){switch(re(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Ge(vi),se(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return Se(h),null;case 31:if(h.memoizedState!==null){if(gt(h),h.alternate===null)throw Error(r(340));ut()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 13:if(gt(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(r(340));ut()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return y(Oi),null;case 4:return se(),null;case 10:return Ge(h.type),null;case 22:case 23:return gt(h),$(),d!==null&&y(bu),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return Ge(vi),null;case 25:return null;default:return null}}function nb(d,h){switch(re(h),h.tag){case 3:Ge(vi),se();break;case 26:case 27:case 5:Se(h);break;case 4:se();break;case 31:h.memoizedState!==null&&gt(h);break;case 13:gt(h);break;case 19:y(Oi);break;case 10:Ge(h.type);break;case 22:case 23:gt(h),$(),d!==null&&y(bu);break;case 24:Ge(vi)}}function Po(d,h){try{var b=h.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var D=E.next;b=D;do{if((b.tag&d)===d){E=void 0;var L=b.create,K=b.inst;E=L(),K.destroy=E}b=b.next}while(b!==D)}}catch(ve){Zt(h,h.return,ve)}}function Do(d,h,b){try{var E=h.updateQueue,D=E!==null?E.lastEffect:null;if(D!==null){var L=D.next;E=L;do{if((E.tag&d)===d){var K=E.inst,ve=K.destroy;if(ve!==void 0){K.destroy=void 0,D=h;var Ye=b,ct=ve;try{ct()}catch(yt){Zt(D,Ye,yt)}}}E=E.next}while(E!==L)}}catch(yt){Zt(h,h.return,yt)}}function Sf(d){var h=d.updateQueue;if(h!==null){var b=d.stateNode;try{Za(h,b)}catch(E){Zt(d,d.return,E)}}}function Bp(d,h,b){b.props=oc(d.type,d.memoizedProps),b.state=d.memoizedState;try{b.componentWillUnmount()}catch(E){Zt(d,h,E)}}function Mf(d,h){try{var b=d.ref;if(b!==null){switch(d.tag){case 26:case 27:case 5:var E=Lf(d.stateNode);break;case 30:E=d.stateNode;break;default:E=d.stateNode}typeof b=="function"?d.refCleanup=b(E):b.current=E}}catch(D){Zt(d,h,D)}}function Yr(d,h){var b=d.ref,E=d.refCleanup;if(b!==null)if(typeof E=="function")try{E()}catch(D){Zt(d,h,D)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(D){Zt(d,h,D)}else b.current=null}function fc(d){var h=d.type,b=d.memoizedProps,E=d.stateNode;try{gb(E,h,b,d)}catch(D){Zt(d,d.return,D)}}function Wd(d,h,b){try{vb(d.stateNode,d.type,b,h,d)}catch(E){Zt(d,d.return,E)}}function v0(d){return d.tag===5||d.tag===3||(Ns?d.tag===26:!1)||(sr?d.tag===27&&Sc(d.type):!1)||d.tag===4}function ml(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||v0(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(sr&&d.tag===27&&Sc(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Vp(d,h,b){var E=d.tag;if(E===5||E===6)d=d.stateNode,h?xb(b,d,h):k0(b,d);else if(E!==4&&(sr&&E===27&&Sc(d.type)&&(b=d.stateNode,h=null),d=d.child,d!==null))for(Vp(d,h,b),d=d.sibling;d!==null;)Vp(d,h,b),d=d.sibling}function Xd(d,h,b){var E=d.tag;if(E===5||E===6)d=d.stateNode,h?yb(b,d,h):U0(b,d);else if(E!==4&&(sr&&E===27&&Sc(d.type)&&(b=d.stateNode),d=d.child,d!==null))for(Xd(d,h,b),d=d.sibling;d!==null;)Xd(d,h,b),d=d.sibling}function y0(d,h,b){d=d.containerInfo;try{G0(d,b)}catch(E){Zt(h,h.return,E)}}function ib(d){var h=d.stateNode,b=d.memoizedProps;try{Ji(d.type,b,h,d)}catch(E){Zt(d,d.return,E)}}function gE(d,h){for(im(d.containerInfo),Gi=h;Gi!==null;)if(d=Gi,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Gi=h;else for(;Gi!==null;){d=Gi;var b=d.alternate;switch(h=d.flags,d.tag){case 0:if((h&4)!==0&&(h=d.updateQueue,h=h!==null?h.events:null,h!==null))for(var E=0;E<h.length;E++){var D=h[E];D.ref.impl=D.nextImpl}break;case 11:case 15:break;case 1:if((h&1024)!==0&&b!==null){h=void 0,E=d,D=b.memoizedProps,b=b.memoizedState;var L=E.stateNode;try{var K=oc(E.type,D);h=L.getSnapshotBeforeUpdate(K,b),L.__reactInternalSnapshotBeforeUpdate=h}catch(ve){Zt(E,E.return,ve)}}break;case 3:(h&1024)!==0&&En&&B0(d.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=d.sibling,h!==null){h.return=d.return,Gi=h;break}Gi=d.return}}function rb(d,h,b){var E=b.flags;switch(b.tag){case 0:case 11:case 15:la(d,b),E&4&&Po(5,b);break;case 1:if(la(d,b),E&4)if(d=b.stateNode,h===null)try{d.componentDidMount()}catch(K){Zt(b,b.return,K)}else{var D=oc(b.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(D,h,d.__reactInternalSnapshotBeforeUpdate)}catch(K){Zt(b,b.return,K)}}E&64&&Sf(b),E&512&&Mf(b,b.return);break;case 3:if(la(d,b),E&64&&(E=b.updateQueue,E!==null)){if(d=null,b.child!==null)switch(b.child.tag){case 27:case 5:d=Lf(b.child.stateNode);break;case 1:d=b.child.stateNode}try{Za(E,d)}catch(K){Zt(b,b.return,K)}}break;case 27:sr&&h===null&&E&4&&ib(b);case 26:case 5:if(la(d,b),h===null){if(E&4)fc(b);else if(E&64){d=b.type,h=b.memoizedProps,D=b.stateNode;try{Bb(D,d,h,b)}catch(K){Zt(b,b.return,K)}}}E&512&&Mf(b,b.return);break;case 12:la(d,b);break;case 31:la(d,b),E&4&&Ts(d,b);break;case 13:la(d,b),E&4&&Yd(d,b),E&64&&(E=b.memoizedState,E!==null&&(E=E.dehydrated,E!==null&&(b=vE.bind(null,b),cm(E,b))));break;case 22:if(E=b.memoizedState!==null||Ni,!E){h=h!==null&&h.memoizedState!==null||Li,D=Ni;var L=Li;Ni=E,(Li=h)&&!L?Rs(d,b,(b.subtreeFlags&8772)!==0):la(d,b),Ni=D,Li=L}break;case 30:break;default:la(d,b)}}function x0(d){var h=d.alternate;h!==null&&(d.alternate=null,x0(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&rm(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function As(d,h,b){for(b=b.child;b!==null;)qd(d,h,b),b=b.sibling}function qd(d,h,b){if(Da&&typeof Da.onCommitFiberUnmount=="function")try{Da.onCommitFiberUnmount(Ec,b)}catch{}switch(b.tag){case 26:if(Ns){Li||Yr(b,h),As(d,h,b),b.memoizedState?yu(b.memoizedState):b.stateNode&&tv(b.stateNode);break}case 27:if(sr){Li||Yr(b,h);var E=Ei,D=Hi;Sc(b.type)&&(Ei=b.stateNode,Hi=!1),As(d,h,b),br(b.stateNode),Ei=E,Hi=D;break}case 5:Li||Yr(b,h);case 6:if(En){if(E=Ei,D=Hi,Ei=null,As(d,h,b),Ei=E,Hi=D,Ei!==null)if(Hi)try{z0(Ei,b.stateNode)}catch(L){Zt(b,h,L)}else try{bb(Ei,b.stateNode)}catch(L){Zt(b,h,L)}}else As(d,h,b);break;case 18:En&&Ei!==null&&(Hi?fm(Ei,b.stateNode):Z0(Ei,b.stateNode));break;case 4:En?(E=Ei,D=Hi,Ei=b.stateNode.containerInfo,Hi=!0,As(d,h,b),Ei=E,Hi=D):(is&&y0(b.stateNode,b,V0()),As(d,h,b));break;case 0:case 11:case 14:case 15:Do(2,b,h),Li||Do(4,b,h),As(d,h,b);break;case 1:Li||(Yr(b,h),E=b.stateNode,typeof E.componentWillUnmount=="function"&&Bp(b,h,E)),As(d,h,b);break;case 21:As(d,h,b);break;case 22:Li=(E=Li)||b.memoizedState!==null,As(d,h,b),Li=E;break;default:As(d,h,b)}}function Ts(d,h){if(mi&&h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{_E(d)}catch(b){Zt(h,h.return,b)}}}function Yd(d,h){if(mi&&h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{SE(d)}catch(b){Zt(h,h.return,b)}}function Cs(d){switch(d.tag){case 31:case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new fv),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new fv),h;default:throw Error(r(435,d.tag))}}function gl(d,h){var b=Cs(d);h.forEach(function(E){if(!b.has(E)){b.add(E);var D=yE.bind(null,d,E);E.then(D,D)}})}function yr(d,h){var b=h.deletions;if(b!==null)for(var E=0;E<b.length;E++){var D=b[E],L=d,K=h;if(En){var ve=K;e:for(;ve!==null;){switch(ve.tag){case 27:if(sr){if(Sc(ve.type)){Ei=ve.stateNode,Hi=!1;break e}break}case 5:Ei=ve.stateNode,Hi=!1;break e;case 3:case 4:Ei=ve.stateNode.containerInfo,Hi=!0;break e}ve=ve.return}if(Ei===null)throw Error(r(160));qd(L,K,D),Ei=null,Hi=!1}else qd(L,K,D);L=D.alternate,L!==null&&(L.return=null),D.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)Kd(h,d),h=h.sibling}function Kd(d,h){var b=d.alternate,E=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:yr(h,d),xr(d),E&4&&(Do(3,d,d.return),Po(3,d),Do(5,d,d.return));break;case 1:yr(h,d),xr(d),E&512&&(Li||b===null||Yr(b,b.return)),E&64&&Ni&&(d=d.updateQueue,d!==null&&(E=d.callbacks,E!==null&&(b=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=b===null?E:b.concat(E))));break;case 26:if(Ns){var D=Xn;if(yr(h,d),xr(d),E&512&&(Li||b===null||Yr(b,b.return)),E&4){E=b!==null?b.memoizedState:null;var L=d.memoizedState;b===null?L===null?d.stateNode===null?d.stateNode=Xb(D,d.type,d.memoizedProps,d):ev(D,d.type,d.stateNode):d.stateNode=J0(D,L,d.memoizedProps):E!==L?(E===null?b.stateNode!==null&&tv(b.stateNode):yu(E),L===null?ev(D,d.type,d.stateNode):J0(D,L,d.memoizedProps)):L===null&&d.stateNode!==null&&Wd(d,d.memoizedProps,b.memoizedProps)}break}case 27:if(sr){yr(h,d),xr(d),E&512&&(Li||b===null||Yr(b,b.return)),b!==null&&E&4&&Wd(d,d.memoizedProps,b.memoizedProps);break}case 5:if(yr(h,d),xr(d),E&512&&(Li||b===null||Yr(b,b.return)),En){if(d.flags&32){D=d.stateNode;try{F0(D)}catch(ht){Zt(d,d.return,ht)}}E&4&&d.stateNode!=null&&(D=d.memoizedProps,Wd(d,D,b!==null?b.memoizedProps:D)),E&1024&&(Vf=!0)}else is&&d.alternate!==null&&(d.alternate.stateNode=d.stateNode);break;case 6:if(yr(h,d),xr(d),E&4&&En){if(d.stateNode===null)throw Error(r(162));E=d.memoizedProps,b=b!==null?b.memoizedProps:E,D=d.stateNode;try{mb(D,b,E)}catch(ht){Zt(d,d.return,ht)}}break;case 3:if(Ns?(qb(),D=Xn,Xn=oh(h.containerInfo),yr(h,d),Xn=D):yr(h,d),xr(d),E&4){if(En&&mi&&b!==null&&b.memoizedState.isDehydrated)try{Vb(h.containerInfo)}catch(ht){Zt(d,d.return,ht)}if(is){E=h.containerInfo,b=h.pendingChildren;try{G0(E,b)}catch(ht){Zt(d,d.return,ht)}}}Vf&&(Vf=!1,jp(d));break;case 4:Ns?(b=Xn,Xn=oh(d.stateNode.containerInfo),yr(h,d),xr(d),Xn=b):(yr(h,d),xr(d)),E&4&&is&&y0(d.stateNode,d,d.stateNode.pendingChildren);break;case 12:yr(h,d),xr(d);break;case 31:yr(h,d),xr(d),E&4&&(E=d.updateQueue,E!==null&&(d.updateQueue=null,gl(d,E)));break;case 13:yr(h,d),xr(d),d.child.flags&8192&&d.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(vh=Kr()),E&4&&(E=d.updateQueue,E!==null&&(d.updateQueue=null,gl(d,E)));break;case 22:D=d.memoizedState!==null;var K=b!==null&&b.memoizedState!==null,ve=Ni,Ye=Li;if(Ni=ve||D,Li=Ye||K,yr(h,d),Li=Ye,Ni=ve,xr(d),E&8192&&(h=d.stateNode,h._visibility=D?h._visibility&-2:h._visibility|1,D&&(b===null||K||Ni||Li||au(d)),En)){e:if(b=null,En)for(h=d;;){if(h.tag===5||Ns&&h.tag===26){if(b===null){K=b=h;try{L=K.stateNode,D?xE(L):Sb(K.stateNode,K.memoizedProps)}catch(ht){Zt(K,K.return,ht)}}}else if(h.tag===6){if(b===null){K=h;try{var ct=K.stateNode;D?_b(ct):Mb(ct,K.memoizedProps)}catch(ht){Zt(K,K.return,ht)}}}else if(h.tag===18){if(b===null){K=h;try{var yt=K.stateNode;D?Gb(yt):Hb(K.stateNode)}catch(ht){Zt(K,K.return,ht)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;b===h&&(b=null),h=h.return}b===h&&(b=null),h.sibling.return=h.return,h=h.sibling}}E&4&&(E=d.updateQueue,E!==null&&(b=E.retryQueue,b!==null&&(E.retryQueue=null,gl(d,b))));break;case 19:yr(h,d),xr(d),E&4&&(E=d.updateQueue,E!==null&&(d.updateQueue=null,gl(d,E)));break;case 30:break;case 21:break;default:yr(h,d),xr(d)}}function xr(d){var h=d.flags;if(h&2){try{for(var b,E=d.return;E!==null;){if(v0(E)){b=E;break}E=E.return}if(En){if(b==null)throw Error(r(160));switch(b.tag){case 27:if(sr){var D=b.stateNode,L=ml(d);Xd(d,L,D);break}case 5:var K=b.stateNode;b.flags&32&&(F0(K),b.flags&=-33);var ve=ml(d);Xd(d,ve,K);break;case 3:case 4:var Ye=b.stateNode.containerInfo,ct=ml(d);Vp(d,ct,Ye);break;default:throw Error(r(161))}}}catch(yt){Zt(d,d.return,yt)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function jp(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;jp(h),h.tag===5&&h.flags&1024&&O0(h.stateNode),d=d.sibling}}function la(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)rb(d,h.alternate,h),h=h.sibling}function au(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:Do(4,h,h.return),au(h);break;case 1:Yr(h,h.return);var b=h.stateNode;typeof b.componentWillUnmount=="function"&&Bp(h,h.return,b),au(h);break;case 27:sr&&br(h.stateNode);case 26:case 5:Yr(h,h.return),au(h);break;case 22:h.memoizedState===null&&au(h);break;case 30:au(h);break;default:au(h)}d=d.sibling}}function Rs(d,h,b){for(b=b&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var E=h.alternate,D=d,L=h,K=L.flags;switch(L.tag){case 0:case 11:case 15:Rs(D,L,b),Po(4,L);break;case 1:if(Rs(D,L,b),E=L,D=E.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(ct){Zt(E,E.return,ct)}if(E=L,D=E.updateQueue,D!==null){var ve=E.stateNode;try{var Ye=D.shared.hiddenCallbacks;if(Ye!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Ye.length;D++)wa(Ye[D],ve)}catch(ct){Zt(E,E.return,ct)}}b&&K&64&&Sf(L),Mf(L,L.return);break;case 27:sr&&ib(L);case 26:case 5:Rs(D,L,b),b&&E===null&&K&4&&fc(L),Mf(L,L.return);break;case 12:Rs(D,L,b);break;case 31:Rs(D,L,b),b&&K&4&&Ts(D,L);break;case 13:Rs(D,L,b),b&&K&4&&Yd(D,L);break;case 22:L.memoizedState===null&&Rs(D,L,b),Mf(L,L.return);break;case 30:break;default:Rs(D,L,b)}h=h.sibling}}function su(d,h){var b=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==b&&(d!=null&&d.refCount++,b!=null&&Re(b))}function b0(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Re(d))}function _i(d,h,b,E){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Gp(d,h,b,E),h=h.sibling}function Gp(d,h,b,E){var D=h.flags;switch(h.tag){case 0:case 11:case 15:_i(d,h,b,E),D&2048&&Po(9,h);break;case 1:_i(d,h,b,E);break;case 3:_i(d,h,b,E),D&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Re(d)));break;case 12:if(D&2048){_i(d,h,b,E),d=h.stateNode;try{var L=h.memoizedProps,K=L.id,ve=L.onPostCommit;typeof ve=="function"&&ve(K,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ye){Zt(h,h.return,Ye)}}else _i(d,h,b,E);break;case 31:_i(d,h,b,E);break;case 13:_i(d,h,b,E);break;case 23:break;case 22:L=h.stateNode,K=h.alternate,h.memoizedState!==null?L._visibility&2?_i(d,h,b,E):wf(d,h):L._visibility&2?_i(d,h,b,E):(L._visibility|=2,Ea(d,h,b,E,(h.subtreeFlags&10256)!==0||!1)),D&2048&&su(K,h);break;case 24:_i(d,h,b,E),D&2048&&b0(h.alternate,h);break;default:_i(d,h,b,E)}}function Ea(d,h,b,E,D){for(D=D&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var L=d,K=h,ve=b,Ye=E,ct=K.flags;switch(K.tag){case 0:case 11:case 15:Ea(L,K,ve,Ye,D),Po(8,K);break;case 23:break;case 22:var yt=K.stateNode;K.memoizedState!==null?yt._visibility&2?Ea(L,K,ve,Ye,D):wf(L,K):(yt._visibility|=2,Ea(L,K,ve,Ye,D)),D&&ct&2048&&su(K.alternate,K);break;case 24:Ea(L,K,ve,Ye,D),D&&ct&2048&&b0(K.alternate,K);break;default:Ea(L,K,ve,Ye,D)}h=h.sibling}}function wf(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var b=d,E=h,D=E.flags;switch(E.tag){case 22:wf(b,E),D&2048&&su(E.alternate,E);break;case 24:wf(b,E),D&2048&&b0(E.alternate,E);break;default:wf(b,E)}h=h.sibling}}function Oo(d,h,b){if(d.subtreeFlags&os)for(d=d.child;d!==null;)ou(d,h,b),d=d.sibling}function ou(d,h,b){switch(d.tag){case 26:if(Oo(d,h,b),d.flags&os)if(d.memoizedState!==null)Yb(b,Xn,d.memoizedState,d.memoizedProps);else{var E=d.stateNode,D=d.type;d=d.memoizedProps,((h&335544128)===h||P0(D,d))&&am(b,E,D,d)}break;case 5:Oo(d,h,b),d.flags&os&&(E=d.stateNode,D=d.type,d=d.memoizedProps,((h&335544128)===h||P0(D,d))&&am(b,E,D,d));break;case 3:case 4:Ns?(E=Xn,Xn=oh(d.stateNode.containerInfo),Oo(d,h,b),Xn=E):Oo(d,h,b);break;case 22:d.memoizedState===null&&(E=d.alternate,E!==null&&E.memoizedState!==null?(E=os,os=16777216,Oo(d,h,b),os=E):Oo(d,h,b));break;default:Oo(d,h,b)}}function Hp(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function Ef(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var b=0;b<h.length;b++){var E=h[b];Gi=E,es(E,d)}Hp(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Wp(d),d=d.sibling}function Wp(d){switch(d.tag){case 0:case 11:case 15:Ef(d),d.flags&2048&&Do(9,d,d.return);break;case 3:Ef(d);break;case 12:Ef(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&2&&(d.return===null||d.return.tag!==13)?(h._visibility&=-3,Zd(d)):Ef(d);break;default:Ef(d)}}function Zd(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var b=0;b<h.length;b++){var E=h[b];Gi=E,es(E,d)}Hp(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:Do(8,h,h.return),Zd(h);break;case 22:b=h.stateNode,b._visibility&2&&(b._visibility&=-3,Zd(h));break;default:Zd(h)}d=d.sibling}}function es(d,h){for(;Gi!==null;){var b=Gi;switch(b.tag){case 0:case 11:case 15:Do(8,b,h);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var E=b.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Re(b.memoizedState.cache)}if(E=b.child,E!==null)E.return=b,Gi=E;else e:for(b=d;Gi!==null;){E=Gi;var D=E.sibling,L=E.return;if(x0(E),E===b){Gi=null;break e}if(D!==null){D.return=L,Gi=D;break e}Gi=L}}}function lu(d){var h=tn(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(r(364));return h}if(d=Vi(d),d===null)throw Error(r(362));return d.stateNode.current}function uu(d,h){var b=d.tag;switch(h.$$typeof){case Vs:if(d.type===h.value)return!0;break;case Gf:e:{for(h=h.value,d=[d,0],b=0;b<d.length;){var E=d[b++],D=E.tag,L=d[b++],K=h[L];if(D!==5&&D!==26&&D!==27||!gu(E)){for(;K!=null&&uu(E,K);)L++,K=h[L];if(L===h.length){h=!0;break e}else for(E=E.child;E!==null;)d.push(E,L),E=E.sibling}}h=!1}return h;case Hf:if((b===5||b===26||b===27)&&I0(d.stateNode,h.value))return!0;break;case wu:if((b===5||b===6||b===26||b===27)&&(d=ah(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case mh:if((b===5||b===26||b===27)&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Af(d){switch(d.$$typeof){case Vs:return"<"+(g(d.value)||"Unknown")+">";case Gf:return":has("+(Af(d)||"")+")";case Hf:return'[role="'+d.value+'"]';case wu:return'"'+d.value+'"';case mh:return'[data-testname="'+d.value+'"]';default:throw Error(r(365))}}function Tf(d,h){var b=[];d=[d,0];for(var E=0;E<d.length;){var D=d[E++],L=D.tag,K=d[E++],ve=h[K];if(L!==5&&L!==26&&L!==27||!gu(D)){for(;ve!=null&&uu(D,ve);)K++,ve=h[K];if(K===h.length)b.push(D);else for(D=D.child;D!==null;)d.push(D,K),D=D.sibling}}return b}function Aa(d,h){if(!ar)throw Error(r(363));d=lu(d),d=Tf(d,h),h=[],d=Array.from(d);for(var b=0;b<d.length;){var E=d[b++],D=E.tag;if(D===5||D===26||D===27)gu(E)||h.push(E.stateNode);else for(E=E.child;E!==null;)d.push(E),E=E.sibling}return h}function pi(){return(vn&2)!==0&&_n!==0?_n&-_n:Gt.T!==null?Ee():Uf()}function vl(){if(pa===0)if((_n&536870912)===0||bn){var d=wc;wc<<=1,(wc&3932160)===0&&(wc=262144),pa=d}else pa=536870912;return d=Oa.current,d!==null&&(d.flags|=32),pa}function Si(d,h,b){(d===cn&&(qn===2||qn===9)||d.cancelPendingCommit!==null)&&(Di(d,0),Lo(d,_n,pa,!1)),N(d,b),((vn&2)===0||d!==cn)&&(d===cn&&((vn&2)===0&&(Tu|=b),Ai===4&&Lo(d,_n,pa,!1)),nt(d))}function so(d,h,b){if((vn&6)!==0)throw Error(r(327));var E=!b&&(h&127)===0&&(h&d.expiredLanes)===0||R(d,h),D=E?ob(d,h):Io(d,h,!0),L=E;do{if(D===0){Eu&&!E&&Lo(d,h,0,!1);break}else{if(b=d.current.alternate,L&&!ab(b)){D=Io(d,h,!1),L=!1;continue}if(D===2){if(L=h,d.errorRecoveryDisabledLanes&L)var K=0;else K=d.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){h=K;e:{var ve=d;D=gh;var Ye=mi&&ve.current.memoizedState.isDehydrated;if(Ye&&(Di(ve,K).flags|=256),K=Io(ve,K,!1),K!==2){if(Au&&!Ye){ve.errorRecoveryDisabledLanes|=L,Tu|=L,D=4;break e}L=La,La=D,L!==null&&(La===null?La=L:La.push.apply(La,L))}D=K}if(L=!1,D!==2)continue}}if(D===1){Di(d,0),Lo(d,h,0,!0);break}e:{switch(E=d,L=D,L){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Lo(E,h,pa,!co);break e;case 2:La=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(D=vh+300-Kr(),10<D)){if(Lo(E,h,pa,!co),M(E,0,!0)!==0)break e;Ko=h,E.timeoutHandle=R0(No.bind(null,E,b,La,yh,Tm,h,pa,Tu,Xf,co,L,"Throttled",-0,0),D);break e}No(E,b,La,yh,Tm,h,pa,Tu,Xf,co,L,null,-0,0)}}break}while(!0);nt(d)}function No(d,h,b,E,D,L,K,ve,Ye,ct,yt,ht,Tt,en){if(d.timeoutHandle=Ra,ht=h.subtreeFlags,ht&8192||(ht&16785408)===16785408){ht=D0(),ou(h,L,ht);var Wi=(L&62914560)===L?vh-Kr():(L&4194048)===L?Dc-Kr():0;if(Wi=pb(ht,Wi),Wi!==null){Ko=L,d.cancelPendingCommit=Wi(ko.bind(null,d,h,L,b,E,D,K,ve,Ye,yt,ht,null,Tt,en)),Lo(d,L,K,!ct);return}}ko(d,h,L,b,E,D,K,ve,Ye)}function ab(d){for(var h=d;;){var b=h.tag;if((b===0||b===11||b===15)&&h.flags&16384&&(b=h.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var E=0;E<b.length;E++){var D=b[E],L=D.getSnapshot;D=D.value;try{if(!ji(L(),D))return!1}catch{return!1}}if(b=h.child,h.subtreeFlags&16384&&b!==null)b.return=h,h=b;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Lo(d,h,b,E){h&=~Wf,h&=~Tu,d.suspendedLanes|=h,d.pingedLanes&=~h,E&&(d.warmLanes|=h),E=d.expirationTimes;for(var D=h;0<D;){var L=31-Pa(D),K=1<<L;E[L]=-1,D&=~K}b!==0&&z(d,b,h)}function Xp(){return(vn&6)===0?(Je(0),!1):!0}function qp(){if(yn!==null){if(qn===0)var d=yn.return;else d=yn,lo=ii=null,An(d),_u=null,Ac=0,d=yn;for(;d!==null;)nb(d.alternate,d),d=d.return;yn=null}}function Di(d,h){var b=d.timeoutHandle;b!==Ra&&(d.timeoutHandle=Ra,hb(b)),b=d.cancelPendingCommit,b!==null&&(d.cancelPendingCommit=null,b()),Ko=0,qp(),cn=d,yn=b=ns(d.current,null),_n=h,qn=0,er=null,co=!1,Eu=R(d,h),Au=!1,Xf=pa=Wf=Tu=Rl=Ai=0,La=gh=null,Tm=!1,(h&8)!==0&&(h|=h&32);var E=d.entangledLanes;if(E!==0)for(d=d.entanglements,E&=h;0<E;){var D=31-Pa(E),L=1<<D;h|=d[D],E&=~L}return Yo=h,pr(),b}function ni(d,h){nn=null,Gt.H=ss,h===ur||h===Fs?(h=Nt(),qn=3):h===Em?(h=Nt(),qn=4):qn=h===ha?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,er=h,yn===null&&(Ai=1,Up(d,he(h,d.current)))}function wn(){var d=Oa.current;return d===null?!0:(_n&4194048)===_n?Na===null:(_n&62914560)===_n||(_n&536870912)!==0?d===Na:!1}function yl(){var d=Gt.H;return Gt.H=ss,d===null?ss:d}function ts(){var d=Gt.A;return Gt.A=jf,d}function Cf(){Ai=4,co||(_n&4194048)!==_n&&Oa.current!==null||(Eu=!0),(Rl&134217727)===0&&(Tu&134217727)===0||cn===null||Lo(cn,_n,pa,!1)}function Io(d,h,b){var E=vn;vn|=2;var D=yl(),L=ts();(cn!==d||_n!==h)&&(yh=null,Di(d,h)),h=!1;var K=Ai;e:do try{if(qn!==0&&yn!==null){var ve=yn,Ye=er;switch(qn){case 8:qp(),K=6;break e;case 3:case 2:case 9:case 6:Oa.current===null&&(h=!0);var ct=qn;if(qn=0,er=null,Uo(d,ve,Ye,ct),b&&Eu){K=0;break e}break;default:ct=qn,qn=0,er=null,Uo(d,ve,Ye,ct)}}sb(),K=Ai;break}catch(yt){ni(d,yt)}while(!0);return h&&d.shellSuspendCounter++,lo=ii=null,vn=E,Gt.H=D,Gt.A=L,yn===null&&(cn=null,_n=0,pr()),K}function sb(){for(;yn!==null;)cu(yn)}function ob(d,h){var b=vn;vn|=2;var E=yl(),D=ts();cn!==d||_n!==h?(yh=null,Cu=Kr()+500,Di(d,h)):Eu=R(d,h);e:do try{if(qn!==0&&yn!==null){h=yn;var L=er;t:switch(qn){case 1:qn=0,er=null,Uo(d,h,L,1);break;case 2:case 9:if(st(L)){qn=0,er=null,Yp(h);break}h=function(){qn!==2&&qn!==9||cn!==d||(qn=7),nt(d)},L.then(h,h);break e;case 3:qn=7;break e;case 4:qn=5;break e;case 7:st(L)?(qn=0,er=null,Yp(h)):(qn=0,er=null,Uo(d,h,L,7));break;case 5:var K=null;switch(yn.tag){case 26:K=yn.memoizedState;case 5:case 27:var ve=yn,Ye=ve.type,ct=ve.pendingProps;if(K?iv(K):Mi(ve.stateNode,Ye,ct)){qn=0,er=null;var yt=ve.sibling;if(yt!==null)yn=yt;else{var ht=ve.return;ht!==null?(yn=ht,Pf(ht)):yn=null}break t}}qn=0,er=null,Uo(d,h,L,5);break;case 6:qn=0,er=null,Uo(d,h,L,6);break;case 8:qp(),Ai=6;break e;default:throw Error(r(462))}}Rf();break}catch(Tt){ni(d,Tt)}while(!0);return lo=ii=null,Gt.H=E,Gt.A=D,vn=b,yn!==null?0:(cn=null,_n=0,pr(),Ai)}function Rf(){for(;yn!==null&&!Zb();)cu(yn)}function cu(d){var h=h0(d.alternate,d,Yo);d.memoizedProps=d.pendingProps,h===null?Pf(d):yn=h}function Yp(d){var h=d,b=h.alternate;switch(h.tag){case 15:case 0:h=o0(b,h,h.pendingProps,h.type,void 0,_n);break;case 11:h=o0(b,h,h.pendingProps,h.type.render,h.ref,_n);break;case 5:An(h);default:nb(b,h),h=yn=$p(h,Yo),h=h0(b,h,Yo)}d.memoizedProps=d.pendingProps,h===null?Pf(d):yn=h}function Uo(d,h,b,E){lo=ii=null,An(h),_u=null,Ac=0;var D=h.return;try{if(mE(d,D,h,b,_n)){Ai=1,Up(d,he(b,d.current)),yn=null;return}}catch(L){if(D!==null)throw yn=D,L;Ai=1,Up(d,he(b,d.current)),yn=null;return}h.flags&32768?(bn||E===1?d=!0:Eu||(_n&536870912)!==0?d=!1:(co=d=!0,(E===2||E===9||E===3||E===6)&&(E=Oa.current,E!==null&&E.tag===13&&(E.flags|=16384))),fu(h,d)):Pf(h)}function Pf(d){var h=d;do{if((h.flags&32768)!==0){fu(h,co);return}d=h.return;var b=tb(h.alternate,h,Yo);if(b!==null){yn=b;return}if(h=h.sibling,h!==null){yn=h;return}yn=h=d}while(h!==null);Ai===0&&(Ai=5)}function fu(d,h){do{var b=g0(d.alternate,d);if(b!==null){b.flags&=32767,yn=b;return}if(b=d.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!h&&(d=d.sibling,d!==null)){yn=d;return}yn=d=b}while(d!==null);Ai=6,yn=null}function ko(d,h,b,E,D,L,K,ve,Ye){d.cancelPendingCommit=null;do Fo();while(tr!==0);if((vn&6)!==0)throw Error(r(327));if(h!==null){if(h===d.current)throw Error(r(177));if(L=h.lanes|h.childLanes,L|=Tc,k(d,b,L,K,ve,Ye),d===cn&&(yn=cn=null,_n=0),Oc=h,Dl=d,Ko=b,qf=L,Cm=D,dv=E,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Qi(uh,function(){return $d(),null})):(d.callbackNode=null,d.callbackPriority=0),E=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||E){E=Gt.T,Gt.T=null,D=Os(),xn(2),K=vn,vn|=4;try{gE(d,h,b)}finally{vn=K,xn(D),Gt.T=E}}tr=1,xl(),zo(),Kp()}}function xl(){if(tr===1){tr=0;var d=Dl,h=Oc,b=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||b){b=Gt.T,Gt.T=null;var E=Os();xn(2);var D=vn;vn|=4;try{Kd(h,d),db(d.containerInfo)}finally{vn=D,xn(E),Gt.T=b}}d.current=h,tr=2}}function zo(){if(tr===2){tr=0;var d=Dl,h=Oc,b=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||b){b=Gt.T,Gt.T=null;var E=Os();xn(2);var D=vn;vn|=4;try{rb(d,h.alternate,h)}finally{vn=D,xn(E),Gt.T=b}}tr=3}}function Kp(){if(tr===4||tr===3){tr=0,av();var d=Dl,h=Oc,b=Ko,E=dv;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?tr=5:(tr=0,Oc=Dl=null,Zp(d,d.pendingLanes));var D=d.pendingLanes;if(D===0&&(Pl=null),H(b),h=h.stateNode,Da&&typeof Da.onCommitFiberRoot=="function")try{Da.onCommitFiberRoot(Ec,h,void 0,(h.current.flags&128)===128)}catch{}if(E!==null){h=Gt.T,D=Os(),xn(2),Gt.T=null;try{for(var L=d.onRecoverableError,K=0;K<E.length;K++){var ve=E[K];L(ve.value,{componentStack:ve.stack})}}finally{Gt.T=h,xn(D)}}(Ko&3)!==0&&Fo(),nt(d),D=d.pendingLanes,(b&261930)!==0&&(D&42)!==0?d===xh?On++:(On=0,xh=d):On=0,mi&&sh(),Je(0)}}function Zp(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,Re(h)))}function Fo(){return xl(),zo(),Kp(),$d()}function $d(){if(tr!==5)return!1;var d=Dl,h=qf;qf=0;var b=H(Ko),E=32>b?32:b;b=Gt.T;var D=Os();try{xn(E),Gt.T=null,E=Cm,Cm=null;var L=Dl,K=Ko;if(tr=0,Oc=Dl=null,Ko=0,(vn&6)!==0)throw Error(r(331));var ve=vn;if(vn|=4,Wp(L.current),Gp(L,L.current,K,E),vn=ve,Je(0,!1),Da&&typeof Da.onPostCommitFiberRoot=="function")try{Da.onPostCommitFiberRoot(Ec,L)}catch{}return!0}finally{xn(D),Gt.T=b,Zp(d,h)}}function du(d,h,b){h=he(b,h),h=a0(d.stateNode,h,2),d=Gr(d,h,2),d!==null&&(N(d,2),nt(d))}function Zt(d,h,b){if(d.tag===3)du(d,d,b);else for(;h!==null;){if(h.tag===3){du(h,d,b);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Pl===null||!Pl.has(E))){d=he(b,d),b=Gx(2),E=Gr(h,b,2),E!==null&&(Hx(b,E,h,d),N(E,2),nt(E));break}}h=h.return}}function Df(d,h,b){var E=d.pingCache;if(E===null){E=d.pingCache=new ls;var D=new Set;E.set(h,D)}else D=E.get(h),D===void 0&&(D=new Set,E.set(h,D));D.has(b)||(Au=!0,D.add(b),d=lb.bind(null,d,h,b),h.then(d,d))}function lb(d,h,b){var E=d.pingCache;E!==null&&E.delete(h),d.pingedLanes|=d.suspendedLanes&b,d.warmLanes&=~b,cn===d&&(_n&b)===b&&(Ai===4||Ai===3&&(_n&62914560)===_n&&300>Kr()-vh?(vn&2)===0&&Di(d,0):Wf|=b,Xf===_n&&(Xf=0)),nt(d)}function ub(d,h){h===0&&(h=P()),d=ei(d,h),d!==null&&(N(d,h),nt(d))}function vE(d){var h=d.memoizedState,b=0;h!==null&&(b=h.retryLane),ub(d,b)}function yE(d,h){var b=0;switch(d.tag){case 31:case 13:var E=d.stateNode,D=d.memoizedState;D!==null&&(b=D.retryLane);break;case 19:E=d.stateNode;break;case 22:E=d.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(h),ub(d,b)}function Qi(d,h){return lh(d,h)}function _0(d,h,b,E){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dc(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ns(d,h){var b=d.alternate;return b===null?(b=n(d.tag,h,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=h,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&65011712,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,h=d.dependencies,b.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b.refCleanup=d.refCleanup,b}function $p(d,h){d.flags&=65011714;var b=d.alternate;return b===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=b.childLanes,d.lanes=b.lanes,d.child=b.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=b.memoizedProps,d.memoizedState=b.memoizedState,d.updateQueue=b.updateQueue,d.type=b.type,h=b.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function bl(d,h,b,E,D,L){var K=0;if(E=d,typeof d=="function")dc(d)&&(K=1);else if(typeof d=="string")K=Ns&&sr?dm(d,b,_r.current)?26:rv(d)?27:5:Ns?dm(d,b,_r.current)?26:5:sr&&rv(d)?27:5;else e:switch(d){case th:return d=n(31,b,h,D),d.elementType=th,d.lanes=L,d;case gc:return Ps(b.children,D,L,h);case vc:K=8,D|=24;break;case yc:return d=n(12,b,h,D|2),d.elementType=yc,d.lanes=L,d;case tm:return d=n(13,b,h,D),d.elementType=tm,d.lanes=L,d;case _l:return d=n(19,b,h,D),d.elementType=_l,d.lanes=L,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case Ds:K=10;break e;case eh:K=9;break e;case Of:K=11;break e;case nm:K=14;break e;case ua:K=16,E=null;break e}K=29,b=Error(r(130,d===null?"null":typeof d,"")),E=null}return h=n(K,b,h,D),h.elementType=d,h.type=E,h.lanes=L,h}function Ps(d,h,b,E){return d=n(7,d,E,h),d.lanes=b,d}function S0(d,h,b){return d=n(6,d,null,h),d.lanes=b,d}function M0(d){var h=n(18,null,null,0);return h.stateNode=d,h}function w0(d,h,b){return h=n(4,d.children!==null?d.children:[],d.key,h),h.lanes=b,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function cb(d,h,b,E,D,L,K,ve,Ye){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ra,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=E,this.onUncaughtError=D,this.onCaughtError=L,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ye,this.incompleteTransitions=new Map}function hu(d,h,b,E,D,L,K,ve,Ye,ct,yt,ht){return d=new cb(d,h,b,K,Ye,ct,yt,ht,ve),h=1,L===!0&&(h|=24),L=n(3,null,null,h),d.current=L,L.stateNode=d,h=De(),h.refCount++,d.pooledCache=h,h.refCount++,L.memoizedState={element:E,isDehydrated:b,cache:h},Ri(L),d}function Qp(d){return d?(d=Vo,d):Vo}function Qd(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=l(h),d=d!==null?u(d):null,d===null?null:Lf(d.stateNode)}function E0(d,h,b,E,D,L){D=Qp(D),E.context===null?E.context=D:E.pendingContext=D,E=aa(h),E.payload={element:b},L=L===void 0?null:L,L!==null&&(E.callback=L),b=Gr(d,E,h),b!==null&&(Si(b,d,h),Ya(b,d,h))}function hc(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<h?b:h}}function Jd(d,h){hc(d,h),(d=d.alternate)&&hc(d,h)}var ln={},Jp=So,Ta=Fge,em=Object.assign,pc=Symbol.for("react.element"),Bo=Symbol.for("react.transitional.element"),mc=Symbol.for("react.portal"),gc=Symbol.for("react.fragment"),vc=Symbol.for("react.strict_mode"),yc=Symbol.for("react.profiler"),eh=Symbol.for("react.consumer"),Ds=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),_l=Symbol.for("react.suspense_list"),nm=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),th=Symbol.for("react.activity"),A0=Symbol.for("react.memo_cache_sentinel"),Sl=Symbol.iterator,pu=Symbol.for("react.client.reference"),mu=Array.isArray,Gt=Jp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T0=e.rendererVersion,nh=e.rendererPackageName,Nf=e.extraDevToolsConfig,Lf=e.getPublicInstance,fb=e.getRootHostContext,If=e.getChildHostContext,im=e.prepareForCommit,db=e.resetAfterCommit,C0=e.createInstance;e.cloneMutableInstance;var ih=e.appendInitialChild,Ca=e.finalizeInitialChildren,ca=e.shouldSetTextContent,Ml=e.createTextInstance;e.cloneMutableTextInstance;var R0=e.scheduleTimeout,hb=e.cancelTimeout,Ra=e.noTimeout,Bi=e.isPrimaryRenderer;e.warnsIfNotActing;var En=e.supportsMutation,is=e.supportsPersistence,mi=e.supportsHydration,tn=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Kn=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var xn=e.setCurrentUpdatePriority,Os=e.getCurrentUpdatePriority,Uf=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var xc=e.shouldAttemptEagerTransition,rm=e.detachDeletedInstance;e.requestPostPaintCallback;var rh=e.maySuspendCommit,kf=e.maySuspendCommitOnUpdate,P0=e.maySuspendCommitInSyncRender,Mi=e.preloadInstance,D0=e.startSuspendingCommit,am=e.suspendInstance;e.suspendOnActiveViewTransition;var pb=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var bc=e.NotPendingTransition,_c=e.HostTransitionContext,O0=e.resetFormInstance;e.bindToConsole;var N0=e.supportsMicrotasks,L0=e.scheduleMicrotask,ar=e.supportsTestSelectors,Vi=e.findFiberRoot,sm=e.getBoundingRect,ah=e.getTextContent,gu=e.isHiddenSubtree,I0=e.matchAccessibilityRole,wl=e.setFocusIfFocusable,om=e.setupIntersectionObserver,U0=e.appendChild,k0=e.appendChildToContainer,mb=e.commitTextUpdate,gb=e.commitMount,vb=e.commitUpdate,yb=e.insertBefore,xb=e.insertInContainerBefore,bb=e.removeChild,z0=e.removeChildFromContainer,F0=e.resetTextContent,xE=e.hideInstance,_b=e.hideTextInstance,Sb=e.unhideInstance,Mb=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var B0=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var wb=e.cloneInstance,V0=e.createContainerChildSet,j0=e.appendChildToContainerChildSet,Eb=e.finalizeContainerChildren,G0=e.replaceContainerChildren,Ab=e.cloneHiddenInstance,H0=e.cloneHiddenTextInstance,vu=e.isSuspenseInstancePending,lm=e.isSuspenseInstanceFallback,um=e.getSuspenseInstanceFallbackErrorDetails,cm=e.registerSuspenseInstanceRetry,Tb=e.canHydrateFormStateMarker,W0=e.isFormStateMarkerMatching,Cb=e.getNextHydratableSibling,Rb=e.getNextHydratableSiblingAfterSingleton,Pb=e.getFirstHydratableChild,Db=e.getFirstHydratableChildWithinContainer,Ob=e.getFirstHydratableChildWithinActivityInstance,Nb=e.getFirstHydratableChildWithinSuspenseInstance,X0=e.getFirstHydratableChildWithinSingleton,Lb=e.canHydrateInstance,Ib=e.canHydrateTextInstance,q0=e.canHydrateActivityInstance,Ub=e.canHydrateSuspenseInstance,kb=e.hydrateInstance,bE=e.hydrateTextInstance,Y0=e.hydrateActivityInstance,zb=e.hydrateSuspenseInstance,Fb=e.getNextHydratableInstanceAfterActivityInstance,K0=e.getNextHydratableInstanceAfterSuspenseInstance,Bb=e.commitHydratedInstance,Vb=e.commitHydratedContainer,_E=e.commitHydratedActivityInstance,SE=e.commitHydratedSuspenseInstance,jb=e.finalizeHydratedChildren,sh=e.flushHydrationEvents;e.clearActivityBoundary;var Z0=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var fm=e.clearSuspenseBoundaryFromContainer,Gb=e.hideDehydratedBoundary,Hb=e.unhideDehydratedBoundary,zf=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Wb=e.validateHydratableInstance,$0=e.validateHydratableTextInstance,Ns=e.supportsResources,dm=e.isHostHoistableType,oh=e.getHoistableRoot,Q0=e.getResource,J0=e.acquireResource,yu=e.releaseResource,Xb=e.hydrateHoistable,ev=e.mountHoistable,tv=e.unmountHoistable,hm=e.createHoistableInstance,qb=e.prepareToCommitHoistables,nv=e.mayResourceSuspendCommit,iv=e.preloadResource,Yb=e.suspendResource,sr=e.supportsSingletons,pm=e.resolveSingletonInstance,Ji=e.acquireSingletonInstance,br=e.releaseSingletonInstance,rv=e.isHostSingletonType,Sc=e.isSingletonScope,mm=[],Mc=-1,Vo={},Pa=Math.clz32?Math.clz32:w,gm=Math.log,Kb=Math.LN2,vm=256,wc=262144,Ff=4194304,lh=Ta.unstable_scheduleCallback,ym=Ta.unstable_cancelCallback,Zb=Ta.unstable_shouldYield,av=Ta.unstable_requestPaint,Kr=Ta.unstable_now,xm=Ta.unstable_ImmediatePriority,$b=Ta.unstable_UserBlockingPriority,uh=Ta.unstable_NormalPriority,bm=Ta.unstable_IdlePriority,sv=Ta.log,Qb=Ta.unstable_setDisableYieldValue,Ec=null,Da=null,ji=typeof Object.is=="function"?Object.is:J,_m=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},ME=Object.prototype.hasOwnProperty,Sm,jo,ch=!1,ov=new WeakMap,El=[],Go=0,Zn=null,fh=0,Ls=[],rs=0,Is=null,Dr=1,oo="",_r=v(null),Al=v(null),Or=v(null),dh=v(null),or=null,gi=null,bn=!1,Ho=null,fa=!1,Mm=Error(r(519)),Us=v(null),ii=null,lo=null,Jb=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(b,E){d.push(E)}};this.abort=function(){h.aborted=!0,d.forEach(function(b){return b()})}},Sr=Ta.unstable_scheduleCallback,wE=Ta.unstable_NormalPriority,vi={$$typeof:Ds,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},hh=null,Wn=null,Zr=!1,ks=!1,wm=!1,xu=0,Bf=null,lv=0,Tl=0,lr=null,zs=Gt.S;Gt.S=function(d,h){Dc=Kr(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&ft(d,h),zs!==null&&zs(d,h)};var bu=v(null),ur=Error(r(460)),Em=Error(r(474)),Fs=Error(r(542)),Wo={then:function(){}},da=null,_u=null,Ac=0,Nr=jr(!0),uv=jr(!1),Lr=[],Xo=0,Tc=0,as=!1,Am=!1,Cc=v(null),Su=v(0),Oa=v(null),Na=null,Oi=v(0),Cl=0,nn=null,Ft=null,Jt=null,un=!1,on=!1,Tn=!1,$r=0,Bs=0,uo=null,cv=0,ss={readContext:q,use:Pi,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};ss.useEffectEvent=dt;var wi={readContext:q,use:Pi,useCallback:function(d,h){return Kt().memoizedState=[d,h===void 0?null:h],d},useContext:q,useEffect:Jl,useImperativeHandle:function(d,h,b){b=b!=null?b.concat([d]):null,io(4194308,4,Ao.bind(null,h,d),b)},useLayoutEffect:function(d,h){return io(4194308,4,d,h)},useInsertionEffect:function(d,h){io(4,2,d,h)},useMemo:function(d,h){var b=Kt();h=h===void 0?null:h;var E=d();if(Tn){Y(!0);try{d()}finally{Y(!1)}}return b.memoizedState=[E,h],E},useReducer:function(d,h,b){var E=Kt();if(b!==void 0){var D=b(h);if(Tn){Y(!0);try{b(h)}finally{Y(!1)}}}else D=h;return E.memoizedState=E.baseState=D,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:D},E.queue=d,d=d.dispatch=qr.bind(null,nn,d),[E.memoizedState,d]},useRef:function(d){var h=Kt();return d={current:d},h.memoizedState=d},useState:function(d){d=Zl(d);var h=d.queue,b=ao.bind(null,nn,h);return h.dispatch=b,[d.memoizedState,b]},useDebugValue:nu,useDeferredValue:function(d,h){var b=Kt();return $i(b,d,h)},useTransition:function(){var d=Zl(!1);return d=ac.bind(null,nn,d.queue,!0,!1),Kt().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,b){var E=nn,D=Kt();if(bn){if(b===void 0)throw Error(r(407));b=b()}else{if(b=h(),cn===null)throw Error(r(349));(_n&127)!==0||zi(E,h,b)}D.memoizedState=b;var L={value:b,getSnapshot:h};return D.queue=L,Jl(no.bind(null,E,L,d),[d]),E.flags|=2048,Xr(9,{destroy:void 0},Fi.bind(null,E,L,b,h),null),b},useId:function(){var d=Kt(),h=cn.identifierPrefix;if(bn){var b=oo,E=Dr;b=(E&~(1<<32-Pa(E)-1)).toString(32)+b,h="_"+h+"R_"+b,b=$r++,0<b&&(h+="H"+b.toString(32)),h+="_"}else b=cv++,h="_"+h+"r_"+b.toString(32)+"_";return d.memoizedState=h},useHostTransitionStatus:gf,useFormState:$l,useActionState:$l,useOptimistic:function(d){var h=Kt();h.memoizedState=h.baseState=d;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=b,h=Np.bind(null,nn,!0,b),b.dispatch=h,[d,h]},useMemoCache:Hr,useCacheRefresh:function(){return Kt().memoizedState=Ja.bind(null,nn)},useEffectEvent:function(d){var h=Kt(),b={impl:d};return h.memoizedState=b,function(){if((vn&2)!==0)throw Error(r(440));return b.impl.apply(void 0,arguments)}}},qo={readContext:q,use:Pi,useCallback:To,useContext:q,useEffect:ws,useImperativeHandle:tu,useInsertionEffect:ro,useLayoutEffect:pl,useMemo:Co,useReducer:gr,useRef:rc,useState:function(){return gr(Un)},useDebugValue:nu,useDeferredValue:function(d,h){var b=_t();return Bd(b,Ft.memoizedState,d,h)},useTransition:function(){var d=gr(Un)[0],h=_t().memoizedState;return[typeof d=="boolean"?d:kt(d),h]},useSyncExternalStore:di,useId:vf,useHostTransitionStatus:gf,useFormState:wo,useActionState:wo,useOptimistic:function(d,h){var b=_t();return Ss(b,Ft,d,h)},useMemoCache:Hr,useCacheRefresh:Rr};qo.useEffectEvent=hi;var Mu={readContext:q,use:Pi,useCallback:To,useContext:q,useEffect:ws,useImperativeHandle:tu,useInsertionEffect:ro,useLayoutEffect:pl,useMemo:Co,useReducer:fi,useRef:rc,useState:function(){return fi(Un)},useDebugValue:nu,useDeferredValue:function(d,h){var b=_t();return Ft===null?$i(b,d,h):Bd(b,Ft.memoizedState,d,h)},useTransition:function(){var d=fi(Un)[0],h=_t().memoizedState;return[typeof d=="boolean"?d:kt(d),h]},useSyncExternalStore:di,useId:vf,useHostTransitionStatus:gf,useFormState:Eo,useActionState:Eo,useOptimistic:function(d,h){var b=_t();return Ft!==null?Ss(b,Ft,d,h):(b.baseState=d,[d,b.queue.dispatch])},useMemoCache:Hr,useCacheRefresh:Rr};Mu.useEffectEvent=hi;var ph={enqueueSetState:function(d,h,b){d=d._reactInternals;var E=pi(),D=aa(E);D.payload=h,b!=null&&(D.callback=b),h=Gr(d,D,E),h!==null&&(Si(h,d,E),Ya(h,d,E))},enqueueReplaceState:function(d,h,b){d=d._reactInternals;var E=pi(),D=aa(E);D.tag=1,D.payload=h,b!=null&&(D.callback=b),h=Gr(d,D,E),h!==null&&(Si(h,d,E),Ya(h,d,E))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var b=pi(),E=aa(b);E.tag=2,h!=null&&(E.callback=h),h=Gr(d,E,b),h!==null&&(Si(h,d,b),Ya(h,d,b))}},ha=Error(r(461)),ui=!1,Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Ni=!1,Li=!1,Vf=!1,fv=typeof WeakSet=="function"?WeakSet:Set,Gi=null,Ei=null,Hi=!1,Xn=null,os=8192,jf={getCacheForType:function(d){var h=q(vi),b=h.data.get(d);return b===void 0&&(b=d(),h.data.set(d,b)),b},cacheSignal:function(){return q(vi).controller.signal}},Vs=0,Gf=1,Hf=2,mh=3,wu=4;if(typeof Symbol=="function"&&Symbol.for){var Pc=Symbol.for;Vs=Pc("selector.component"),Gf=Pc("selector.has_pseudo_class"),Hf=Pc("selector.role"),mh=Pc("selector.test_id"),wu=Pc("selector.text")}var ls=typeof WeakMap=="function"?WeakMap:Map,vn=0,cn=null,yn=null,_n=0,qn=0,er=null,co=!1,Eu=!1,Au=!1,Yo=0,Ai=0,Rl=0,Tu=0,Wf=0,pa=0,Xf=0,gh=null,La=null,Tm=!1,vh=0,Dc=0,Cu=1/0,yh=null,Pl=null,tr=0,Dl=null,Oc=null,Ko=0,qf=0,Cm=null,dv=null,On=0,xh=null;return ln.attemptContinuousHydration=function(d){if(d.tag===13||d.tag===31){var h=ei(d,67108864);h!==null&&Si(h,d,67108864),Jd(d,67108864)}},ln.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13||d.tag===31){var h=pi();h=W(h);var b=ei(d,h);b!==null&&Si(b,d,h),Jd(d,h)}},ln.attemptSynchronousHydration=function(d){switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var h=S(d.pendingLanes);if(h!==0){for(d.pendingLanes|=2,d.entangledLanes|=2;h;){var b=1<<31-Pa(h);d.entanglements[1]|=b,h&=~b}nt(d),(vn&6)===0&&(Cu=Kr()+500,Je(0))}}break;case 31:case 13:h=ei(d,2),h!==null&&Si(h,d,2),Xp(),Jd(d,2)}},ln.batchedUpdates=function(d,h){return d(h)},ln.createComponentSelector=function(d){return{$$typeof:Vs,value:d}},ln.createContainer=function(d,h,b,E,D,L,K,ve,Ye,ct){return hu(d,h,!1,null,b,E,L,null,K,ve,Ye,ct)},ln.createHasPseudoClassSelector=function(d){return{$$typeof:Gf,value:d}},ln.createHydrationContainer=function(d,h,b,E,D,L,K,ve,Ye,ct,yt,ht,Tt,en){var Wi;return d=hu(b,E,!0,d,D,L,ve,en,Ye,ct,yt,ht),d.context=Qp(null),b=d.current,E=pi(),E=W(E),D=aa(E),D.callback=(Wi=h)!=null?Wi:null,Gr(b,D,E),h=E,d.current.lanes=h,N(d,h),nt(d),d},ln.createPortal=function(d,h,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mc,key:E==null?null:""+E,children:d,containerInfo:h,implementation:b}},ln.createRoleSelector=function(d){return{$$typeof:Hf,value:d}},ln.createTestNameSelector=function(d){return{$$typeof:mh,value:d}},ln.createTextSelector=function(d){return{$$typeof:wu,value:d}},ln.defaultOnCaughtError=function(d){console.error(d)},ln.defaultOnRecoverableError=function(d){_m(d)},ln.defaultOnUncaughtError=function(d){_m(d)},ln.deferredUpdates=function(d){var h=Gt.T,b=Os();try{return xn(32),Gt.T=null,d()}finally{xn(b),Gt.T=h}},ln.discreteUpdates=function(d,h,b,E,D){var L=Gt.T,K=Os();try{return xn(2),Gt.T=null,d(h,b,E,D)}finally{xn(K),Gt.T=L,vn===0&&(Cu=Kr()+500)}},ln.findAllNodes=Aa,ln.findBoundingRects=function(d,h){if(!ar)throw Error(r(363));h=Aa(d,h),d=[];for(var b=0;b<h.length;b++)d.push(sm(h[b]));for(h=d.length-1;0<h;h--){b=d[h];for(var E=b.x,D=E+b.width,L=b.y,K=L+b.height,ve=h-1;0<=ve;ve--)if(h!==ve){var Ye=d[ve],ct=Ye.x,yt=ct+Ye.width,ht=Ye.y,Tt=ht+Ye.height;if(E>=ct&&L>=ht&&D<=yt&&K<=Tt){d.splice(h,1);break}else if(E!==ct||b.width!==Ye.width||Tt<L||ht>K){if(!(L!==ht||b.height!==Ye.height||yt<E||ct>D)){ct>E&&(Ye.width+=ct-E,Ye.x=E),yt<D&&(Ye.width=D-ct),d.splice(h,1);break}}else{ht>L&&(Ye.height+=ht-L,Ye.y=L),Tt<K&&(Ye.height=K-ht),d.splice(h,1);break}}}return d},ln.findHostInstance=Qd,ln.findHostInstanceWithNoPortals=function(d){return d=l(d),d=d!==null?f(d):null,d===null?null:Lf(d.stateNode)},ln.findHostInstanceWithWarning=function(d){return Qd(d)},ln.flushPassiveEffects=Fo,ln.flushSyncFromReconciler=function(d){var h=vn;vn|=1;var b=Gt.T,E=Os();try{if(xn(2),Gt.T=null,d)return d()}finally{xn(E),Gt.T=b,vn=h,(vn&6)===0&&Je(0)}},ln.flushSyncWork=Xp,ln.focusWithin=function(d,h){if(!ar)throw Error(r(363));for(d=lu(d),h=Tf(d,h),h=Array.from(h),d=0;d<h.length;){var b=h[d++],E=b.tag;if(!gu(b)){if((E===5||E===26||E===27)&&wl(b.stateNode))return!0;for(b=b.child;b!==null;)h.push(b),b=b.sibling}}return!1},ln.getFindAllNodesFailureDescription=function(d,h){if(!ar)throw Error(r(363));var b=0,E=[];d=[lu(d),0];for(var D=0;D<d.length;){var L=d[D++],K=L.tag,ve=d[D++],Ye=h[ve];if((K!==5&&K!==26&&K!==27||!gu(L))&&(uu(L,Ye)&&(E.push(Af(Ye)),ve++,ve>b&&(b=ve)),ve<h.length))for(L=L.child;L!==null;)d.push(L,ve),L=L.sibling}if(b<h.length){for(d=[];b<h.length;b++)d.push(Af(h[b]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},ln.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 27:case 5:return Lf(d.child.stateNode);default:return d.child.stateNode}},ln.injectIntoDevTools=function(){var d={bundleType:0,version:T0,rendererPackageName:nh,currentDispatcherRef:Gt,reconcilerVersion:"19.2.0"};if(Nf!==null&&(d.rendererConfig=Nf),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{Ec=h.inject(d),Da=h}catch{}d=!!h.checkDCE}}return d},ln.isAlreadyRendering=function(){return(vn&6)!==0},ln.observeVisibleRects=function(d,h,b,E){if(!ar)throw Error(r(363));d=Aa(d,h);var D=om(d,b,E).disconnect;return{disconnect:function(){D()}}},ln.shouldError=function(){return null},ln.shouldSuspend=function(){return!1},ln.startHostTransition=function(d,h,b,E){if(d.tag!==5)throw Error(r(476));var D=sc(d).queue;ac(d,D,h,bc,b===null?i:function(){var L=sc(d);return L.next===null&&(L=d.alternate.memoizedState),iu(d,L.next.queue,{},pi()),b(E)})},ln.updateContainer=function(d,h,b,E){var D=h.current,L=pi();return E0(D,L,d,h,b,E),L},ln.updateContainerSync=function(d,h,b,E){return E0(h.current,2,d,h,b,E),2},ln},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(p2)),p2.exports}var g2;function d0e(){return g2||(g2=1,h2.exports=f0e()),h2.exports}var h0e=d0e();const p0e=c0e(h0e);function m0e(t){const e=p0e(t);return e.injectIntoDevTools(),e}const Pj=0,kg={},g0e=/^three(?=[A-Z])/,hE=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let v0e=0;const y0e=t=>typeof t=="function";function x0e(t){if(y0e(t)){const e=`${v0e++}`;return kg[e]=t,e}else Object.assign(kg,t)}function Dj(t,e){const n=hE(t),i=kg[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function b0e(t,e,n){var i;return t=hE(t)in kg?t:t.replace(g0e,""),Dj(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,UM(e.object,n,t,e)}function _0e(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?zM(t.parent,t):Ws(t.object)&&(t.object.visible=!1),t.isHidden=!0,e0(t)}}function Oj(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?kM(t.parent,t):Ws(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,e0(t)}}function JD(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,a;const s=kg[hE(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(hd(e.object,e.props),e.props.attach)kM(t,e);else if(Ws(e.object)&&Ws(t.object)){const s=t.object.children.indexOf(n?.object);if(n&&s!==-1){const l=t.object.children.indexOf(e.object);if(l!==-1){t.object.children.splice(l,1);const u=l<s?s-1:s;t.object.children.splice(u,0,e.object)}else e.object.parent=t.object,t.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const s of e.children)JD(e,s);e0(e)}}function fC(t,e){e&&(e.parent=t,t.children.push(e),JD(t,e))}function v2(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),JD(t,e,n)}function Nj(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():W3.unstable_scheduleCallback(W3.unstable_IdlePriority,e)}}function q3(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?zM(t,e):Ws(e.object)&&Ws(t.object)&&(t.object.remove(e.object),n0e(Sj(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];q3(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&Nj(e.object),n===void 0&&e0(e)}function S0e(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const q_=[];function M0e(){for(const[n]of q_){const i=n.parent;if(i){n.props.attach?zM(i,n):Ws(n.object)&&Ws(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?zM(n,r):Ws(r.object)&&Ws(n.object)&&n.object.remove(r.object)}n.isHidden&&Oj(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&Nj(n.object)}for(const[n,i,r]of q_){n.props=i;const a=n.parent;if(a){var t,e;const s=kg[hE(n.type)];n.object=(t=n.props.object)!=null?t:new s(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,S0e(r,n.object),hd(n.object,n.props),n.props.attach?kM(a,n):Ws(n.object)&&Ws(a.object)&&a.object.add(n.object);for(const l of n.children)l.props.attach?kM(n,l):Ws(l.object)&&Ws(n.object)&&n.object.add(l.object);e0(n)}}q_.length=0}const dC=()=>{},y2={};let T_=Pj;const w0e=0,E0e=4,Y3=m0e({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:b0e,removeChild:q3,appendChild:fC,appendInitialChild:fC,insertBefore:v2,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||fC(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||q3(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||v2(i,e,n)},getRootHostContext:()=>y2,getChildHostContext:()=>y2,commitUpdate(t,e,n,i,r){var a,s,l;Dj(e,i);let u=!1;if((t.type==="primitive"&&n.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=n.args)==null?void 0:s.length)||(l=i.args)!=null&&l.some((p,g)=>{var v;return p!==((v=n.args)==null?void 0:v[g])}))&&(u=!0),u)q_.push([t,{...i},r]);else{const p=Qge(t,i);Object.keys(p).length&&(Object.assign(t.props,p),hd(t.object,p))}(r.sibling===null||(r.flags&E0e)===w0e)&&M0e()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>UM(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:_0e,unhideInstance:Oj,createTextInstance:dC,hideTextInstance:dC,unhideTextInstance:dC,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:F.createContext(null),setCurrentUpdatePriority(t){T_=t},getCurrentUpdatePriority(){return T_},resolveUpdatePriority(){var t;if(T_!==Pj)return T_;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return l0e;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return s0e;default:return o0e}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:u0e.version,applyViewTransitionName(t,e,n){},restoreViewTransitionName(t,e){},cancelViewTransitionName(t,e,n){},cancelRootViewTransitionName(t){},restoreRootViewTransitionName(t){},InstanceMeasurement:null,measureInstance:t=>null,wasInstanceInViewport:t=>!0,hasInstanceChanged:(t,e)=>!1,hasInstanceAffectedParent:(t,e)=>!1,suspendOnActiveViewTransition(t,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(t){},createViewTransitionInstance:t=>null,getCurrentGestureOffset(t){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(t,e){return t},cloneMutableTextInstance(t){return t},cloneRootViewTransitionContainer(t){throw new Error("Not implemented.")},removeRootViewTransitionClone(t,e){throw new Error("Not implemented.")},createFragmentInstance:t=>null,updateFragmentInstanceFiber(t,e){},commitNewChildToFragmentInstance(t,e){},deleteChildFromFragmentInstance(t,e){},measureClonedInstance:t=>null,maySuspendCommitOnUpdate:(t,e,n)=>!1,maySuspendCommitInSyncRender:(t,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(t,e)=>null}),bp=new Map,rg={objects:"shallow",strict:!1};function A0e(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function T0e(t){const e=bp.get(t),n=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||r0e($3,b2),s=n||Y3.createContainer(a,a0e,null,!1,null,"",r,r,r,null);e||bp.set(t,{fiber:s,store:a});let l,u,f=!1,p=null;return{async configure(g={}){let v;p=new Promise(V=>v=V);let{gl:y,size:_,scene:w,events:S,onCreated:M,shadows:R=!1,linear:T=!1,flat:P=!1,legacy:O=!1,orthographic:N=!1,frameloop:k="always",dpr:z=[1,2],performance:I,raycaster:U,camera:W,onPointerMissed:H}=g,Y=a.getState(),J=Y.gl;if(!Y.gl){const V={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},ee=typeof y=="function"?await y(V):y;d2(ee)?J=ee:J=new yj({...V,...y}),Y.set({gl:J})}let ie=Y.raycaster;ie||Y.set({raycaster:ie=new uj});const{params:X,...te}=U||{};if(Xi.equ(te,ie,rg)||hd(ie,{...te}),Xi.equ(X,ie.params,rg)||hd(ie,{params:{...ie.params,...X}}),!Y.camera||Y.camera===u&&!Xi.equ(u,W,rg)){u=W;const V=W?.isCamera,ee=V?W:N?new Zc(0,0,0,0,.1,1e3):new fr(75,0,.1,1e3);V||(ee.position.z=5,W&&(hd(ee,W),ee.manual||("aspect"in W||"left"in W||"right"in W||"bottom"in W||"top"in W)&&(ee.manual=!0,ee.updateProjectionMatrix())),!Y.camera&&!(W!=null&&W.rotation)&&ee.lookAt(0,0,0)),Y.set({camera:ee}),ie.camera=ee}if(!Y.scene){let V;w!=null&&w.isScene?(V=w,UM(V,a,"",{})):(V=new AD,UM(V,a,"",{}),w&&hd(V,w)),Y.set({scene:V})}S&&!Y.events.handlers&&Y.set({events:S(a)});const de=A0e(t,_);if(Xi.equ(de,Y.size,rg)||Y.setSize(de.width,de.height,de.top,de.left),z&&Y.viewport.dpr!==Ej(z)&&Y.setDpr(z),Y.frameloop!==k&&Y.setFrameloop(k),Y.onPointerMissed||Y.set({onPointerMissed:H}),I&&!Xi.equ(I,Y.performance,rg)&&Y.set(V=>({performance:{...V.performance,...I}})),!Y.xr){var he;const V=(pe,ye)=>{const se=a.getState();se.frameloop!=="never"&&b2(pe,!0,se,ye)},ee=()=>{const pe=a.getState();pe.gl.xr.enabled=pe.gl.xr.isPresenting,pe.gl.xr.setAnimationLoop(pe.gl.xr.isPresenting?V:null),pe.gl.xr.isPresenting||$3(pe)},re={connect(){const pe=a.getState().gl;pe.xr.addEventListener("sessionstart",ee),pe.xr.addEventListener("sessionend",ee)},disconnect(){const pe=a.getState().gl;pe.xr.removeEventListener("sessionstart",ee),pe.xr.removeEventListener("sessionend",ee)}};typeof((he=J.xr)==null?void 0:he.addEventListener)=="function"&&re.connect(),Y.set({xr:re})}if(J.shadowMap){const V=J.shadowMap.enabled,ee=J.shadowMap.type;if(J.shadowMap.enabled=!!R,Xi.boo(R))J.shadowMap.type=ny;else if(Xi.str(R)){var le;const re={basic:DV,percentage:_g,soft:ny,variance:qh};J.shadowMap.type=(le=re[R])!=null?le:ny}else Xi.obj(R)&&Object.assign(J.shadowMap,R);(V!==J.shadowMap.enabled||ee!==J.shadowMap.type)&&(J.shadowMap.needsUpdate=!0)}return Dn.enabled=!O,f||(J.outputColorSpace=T?Ad:Fa,J.toneMapping=P?ol:Tw),Y.legacy!==O&&Y.set(()=>({legacy:O})),Y.linear!==T&&Y.set(()=>({linear:T})),Y.flat!==P&&Y.set(()=>({flat:P})),y&&!Xi.fun(y)&&!d2(y)&&!Xi.equ(y,J,rg)&&hd(J,y),l=M,f=!0,v(),this},render(g){return!f&&!p&&this.configure(),p.then(()=>{Y3.updateContainer(G.jsx(C0e,{store:a,children:g,onCreated:l,rootElement:t}),s,null,()=>{})}),a},unmount(){Lj(t)}}}function C0e({store:t,children:e,onCreated:n,rootElement:i}){return Fx(()=>{const r=t.getState();r.set(a=>({internal:{...a.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),G.jsx(Cj.Provider,{value:t,children:e})}function Lj(t,e){const n=bp.get(t),i=n?.fiber;if(i){const r=n?.store.getState();r&&(r.internal.active=!1),Y3.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,l,u;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),Kge(r.scene),bp.delete(t)}catch{}},500)})}}const R0e=new Set,P0e=new Set,D0e=new Set;function hC(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function fy(t,e){switch(t){case"before":return hC(R0e,e);case"after":return hC(P0e,e);case"tail":return hC(D0e,e)}}let pC,mC;function K3(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),pC=e.internal.subscribers;for(let r=0;r<pC.length;r++)mC=pC[r],mC.ref.current(mC.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let FM=!1,Z3=!1,gC,x2,ag;function Ij(t){x2=requestAnimationFrame(Ij),FM=!0,gC=0,fy("before",t),Z3=!0;for(const n of bp.values()){var e;ag=n.store.getState(),ag.internal.active&&(ag.frameloop==="always"||ag.internal.frames>0)&&!((e=ag.gl.xr)!=null&&e.isPresenting)&&(gC+=K3(t,ag))}if(Z3=!1,fy("after",t),gC===0)return fy("tail",t),FM=!1,cancelAnimationFrame(x2)}function $3(t,e=1){var n;if(!t)return bp.forEach(i=>$3(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):Z3?t.internal.frames=2:t.internal.frames=1,FM||(FM=!0,requestAnimationFrame(Ij)))}function b2(t,e=!0,n,i){if(e&&fy("before",t),n)K3(t,n,i);else for(const r of bp.values())K3(t,r.store.getState());e&&fy("after",t)}const vC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function O0e(t){const{handlePointer:e}=i0e(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(vC).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:n}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[l,u]=vC[a];n.addEventListener(l,s,{passive:u})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=vC[r];i.connected.removeEventListener(s,a)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function _2(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function N0e({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=t?typeof t=="number"?t:t.scroll:null,f=t?typeof t=="number"?t:t.resize:null,p=F.useRef(!1);F.useEffect(()=>(p.current=!0,()=>{p.current=!1}));const[g,v,y]=F.useMemo(()=>{const M=()=>{if(!l.current.element)return;const{left:R,top:T,width:P,height:O,bottom:N,right:k,x:z,y:I}=l.current.element.getBoundingClientRect(),U={left:R,top:T,width:P,height:O,bottom:N,right:k,x:z,y:I};l.current.element instanceof HTMLElement&&i&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),p.current&&!k0e(l.current.lastBounds,U)&&s(l.current.lastBounds=U)};return[M,f?_2(M,f):M,u?_2(M,u):M]},[s,i,u,f]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function w(){l.current.element&&(l.current.resizeObserver=new r(y),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(M=>M.addEventListener("scroll",y,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const S=M=>{!M||M===l.current.element||(_(),l.current.element=M,l.current.scrollContainers=Uj(M),w())};return I0e(y,!!e),L0e(v),F.useEffect(()=>{_(),w()},[e,y,v]),F.useEffect(()=>_,[]),[S,a,g]}function L0e(t){F.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t])}function I0e(t,e){F.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",n,!0)}}},[t,e])}function Uj(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...Uj(t.parentElement)]}const U0e=["x","y","top","bottom","left","right","width","height"],k0e=(t,e)=>U0e.every(n=>t[n]===e[n]);function z0e({ref:t,children:e,fallback:n,resize:i,style:r,gl:a,events:s=O0e,eventSource:l,eventPrefix:u,shadows:f,linear:p,flat:g,legacy:v,orthographic:y,frameloop:_,dpr:w,performance:S,raycaster:M,camera:R,scene:T,onPointerMissed:P,onCreated:O,...N}){F.useMemo(()=>x0e(Rge),[]);const k=Xge(),[z,I]=N0e({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=F.useRef(null),W=F.useRef(null);F.useImperativeHandle(t,()=>U.current);const H=wj(P),[Y,J]=F.useState(!1),[ie,X]=F.useState(!1);if(Y)throw Y;if(ie)throw ie;const te=F.useRef(null);Fx(()=>{const he=U.current;if(I.width>0&&I.height>0&&he){te.current||(te.current=T0e(he));async function le(){await te.current.configure({gl:a,scene:T,events:s,shadows:f,linear:p,flat:g,legacy:v,orthographic:y,frameloop:_,dpr:w,performance:S,raycaster:M,camera:R,size:I,onPointerMissed:(...V)=>H.current==null?void 0:H.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(l?Hge(l)?l.current:l:W.current),u&&V.setEvents({compute:(ee,re)=>{const pe=ee[u+"X"],ye=ee[u+"Y"];re.pointer.set(pe/re.size.width*2-1,-(ye/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),O?.(V)}}),te.current.render(G.jsx(k,{children:G.jsx(Yge,{set:X,children:G.jsx(F.Suspense,{fallback:G.jsx(qge,{set:J}),children:e??null})})}))}le()}}),F.useEffect(()=>{const he=U.current;if(he)return()=>Lj(he)},[]);const de=l?"none":"auto";return G.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:de,...r},...N,children:G.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:G.jsx("canvas",{ref:U,style:{display:"block"},children:n})})})}function F0e(t){return G.jsx(bj,{children:G.jsx(z0e,{...t})})}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_p.apply(null,arguments)}const kj=parseInt(Zg.replace(/\D+/g,"")),zj=kj>=125?"uv1":"uv2";var B0e=Object.defineProperty,V0e=(t,e,n)=>e in t?B0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j0e=(t,e,n)=>(V0e(t,e+"",n),n);class G0e{constructor(){j0e(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}var H0e=Object.defineProperty,W0e=(t,e,n)=>e in t?H0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qt=(t,e,n)=>(W0e(t,typeof e!="symbol"?e+"":e,n),n);const C_=new Cp,S2=new Vc,X0e=Math.cos(70*(Math.PI/180)),M2=(t,e)=>(t%e+e)%e;let q0e=class extends G0e{constructor(e,n){super(),qt(this,"object"),qt(this,"domElement"),qt(this,"enabled",!0),qt(this,"target",new ne),qt(this,"minDistance",0),qt(this,"maxDistance",1/0),qt(this,"minZoom",0),qt(this,"maxZoom",1/0),qt(this,"minPolarAngle",0),qt(this,"maxPolarAngle",Math.PI),qt(this,"minAzimuthAngle",-1/0),qt(this,"maxAzimuthAngle",1/0),qt(this,"enableDamping",!1),qt(this,"dampingFactor",.05),qt(this,"enableZoom",!0),qt(this,"zoomSpeed",1),qt(this,"enableRotate",!0),qt(this,"rotateSpeed",1),qt(this,"enablePan",!0),qt(this,"panSpeed",1),qt(this,"screenSpacePanning",!0),qt(this,"keyPanSpeed",7),qt(this,"zoomToCursor",!1),qt(this,"autoRotate",!1),qt(this,"autoRotateSpeed",2),qt(this,"reverseOrbit",!1),qt(this,"reverseHorizontalOrbit",!1),qt(this,"reverseVerticalOrbit",!1),qt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),qt(this,"mouseButtons",{LEFT:Fh.ROTATE,MIDDLE:Fh.DOLLY,RIGHT:Fh.PAN}),qt(this,"touches",{ONE:Bh.ROTATE,TWO:Bh.DOLLY_PAN}),qt(this,"target0"),qt(this,"position0"),qt(this,"zoom0"),qt(this,"_domElementKeyEvents",null),qt(this,"getPolarAngle"),qt(this,"getAzimuthalAngle"),qt(this,"setPolarAngle"),qt(this,"setAzimuthalAngle"),qt(this,"getDistance"),qt(this,"getZoomScale"),qt(this,"listenToKeyEvents"),qt(this,"stopListenToKeyEvents"),qt(this,"saveState"),qt(this,"reset"),qt(this,"update"),qt(this,"connect"),qt(this,"dispose"),qt(this,"dollyIn"),qt(this,"dollyOut"),qt(this,"getScale"),qt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=ae=>{let Ee=M2(ae,2*Math.PI),ft=p.phi;ft<0&&(ft+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ue=Math.abs(Ee-ft);2*Math.PI-ue<ue&&(Ee<ft?Ee+=2*Math.PI:ft+=2*Math.PI),g.phi=Ee-ft,i.update()},this.setAzimuthalAngle=ae=>{let Ee=M2(ae,2*Math.PI),ft=p.theta;ft<0&&(ft+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ue=Math.abs(Ee-ft);2*Math.PI-ue<ue&&(Ee<ft?Ee+=2*Math.PI:ft+=2*Math.PI),g.theta=Ee-ft,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",be),this._domElementKeyEvents=ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",be),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),u=l.NONE},this.update=(()=>{const ae=new ne,Ee=new ne(0,1,0),ft=new Ha().setFromUnitVectors(e.up,Ee),ue=ft.clone().invert(),He=new ne,Qe=new Ha,mt=2*Math.PI;return function(){const ze=i.object.position;ft.setFromUnitVectors(e.up,Ee),ue.copy(ft).invert(),ae.copy(ze).sub(i.target),ae.applyQuaternion(ft),p.setFromVector3(ae),i.autoRotate&&u===l.NONE&&J(H()),i.enableDamping?(p.theta+=g.theta*i.dampingFactor,p.phi+=g.phi*i.dampingFactor):(p.theta+=g.theta,p.phi+=g.phi);let st=i.minAzimuthAngle,bt=i.maxAzimuthAngle;isFinite(st)&&isFinite(bt)&&(st<-Math.PI?st+=mt:st>Math.PI&&(st-=mt),bt<-Math.PI?bt+=mt:bt>Math.PI&&(bt-=mt),st<=bt?p.theta=Math.max(st,Math.min(bt,p.theta)):p.theta=p.theta>(st+bt)/2?Math.max(st,p.theta):Math.min(bt,p.theta)),p.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,p.phi)),p.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(y,i.dampingFactor):i.target.add(y),i.zoomToCursor&&I||i.object.isOrthographicCamera?p.radius=re(p.radius):p.radius=re(p.radius*v),ae.setFromSpherical(p),ae.applyQuaternion(ue),ze.copy(i.target).add(ae),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,y.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),y.set(0,0,0));let xt=!1;if(i.zoomToCursor&&I){let Nt=null;if(i.object instanceof fr&&i.object.isPerspectiveCamera){const hn=ae.length();Nt=re(hn*v);const Sn=hn-Nt;i.object.position.addScaledVector(k,Sn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const hn=new ne(z.x,z.y,0);hn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),xt=!0;const Sn=new ne(z.x,z.y,0);Sn.unproject(i.object),i.object.position.sub(Sn).add(hn),i.object.updateMatrixWorld(),Nt=ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Nt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Nt).add(i.object.position):(C_.origin.copy(i.object.position),C_.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(C_.direction))<X0e?e.lookAt(i.target):(S2.setFromNormalAndCoplanarPoint(i.object.up,i.target),C_.intersectPlane(S2,i.target))))}else i.object instanceof Zc&&i.object.isOrthographicCamera&&(xt=v!==1,xt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,I=!1,xt||He.distanceToSquared(i.object.position)>f||8*(1-Qe.dot(i.object.quaternion))>f?(i.dispatchEvent(r),He.copy(i.object.position),Qe.copy(i.object.quaternion),xt=!1,!0):!1}})(),this.connect=ae=>{i.domElement=ae,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",pt),i.domElement.addEventListener("pointerdown",Ze),i.domElement.addEventListener("pointercancel",j),i.domElement.addEventListener("wheel",Re)},this.dispose=()=>{var ae,Ee,ft,ue,He,Qe;i.domElement&&(i.domElement.style.touchAction="auto"),(ae=i.domElement)==null||ae.removeEventListener("contextmenu",pt),(Ee=i.domElement)==null||Ee.removeEventListener("pointerdown",Ze),(ft=i.domElement)==null||ft.removeEventListener("pointercancel",j),(ue=i.domElement)==null||ue.removeEventListener("wheel",Re),(He=i.domElement)==null||He.ownerDocument.removeEventListener("pointermove",q),(Qe=i.domElement)==null||Qe.ownerDocument.removeEventListener("pointerup",j),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",be)};const i=this,r={type:"change"},a={type:"start"},s={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const f=1e-6,p=new IM,g=new IM;let v=1;const y=new ne,_=new rt,w=new rt,S=new rt,M=new rt,R=new rt,T=new rt,P=new rt,O=new rt,N=new rt,k=new ne,z=new rt;let I=!1;const U=[],W={};function H(){return 2*Math.PI/60/60*i.autoRotateSpeed}function Y(){return Math.pow(.95,i.zoomSpeed)}function J(ae){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=ae:g.theta-=ae}function ie(ae){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=ae:g.phi-=ae}const X=(()=>{const ae=new ne;return function(ft,ue){ae.setFromMatrixColumn(ue,0),ae.multiplyScalar(-ft),y.add(ae)}})(),te=(()=>{const ae=new ne;return function(ft,ue){i.screenSpacePanning===!0?ae.setFromMatrixColumn(ue,1):(ae.setFromMatrixColumn(ue,0),ae.crossVectors(i.object.up,ae)),ae.multiplyScalar(ft),y.add(ae)}})(),de=(()=>{const ae=new ne;return function(ft,ue){const He=i.domElement;if(He&&i.object instanceof fr&&i.object.isPerspectiveCamera){const Qe=i.object.position;ae.copy(Qe).sub(i.target);let mt=ae.length();mt*=Math.tan(i.object.fov/2*Math.PI/180),X(2*ft*mt/He.clientHeight,i.object.matrix),te(2*ue*mt/He.clientHeight,i.object.matrix)}else He&&i.object instanceof Zc&&i.object.isOrthographicCamera?(X(ft*(i.object.right-i.object.left)/i.object.zoom/He.clientWidth,i.object.matrix),te(ue*(i.object.top-i.object.bottom)/i.object.zoom/He.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function he(ae){i.object instanceof fr&&i.object.isPerspectiveCamera||i.object instanceof Zc&&i.object.isOrthographicCamera?v=ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function le(ae){he(v/ae)}function V(ae){he(v*ae)}function ee(ae){if(!i.zoomToCursor||!i.domElement)return;I=!0;const Ee=i.domElement.getBoundingClientRect(),ft=ae.clientX-Ee.left,ue=ae.clientY-Ee.top,He=Ee.width,Qe=Ee.height;z.x=ft/He*2-1,z.y=-(ue/Qe)*2+1,k.set(z.x,z.y,1).unproject(i.object).sub(i.object.position).normalize()}function re(ae){return Math.max(i.minDistance,Math.min(i.maxDistance,ae))}function pe(ae){_.set(ae.clientX,ae.clientY)}function ye(ae){ee(ae),P.set(ae.clientX,ae.clientY)}function se(ae){M.set(ae.clientX,ae.clientY)}function ce(ae){w.set(ae.clientX,ae.clientY),S.subVectors(w,_).multiplyScalar(i.rotateSpeed);const Ee=i.domElement;Ee&&(J(2*Math.PI*S.x/Ee.clientHeight),ie(2*Math.PI*S.y/Ee.clientHeight)),_.copy(w),i.update()}function Se(ae){O.set(ae.clientX,ae.clientY),N.subVectors(O,P),N.y>0?le(Y()):N.y<0&&V(Y()),P.copy(O),i.update()}function fe(ae){R.set(ae.clientX,ae.clientY),T.subVectors(R,M).multiplyScalar(i.panSpeed),de(T.x,T.y),M.copy(R),i.update()}function Oe(ae){ee(ae),ae.deltaY<0?V(Y()):ae.deltaY>0&&le(Y()),i.update()}function ke(ae){let Ee=!1;switch(ae.code){case i.keys.UP:de(0,i.keyPanSpeed),Ee=!0;break;case i.keys.BOTTOM:de(0,-i.keyPanSpeed),Ee=!0;break;case i.keys.LEFT:de(i.keyPanSpeed,0),Ee=!0;break;case i.keys.RIGHT:de(-i.keyPanSpeed,0),Ee=!0;break}Ee&&(ae.preventDefault(),i.update())}function me(){if(U.length==1)_.set(U[0].pageX,U[0].pageY);else{const ae=.5*(U[0].pageX+U[1].pageX),Ee=.5*(U[0].pageY+U[1].pageY);_.set(ae,Ee)}}function ut(){if(U.length==1)M.set(U[0].pageX,U[0].pageY);else{const ae=.5*(U[0].pageX+U[1].pageX),Ee=.5*(U[0].pageY+U[1].pageY);M.set(ae,Ee)}}function _e(){const ae=U[0].pageX-U[1].pageX,Ee=U[0].pageY-U[1].pageY,ft=Math.sqrt(ae*ae+Ee*Ee);P.set(0,ft)}function Ae(){i.enableZoom&&_e(),i.enablePan&&ut()}function Me(){i.enableZoom&&_e(),i.enableRotate&&me()}function Ge(ae){if(U.length==1)w.set(ae.pageX,ae.pageY);else{const ft=tt(ae),ue=.5*(ae.pageX+ft.x),He=.5*(ae.pageY+ft.y);w.set(ue,He)}S.subVectors(w,_).multiplyScalar(i.rotateSpeed);const Ee=i.domElement;Ee&&(J(2*Math.PI*S.x/Ee.clientHeight),ie(2*Math.PI*S.y/Ee.clientHeight)),_.copy(w)}function Z(ae){if(U.length==1)R.set(ae.pageX,ae.pageY);else{const Ee=tt(ae),ft=.5*(ae.pageX+Ee.x),ue=.5*(ae.pageY+Ee.y);R.set(ft,ue)}T.subVectors(R,M).multiplyScalar(i.panSpeed),de(T.x,T.y),M.copy(R)}function at(ae){const Ee=tt(ae),ft=ae.pageX-Ee.x,ue=ae.pageY-Ee.y,He=Math.sqrt(ft*ft+ue*ue);O.set(0,He),N.set(0,Math.pow(O.y/P.y,i.zoomSpeed)),le(N.y),P.copy(O)}function qe(ae){i.enableZoom&&at(ae),i.enablePan&&Z(ae)}function Ne(ae){i.enableZoom&&at(ae),i.enableRotate&&Ge(ae)}function Ze(ae){var Ee,ft;i.enabled!==!1&&(U.length===0&&((Ee=i.domElement)==null||Ee.ownerDocument.addEventListener("pointermove",q),(ft=i.domElement)==null||ft.ownerDocument.addEventListener("pointerup",j)),St(ae),ae.pointerType==="touch"?nt(ae):oe(ae))}function q(ae){i.enabled!==!1&&(ae.pointerType==="touch"?Je(ae):De(ae))}function j(ae){var Ee,ft,ue;Xe(ae),U.length===0&&((Ee=i.domElement)==null||Ee.releasePointerCapture(ae.pointerId),(ft=i.domElement)==null||ft.ownerDocument.removeEventListener("pointermove",q),(ue=i.domElement)==null||ue.ownerDocument.removeEventListener("pointerup",j)),i.dispatchEvent(s),u=l.NONE}function oe(ae){let Ee;switch(ae.button){case 0:Ee=i.mouseButtons.LEFT;break;case 1:Ee=i.mouseButtons.MIDDLE;break;case 2:Ee=i.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case Fh.DOLLY:if(i.enableZoom===!1)return;ye(ae),u=l.DOLLY;break;case Fh.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(i.enablePan===!1)return;se(ae),u=l.PAN}else{if(i.enableRotate===!1)return;pe(ae),u=l.ROTATE}break;case Fh.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(i.enableRotate===!1)return;pe(ae),u=l.ROTATE}else{if(i.enablePan===!1)return;se(ae),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(a)}function De(ae){if(i.enabled!==!1)switch(u){case l.ROTATE:if(i.enableRotate===!1)return;ce(ae);break;case l.DOLLY:if(i.enableZoom===!1)return;Se(ae);break;case l.PAN:if(i.enablePan===!1)return;fe(ae);break}}function Re(ae){i.enabled===!1||i.enableZoom===!1||u!==l.NONE&&u!==l.ROTATE||(ae.preventDefault(),i.dispatchEvent(a),Oe(ae),i.dispatchEvent(s))}function be(ae){i.enabled===!1||i.enablePan===!1||ke(ae)}function nt(ae){switch($e(ae),U.length){case 1:switch(i.touches.ONE){case Bh.ROTATE:if(i.enableRotate===!1)return;me(),u=l.TOUCH_ROTATE;break;case Bh.PAN:if(i.enablePan===!1)return;ut(),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(i.touches.TWO){case Bh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ae(),u=l.TOUCH_DOLLY_PAN;break;case Bh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Me(),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(a)}function Je(ae){switch($e(ae),u){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ge(ae),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;Z(ae),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;qe(ae),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ne(ae),i.update();break;default:u=l.NONE}}function pt(ae){i.enabled!==!1&&ae.preventDefault()}function St(ae){U.push(ae)}function Xe(ae){delete W[ae.pointerId];for(let Ee=0;Ee<U.length;Ee++)if(U[Ee].pointerId==ae.pointerId){U.splice(Ee,1);return}}function $e(ae){let Ee=W[ae.pointerId];Ee===void 0&&(Ee=new rt,W[ae.pointerId]=Ee),Ee.set(ae.pageX,ae.pageY)}function tt(ae){const Ee=ae.pointerId===U[0].pointerId?U[1]:U[0];return W[Ee.pointerId]}this.dollyIn=(ae=Y())=>{V(ae),i.update()},this.dollyOut=(ae=Y())=>{le(ae),i.update()},this.getScale=()=>v,this.setScale=ae=>{he(ae),i.update()},this.getZoomScale=()=>Y(),n!==void 0&&this.connect(n),this.update()}};const w2=new hr,R_=new ne;class eO extends cE{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new Ot(e,3)),this.setAttribute("uv",new Ot(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,i=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),i.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const i=new LM(n,6,1);return this.setAttribute("instanceStart",new vo(i,3,0)),this.setAttribute("instanceEnd",new vo(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,n=3){let i;e instanceof Float32Array?i=e:Array.isArray(e)&&(i=new Float32Array(e));const r=new LM(i,n*2,1);return this.setAttribute("instanceColorStart",new vo(r,n,0)),this.setAttribute("instanceColorEnd",new vo(r,n,n)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new UD(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hr);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),w2.setFromBufferAttribute(n),this.boundingBox.union(w2))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Tr),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)R_.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(R_)),R_.fromBufferAttribute(n,a),r=Math.max(r,i.distanceToSquared(R_));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class Fj extends eO{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,i=new Float32Array(2*n);for(let r=0;r<n;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setPositions(i),this}setColors(e,n=3){const i=e.length-n,r=new Float32Array(2*i);if(n===3)for(let a=0;a<i;a+=n)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5];else for(let a=0;a<i;a+=n)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5],r[2*a+6]=e[a+6],r[2*a+7]=e[a+7];return super.setColors(r,n),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class tO extends Qs{constructor(e){super({type:"LineMaterial",uniforms:Ky.clone(Ky.merge([wt.common,wt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new rt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${kj>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const yC=new Nn,E2=new ne,A2=new ne,ga=new Nn,va=new Nn,Iu=new Nn,xC=new ne,bC=new $t,ba=new cj,T2=new ne,P_=new hr,D_=new Tr,Uu=new Nn;let zu,rp;function C2(t,e,n){return Uu.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Uu.multiplyScalar(1/Uu.w),Uu.x=rp/n.width,Uu.y=rp/n.height,Uu.applyMatrix4(t.projectionMatrixInverse),Uu.multiplyScalar(1/Uu.w),Math.abs(Math.max(Uu.x,Uu.y))}function Y0e(t,e){const n=t.matrixWorld,i=t.geometry,r=i.attributes.instanceStart,a=i.attributes.instanceEnd,s=Math.min(i.instanceCount,r.count);for(let l=0,u=s;l<u;l++){ba.start.fromBufferAttribute(r,l),ba.end.fromBufferAttribute(a,l),ba.applyMatrix4(n);const f=new ne,p=new ne;zu.distanceSqToSegment(ba.start,ba.end,p,f),p.distanceTo(f)<rp*.5&&e.push({point:p,pointOnLine:f,distance:zu.origin.distanceTo(p),object:t,face:null,faceIndex:l,uv:null,[zj]:null})}}function K0e(t,e,n){const i=e.projectionMatrix,a=t.material.resolution,s=t.matrixWorld,l=t.geometry,u=l.attributes.instanceStart,f=l.attributes.instanceEnd,p=Math.min(l.instanceCount,u.count),g=-e.near;zu.at(1,Iu),Iu.w=1,Iu.applyMatrix4(e.matrixWorldInverse),Iu.applyMatrix4(i),Iu.multiplyScalar(1/Iu.w),Iu.x*=a.x/2,Iu.y*=a.y/2,Iu.z=0,xC.copy(Iu),bC.multiplyMatrices(e.matrixWorldInverse,s);for(let v=0,y=p;v<y;v++){if(ga.fromBufferAttribute(u,v),va.fromBufferAttribute(f,v),ga.w=1,va.w=1,ga.applyMatrix4(bC),va.applyMatrix4(bC),ga.z>g&&va.z>g)continue;if(ga.z>g){const T=ga.z-va.z,P=(ga.z-g)/T;ga.lerp(va,P)}else if(va.z>g){const T=va.z-ga.z,P=(va.z-g)/T;va.lerp(ga,P)}ga.applyMatrix4(i),va.applyMatrix4(i),ga.multiplyScalar(1/ga.w),va.multiplyScalar(1/va.w),ga.x*=a.x/2,ga.y*=a.y/2,va.x*=a.x/2,va.y*=a.y/2,ba.start.copy(ga),ba.start.z=0,ba.end.copy(va),ba.end.z=0;const w=ba.closestPointToPointParameter(xC,!0);ba.at(w,T2);const S=_D.lerp(ga.z,va.z,w),M=S>=-1&&S<=1,R=xC.distanceTo(T2)<rp*.5;if(M&&R){ba.start.fromBufferAttribute(u,v),ba.end.fromBufferAttribute(f,v),ba.start.applyMatrix4(s),ba.end.applyMatrix4(s);const T=new ne,P=new ne;zu.distanceSqToSegment(ba.start,ba.end,P,T),n.push({point:P,pointOnLine:T,distance:zu.origin.distanceTo(P),object:t,face:null,faceIndex:v,uv:null,[zj]:null})}}}class Bj extends ki{constructor(e=new eO,n=new tO({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*n.count);for(let s=0,l=0,u=n.count;s<u;s++,l+=2)E2.fromBufferAttribute(n,s),A2.fromBufferAttribute(i,s),r[l]=l===0?0:r[l-1],r[l+1]=r[l]+E2.distanceTo(A2);const a=new LM(r,2,1);return e.setAttribute("instanceDistanceStart",new vo(a,1,0)),e.setAttribute("instanceDistanceEnd",new vo(a,1,1)),this}raycast(e,n){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const a=e.params.Line2!==void 0&&e.params.Line2.threshold||0;zu=e.ray;const s=this.matrixWorld,l=this.geometry,u=this.material;rp=u.linewidth+a,l.boundingSphere===null&&l.computeBoundingSphere(),D_.copy(l.boundingSphere).applyMatrix4(s);let f;if(i)f=rp*.5;else{const g=Math.max(r.near,D_.distanceToPoint(zu.origin));f=C2(r,g,u.resolution)}if(D_.radius+=f,zu.intersectsSphere(D_)===!1)return;l.boundingBox===null&&l.computeBoundingBox(),P_.copy(l.boundingBox).applyMatrix4(s);let p;if(i)p=rp*.5;else{const g=Math.max(r.near,P_.distanceToPoint(zu.origin));p=C2(r,g,u.resolution)}P_.expandByScalar(p),zu.intersectsBox(P_)!==!1&&(i?Y0e(this,n):K0e(this,r,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(yC),this.material.uniforms.resolution.value.set(yC.z,yC.w))}}class Z0e extends Bj{constructor(e=new Fj,n=new tO({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const $0e=F.forwardRef(function({points:e,color:n=16777215,vertexColors:i,linewidth:r,lineWidth:a,segments:s,dashed:l,...u},f){var p,g;const v=fs(M=>M.size),y=F.useMemo(()=>s?new Bj:new Z0e,[s]),[_]=F.useState(()=>new tO),w=(i==null||(p=i[0])==null?void 0:p.length)===4?4:3,S=F.useMemo(()=>{const M=s?new eO:new Fj,R=e.map(T=>{const P=Array.isArray(T);return T instanceof ne||T instanceof Nn?[T.x,T.y,T.z]:T instanceof rt?[T.x,T.y,0]:P&&T.length===3?[T[0],T[1],T[2]]:P&&T.length===2?[T[0],T[1],0]:T});if(M.setPositions(R.flat()),i){n=16777215;const T=i.map(P=>P instanceof At?P.toArray():P);M.setColors(T.flat(),w)}return M},[e,s,i,w]);return F.useLayoutEffect(()=>{y.computeLineDistances()},[e,y]),F.useLayoutEffect(()=>{l?_.defines.USE_DASH="":delete _.defines.USE_DASH,_.needsUpdate=!0},[l,_]),F.useEffect(()=>()=>{S.dispose(),_.dispose()},[S]),F.createElement("primitive",_p({object:y,ref:f},u),F.createElement("primitive",{object:S,attach:"geometry"}),F.createElement("primitive",_p({object:_,attach:"material",color:n,vertexColors:!!i,resolution:[v.width,v.height],linewidth:(g=r??a)!==null&&g!==void 0?g:1,dashed:l,transparent:w===4},u)))});function Q0e(){var t=Object.create(null);function e(r,a){var s=r.id,l=r.name,u=r.dependencies;u===void 0&&(u=[]);var f=r.init;f===void 0&&(f=function(){});var p=r.getTransferables;if(p===void 0&&(p=null),!t[s])try{u=u.map(function(v){return v&&v.isWorkerModule&&(e(v,function(y){if(y instanceof Error)throw y}),v=t[v.id].value),v}),f=i("<"+l+">.init",f),p&&(p=i("<"+l+">.getTransferables",p));var g=null;typeof f=="function"?g=f.apply(void 0,u):console.error("worker module init function failed to rehydrate"),t[s]={id:s,value:g,getTransferables:p},a(g)}catch(v){v&&v.noLog||console.error(v),a(v)}}function n(r,a){var s,l=r.id,u=r.args;(!t[l]||typeof t[l].value!="function")&&a(new Error("Worker module "+l+": not found or its 'init' did not return a function"));try{var f=(s=t[l]).value.apply(s,u);f&&typeof f.then=="function"?f.then(p,function(g){return a(g instanceof Error?g:new Error(""+g))}):p(f)}catch(g){a(g)}function p(g){try{var v=t[l].getTransferables&&t[l].getTransferables(g);(!v||!Array.isArray(v)||!v.length)&&(v=void 0),a(g,v)}catch(y){console.error(y),a(y)}}}function i(r,a){var s=void 0;self.troikaDefine=function(u){return s=u};var l=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(l)}catch(u){console.error(u)}return URL.revokeObjectURL(l),delete self.troikaDefine,s}self.addEventListener("message",function(r){var a=r.data,s=a.messageId,l=a.action,u=a.data;try{l==="registerModule"&&e(u,function(f){f instanceof Error?postMessage({messageId:s,success:!1,error:f.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof f=="function"}})}),l==="callModule"&&n(u,function(f,p){f instanceof Error?postMessage({messageId:s,success:!1,error:f.message}):postMessage({messageId:s,success:!0,result:f},p||void 0)})}catch(f){postMessage({messageId:s,success:!1,error:f.stack})}})}function J0e(t){var e=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,i=t.init;n=Array.isArray(n)?n.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var r=Promise.all(n).then(function(a){return i.apply(null,a)});return e._getInitResult=function(){return r},r},e}var Vj=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return Vj=function(){return t},t},eve=0,tve=0,_C=!1,dy=Object.create(null),hy=Object.create(null),Q3=Object.create(null);function n0(t){if((!t||typeof t.init!="function")&&!_C)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,i=t.getTransferables,r=t.workerId,a=J0e(t);r==null&&(r="#default");var s="workerModule"+ ++eve,l=t.name||s,u=null;e=e&&e.map(function(p){return typeof p=="function"&&!p.workerModuleData&&(_C=!0,p=n0({workerId:r,name:"<"+l+"> function dependency: "+p.name,init:`function(){return (
`+Y_(p)+`
)}`}),_C=!1),p&&p.workerModuleData&&(p=p.workerModuleData),p});function f(){for(var p=[],g=arguments.length;g--;)p[g]=arguments[g];if(!Vj())return a.apply(void 0,p);if(!u){u=R2(r,"registerModule",f.workerModuleData);var v=function(){u=null,hy[r].delete(v)};(hy[r]||(hy[r]=new Set)).add(v)}return u.then(function(y){var _=y.isCallable;if(_)return R2(r,"callModule",{id:s,args:p});throw new Error("Worker module function was called but `init` did not return a callable function")})}return f.workerModuleData={isWorkerModule:!0,id:s,name:l,dependencies:e,init:Y_(n),getTransferables:i&&Y_(i)},f.onMainThread=a,f}function nve(t){hy[t]&&hy[t].forEach(function(e){e()}),dy[t]&&(dy[t].terminate(),delete dy[t])}function Y_(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function ive(t){var e=dy[t];if(!e){var n=Y_(Q0e);e=dy[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,a=r.messageId,s=Q3[a];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete Q3[a],s(r)}}return e}function R2(t,e,n){return new Promise(function(i,r){var a=++tve;Q3[a]=function(s){s.success?i(s.result):r(new Error("Error in worker "+e+" call: "+s.error))},ive(t).postMessage({messageId:a,action:e,data:n})})}function jj(){var t=(function(e){function n(he,le,V,ee,re,pe,ye,se){var ce=1-ye;se.x=ce*ce*he+2*ce*ye*V+ye*ye*re,se.y=ce*ce*le+2*ce*ye*ee+ye*ye*pe}function i(he,le,V,ee,re,pe,ye,se,ce,Se){var fe=1-ce;Se.x=fe*fe*fe*he+3*fe*fe*ce*V+3*fe*ce*ce*re+ce*ce*ce*ye,Se.y=fe*fe*fe*le+3*fe*fe*ce*ee+3*fe*ce*ce*pe+ce*ce*ce*se}function r(he,le){for(var V=/([MLQCZ])([^MLQCZ]*)/g,ee,re,pe,ye,se;ee=V.exec(he);){var ce=ee[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Se){return parseFloat(Se)});switch(ee[1]){case"M":ye=re=ce[0],se=pe=ce[1];break;case"L":(ce[0]!==ye||ce[1]!==se)&&le("L",ye,se,ye=ce[0],se=ce[1]);break;case"Q":{le("Q",ye,se,ye=ce[2],se=ce[3],ce[0],ce[1]);break}case"C":{le("C",ye,se,ye=ce[4],se=ce[5],ce[0],ce[1],ce[2],ce[3]);break}case"Z":(ye!==re||se!==pe)&&le("L",ye,se,re,pe);break}}}function a(he,le,V){V===void 0&&(V=16);var ee={x:0,y:0};r(he,function(re,pe,ye,se,ce,Se,fe,Oe,ke){switch(re){case"L":le(pe,ye,se,ce);break;case"Q":{for(var me=pe,ut=ye,_e=1;_e<V;_e++)n(pe,ye,Se,fe,se,ce,_e/(V-1),ee),le(me,ut,ee.x,ee.y),me=ee.x,ut=ee.y;break}case"C":{for(var Ae=pe,Me=ye,Ge=1;Ge<V;Ge++)i(pe,ye,Se,fe,Oe,ke,se,ce,Ge/(V-1),ee),le(Ae,Me,ee.x,ee.y),Ae=ee.x,Me=ee.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",l="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",u=new WeakMap,f={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function p(he,le){var V=he.getContext?he.getContext("webgl",f):he,ee=u.get(V);if(!ee){let fe=function(Ae){var Me=pe[Ae];if(!Me&&(Me=pe[Ae]=V.getExtension(Ae),!Me))throw new Error(Ae+" not supported");return Me},Oe=function(Ae,Me){var Ge=V.createShader(Me);return V.shaderSource(Ge,Ae),V.compileShader(Ge),Ge},ke=function(Ae,Me,Ge,Z){if(!ye[Ae]){var at={},qe={},Ne=V.createProgram();V.attachShader(Ne,Oe(Me,V.VERTEX_SHADER)),V.attachShader(Ne,Oe(Ge,V.FRAGMENT_SHADER)),V.linkProgram(Ne),ye[Ae]={program:Ne,transaction:function(q){V.useProgram(Ne),q({setUniform:function(oe,De){for(var Re=[],be=arguments.length-2;be-- >0;)Re[be]=arguments[be+2];var nt=qe[De]||(qe[De]=V.getUniformLocation(Ne,De));V["uniform"+oe].apply(V,[nt].concat(Re))},setAttribute:function(oe,De,Re,be,nt){var Je=at[oe];Je||(Je=at[oe]={buf:V.createBuffer(),loc:V.getAttribLocation(Ne,oe),data:null}),V.bindBuffer(V.ARRAY_BUFFER,Je.buf),V.vertexAttribPointer(Je.loc,De,V.FLOAT,!1,0,0),V.enableVertexAttribArray(Je.loc),re?V.vertexAttribDivisor(Je.loc,be):fe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Je.loc,be),nt!==Je.data&&(V.bufferData(V.ARRAY_BUFFER,nt,Re),Je.data=nt)}})}}}ye[Ae].transaction(Z)},me=function(Ae,Me){ce++;try{V.activeTexture(V.TEXTURE0+ce);var Ge=se[Ae];Ge||(Ge=se[Ae]=V.createTexture(),V.bindTexture(V.TEXTURE_2D,Ge),V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,V.NEAREST),V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,V.NEAREST)),V.bindTexture(V.TEXTURE_2D,Ge),Me(Ge,ce)}finally{ce--}},ut=function(Ae,Me,Ge){var Z=V.createFramebuffer();Se.push(Z),V.bindFramebuffer(V.FRAMEBUFFER,Z),V.activeTexture(V.TEXTURE0+Me),V.bindTexture(V.TEXTURE_2D,Ae),V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Ae,0);try{Ge(Z)}finally{V.deleteFramebuffer(Z),V.bindFramebuffer(V.FRAMEBUFFER,Se[--Se.length-1]||null)}},_e=function(){pe={},ye={},se={},ce=-1,Se.length=0};var re=typeof WebGL2RenderingContext<"u"&&V instanceof WebGL2RenderingContext,pe={},ye={},se={},ce=-1,Se=[];V.canvas.addEventListener("webglcontextlost",function(Ae){_e(),Ae.preventDefault()},!1),u.set(V,ee={gl:V,isWebGL2:re,getExtension:fe,withProgram:ke,withTexture:me,withTextureFramebuffer:ut,handleContextLoss:_e})}le(ee)}function g(he,le,V,ee,re,pe,ye,se){ye===void 0&&(ye=15),se===void 0&&(se=null),p(he,function(ce){var Se=ce.gl,fe=ce.withProgram,Oe=ce.withTexture;Oe("copy",function(ke,me){Se.texImage2D(Se.TEXTURE_2D,0,Se.RGBA,re,pe,0,Se.RGBA,Se.UNSIGNED_BYTE,le),fe("copy",s,l,function(ut){var _e=ut.setUniform,Ae=ut.setAttribute;Ae("aUV",2,Se.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),_e("1i","image",me),Se.bindFramebuffer(Se.FRAMEBUFFER,se||null),Se.disable(Se.BLEND),Se.colorMask(ye&8,ye&4,ye&2,ye&1),Se.viewport(V,ee,re,pe),Se.scissor(V,ee,re,pe),Se.drawArrays(Se.TRIANGLES,0,3)})})})}function v(he,le,V){var ee=he.width,re=he.height;p(he,function(pe){var ye=pe.gl,se=new Uint8Array(ee*re*4);ye.readPixels(0,0,ee,re,ye.RGBA,ye.UNSIGNED_BYTE,se),he.width=le,he.height=V,g(ye,se,0,0,ee,re)})}var y=Object.freeze({__proto__:null,withWebGLContext:p,renderImageData:g,resizeWebGLCanvasWithoutClearing:v});function _(he,le,V,ee,re,pe){pe===void 0&&(pe=1);var ye=new Uint8Array(he*le),se=ee[2]-ee[0],ce=ee[3]-ee[1],Se=[];a(V,function(Ae,Me,Ge,Z){Se.push({x1:Ae,y1:Me,x2:Ge,y2:Z,minX:Math.min(Ae,Ge),minY:Math.min(Me,Z),maxX:Math.max(Ae,Ge),maxY:Math.max(Me,Z)})}),Se.sort(function(Ae,Me){return Ae.maxX-Me.maxX});for(var fe=0;fe<he;fe++)for(var Oe=0;Oe<le;Oe++){var ke=ut(ee[0]+se*(fe+.5)/he,ee[1]+ce*(Oe+.5)/le),me=Math.pow(1-Math.abs(ke)/re,pe)/2;ke<0&&(me=1-me),me=Math.max(0,Math.min(255,Math.round(me*255))),ye[Oe*he+fe]=me}return ye;function ut(Ae,Me){for(var Ge=1/0,Z=1/0,at=Se.length;at--;){var qe=Se[at];if(qe.maxX+Z<=Ae)break;if(Ae+Z>qe.minX&&Me-Z<qe.maxY&&Me+Z>qe.minY){var Ne=M(Ae,Me,qe.x1,qe.y1,qe.x2,qe.y2);Ne<Ge&&(Ge=Ne,Z=Math.sqrt(Ge))}}return _e(Ae,Me)&&(Z=-Z),Z}function _e(Ae,Me){for(var Ge=0,Z=Se.length;Z--;){var at=Se[Z];if(at.maxX<=Ae)break;var qe=at.y1>Me!=at.y2>Me&&Ae<(at.x2-at.x1)*(Me-at.y1)/(at.y2-at.y1)+at.x1;qe&&(Ge+=at.y1<at.y2?1:-1)}return Ge!==0}}function w(he,le,V,ee,re,pe,ye,se,ce,Se){pe===void 0&&(pe=1),se===void 0&&(se=0),ce===void 0&&(ce=0),Se===void 0&&(Se=0),S(he,le,V,ee,re,pe,ye,null,se,ce,Se)}function S(he,le,V,ee,re,pe,ye,se,ce,Se,fe){pe===void 0&&(pe=1),ce===void 0&&(ce=0),Se===void 0&&(Se=0),fe===void 0&&(fe=0);for(var Oe=_(he,le,V,ee,re,pe),ke=new Uint8Array(Oe.length*4),me=0;me<Oe.length;me++)ke[me*4+fe]=Oe[me];g(ye,ke,ce,Se,he,le,1<<3-fe,se)}function M(he,le,V,ee,re,pe){var ye=re-V,se=pe-ee,ce=ye*ye+se*se,Se=ce?Math.max(0,Math.min(1,((he-V)*ye+(le-ee)*se)/ce)):0,fe=he-(V+Se*ye),Oe=le-(ee+Se*se);return fe*fe+Oe*Oe}var R=Object.freeze({__proto__:null,generate:_,generateIntoCanvas:w,generateIntoFramebuffer:S}),T="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",P="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",O="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",N=new Float32Array([0,0,2,0,0,2]),k=null,z=!1,I={},U=new WeakMap;function W(he){if(!z&&!ie(he))throw new Error("WebGL generation not supported")}function H(he,le,V,ee,re,pe,ye){if(pe===void 0&&(pe=1),ye===void 0&&(ye=null),!ye&&(ye=k,!ye)){var se=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!se)throw new Error("OffscreenCanvas or DOM canvas not supported");ye=k=se.getContext("webgl",{depth:!1})}W(ye);var ce=new Uint8Array(he*le*4);p(ye,function(ke){var me=ke.gl,ut=ke.withTexture,_e=ke.withTextureFramebuffer;ut("readable",function(Ae,Me){me.texImage2D(me.TEXTURE_2D,0,me.RGBA,he,le,0,me.RGBA,me.UNSIGNED_BYTE,null),_e(Ae,Me,function(Ge){J(he,le,V,ee,re,pe,me,Ge,0,0,0),me.readPixels(0,0,he,le,me.RGBA,me.UNSIGNED_BYTE,ce)})})});for(var Se=new Uint8Array(he*le),fe=0,Oe=0;fe<ce.length;fe+=4)Se[Oe++]=ce[fe];return Se}function Y(he,le,V,ee,re,pe,ye,se,ce,Se){pe===void 0&&(pe=1),se===void 0&&(se=0),ce===void 0&&(ce=0),Se===void 0&&(Se=0),J(he,le,V,ee,re,pe,ye,null,se,ce,Se)}function J(he,le,V,ee,re,pe,ye,se,ce,Se,fe){pe===void 0&&(pe=1),ce===void 0&&(ce=0),Se===void 0&&(Se=0),fe===void 0&&(fe=0),W(ye);var Oe=[];a(V,function(ke,me,ut,_e){Oe.push(ke,me,ut,_e)}),Oe=new Float32Array(Oe),p(ye,function(ke){var me=ke.gl,ut=ke.isWebGL2,_e=ke.getExtension,Ae=ke.withProgram,Me=ke.withTexture,Ge=ke.withTextureFramebuffer,Z=ke.handleContextLoss;if(Me("rawDistances",function(at,qe){(he!==at._lastWidth||le!==at._lastHeight)&&me.texImage2D(me.TEXTURE_2D,0,me.RGBA,at._lastWidth=he,at._lastHeight=le,0,me.RGBA,me.UNSIGNED_BYTE,null),Ae("main",T,P,function(Ne){var Ze=Ne.setAttribute,q=Ne.setUniform,j=!ut&&_e("ANGLE_instanced_arrays"),oe=!ut&&_e("EXT_blend_minmax");Ze("aUV",2,me.STATIC_DRAW,0,N),Ze("aLineSegment",4,me.DYNAMIC_DRAW,1,Oe),q.apply(void 0,["4f","uGlyphBounds"].concat(ee)),q("1f","uMaxDistance",re),q("1f","uExponent",pe),Ge(at,qe,function(De){me.enable(me.BLEND),me.colorMask(!0,!0,!0,!0),me.viewport(0,0,he,le),me.scissor(0,0,he,le),me.blendFunc(me.ONE,me.ONE),me.blendEquationSeparate(me.FUNC_ADD,ut?me.MAX:oe.MAX_EXT),me.clear(me.COLOR_BUFFER_BIT),ut?me.drawArraysInstanced(me.TRIANGLES,0,3,Oe.length/4):j.drawArraysInstancedANGLE(me.TRIANGLES,0,3,Oe.length/4)})}),Ae("post",s,O,function(Ne){Ne.setAttribute("aUV",2,me.STATIC_DRAW,0,N),Ne.setUniform("1i","tex",qe),me.bindFramebuffer(me.FRAMEBUFFER,se),me.disable(me.BLEND),me.colorMask(fe===0,fe===1,fe===2,fe===3),me.viewport(ce,Se,he,le),me.scissor(ce,Se,he,le),me.drawArrays(me.TRIANGLES,0,3)})}),me.isContextLost())throw Z(),new Error("webgl context lost")})}function ie(he){var le=!he||he===k?I:he.canvas||he,V=U.get(le);if(V===void 0){z=!0;var ee=null;try{var re=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],pe=H(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,he);V=pe&&re.length===pe.length&&pe.every(function(ye,se){return ye===re[se]}),V||(ee="bad trial run results",console.info(re,pe))}catch(ye){V=!1,ee=ye.message}ee&&console.warn("WebGL SDF generation not supported:",ee),z=!1,U.set(le,V)}return V}var X=Object.freeze({__proto__:null,generate:H,generateIntoCanvas:Y,generateIntoFramebuffer:J,isSupported:ie});function te(he,le,V,ee,re,pe){re===void 0&&(re=Math.max(ee[2]-ee[0],ee[3]-ee[1])/2),pe===void 0&&(pe=1);try{return H.apply(X,arguments)}catch(ye){return console.info("WebGL SDF generation failed, falling back to JS",ye),_.apply(R,arguments)}}function de(he,le,V,ee,re,pe,ye,se,ce,Se){re===void 0&&(re=Math.max(ee[2]-ee[0],ee[3]-ee[1])/2),pe===void 0&&(pe=1),se===void 0&&(se=0),ce===void 0&&(ce=0),Se===void 0&&(Se=0);try{return Y.apply(X,arguments)}catch(fe){return console.info("WebGL SDF generation failed, falling back to JS",fe),w.apply(R,arguments)}}return e.forEachPathCommand=r,e.generate=te,e.generateIntoCanvas=de,e.javascript=R,e.pathToLineSegments=a,e.webgl=X,e.webglUtils=y,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return t}function rve(){var t=(function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(n).forEach(function(Z,at){i[Z]=1<<at+1,r[i[Z]]=Z}),Object.freeze(i);var a=i.LRI|i.RLI|i.FSI,s=i.L|i.R|i.AL,l=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,u=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,f=i.S|i.WS|i.B|a|i.PDI|u,p=null;function g(){if(!p){p=new Map;var Z=function(qe){if(n.hasOwnProperty(qe)){var Ne=0;n[qe].split(",").forEach(function(Ze){var q=Ze.split("+"),j=q[0],oe=q[1];j=parseInt(j,36),oe=oe?parseInt(oe,36):0,p.set(Ne+=j,i[qe]);for(var De=0;De<oe;De++)p.set(++Ne,i[qe])})}};for(var at in n)Z(at)}}function v(Z){return g(),p.get(Z.codePointAt(0))||i.L}function y(Z){return r[v(Z)]}var _={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function w(Z,at){var qe=36,Ne=0,Ze=new Map,q=at&&new Map,j;return Z.split(",").forEach(function oe(De){if(De.indexOf("+")!==-1)for(var Re=+De;Re--;)oe(j);else{j=De;var be=De.split(">"),nt=be[0],Je=be[1];nt=String.fromCodePoint(Ne+=parseInt(nt,qe)),Je=String.fromCodePoint(Ne+=parseInt(Je,qe)),Ze.set(nt,Je),at&&q.set(Je,nt)}}),{map:Ze,reverseMap:q}}var S,M,R;function T(){if(!S){var Z=w(_.pairs,!0),at=Z.map,qe=Z.reverseMap;S=at,M=qe,R=w(_.canonical,!1).map}}function P(Z){return T(),S.get(Z)||null}function O(Z){return T(),M.get(Z)||null}function N(Z){return T(),R.get(Z)||null}var k=i.L,z=i.R,I=i.EN,U=i.ES,W=i.ET,H=i.AN,Y=i.CS,J=i.B,ie=i.S,X=i.ON,te=i.BN,de=i.NSM,he=i.AL,le=i.LRO,V=i.RLO,ee=i.LRE,re=i.RLE,pe=i.PDF,ye=i.LRI,se=i.RLI,ce=i.FSI,Se=i.PDI;function fe(Z,at){for(var qe=125,Ne=new Uint32Array(Z.length),Ze=0;Ze<Z.length;Ze++)Ne[Ze]=v(Z[Ze]);var q=new Map;function j(Rr,Ja){var qr=Ne[Rr];Ne[Rr]=Ja,q.set(qr,q.get(qr)-1),qr&l&&q.set(l,q.get(l)-1),q.set(Ja,(q.get(Ja)||0)+1),Ja&l&&q.set(l,(q.get(l)||0)+1)}for(var oe=new Uint8Array(Z.length),De=new Map,Re=[],be=null,nt=0;nt<Z.length;nt++)be||Re.push(be={start:nt,end:Z.length-1,level:at==="rtl"?1:at==="ltr"?0:gf(nt,!1)}),Ne[nt]&J&&(be.end=nt,be=null);for(var Je=re|ee|V|le|a|Se|pe|J,pt=function(Rr){return Rr+(Rr&1?1:2)},St=function(Rr){return Rr+(Rr&1?2:1)},Xe=0;Xe<Re.length;Xe++){be=Re[Xe];var $e=[{_level:be.level,_override:0,_isolate:0}],tt=void 0,ae=0,Ee=0,ft=0;q.clear();for(var ue=be.start;ue<=be.end;ue++){var He=Ne[ue];if(tt=$e[$e.length-1],q.set(He,(q.get(He)||0)+1),He&l&&q.set(l,(q.get(l)||0)+1),He&Je)if(He&(re|ee)){oe[ue]=tt._level;var Qe=(He===re?St:pt)(tt._level);Qe<=qe&&!ae&&!Ee?$e.push({_level:Qe,_override:0,_isolate:0}):ae||Ee++}else if(He&(V|le)){oe[ue]=tt._level;var mt=(He===V?St:pt)(tt._level);mt<=qe&&!ae&&!Ee?$e.push({_level:mt,_override:He&V?z:k,_isolate:0}):ae||Ee++}else if(He&a){He&ce&&(He=gf(ue+1,!0)===1?se:ye),oe[ue]=tt._level,tt._override&&j(ue,tt._override);var et=(He===se?St:pt)(tt._level);et<=qe&&ae===0&&Ee===0?(ft++,$e.push({_level:et,_override:0,_isolate:1,_isolInitIndex:ue})):ae++}else if(He&Se){if(ae>0)ae--;else if(ft>0){for(Ee=0;!$e[$e.length-1]._isolate;)$e.pop();var ze=$e[$e.length-1]._isolInitIndex;ze!=null&&(De.set(ze,ue),De.set(ue,ze)),$e.pop(),ft--}tt=$e[$e.length-1],oe[ue]=tt._level,tt._override&&j(ue,tt._override)}else He&pe?(ae===0&&(Ee>0?Ee--:!tt._isolate&&$e.length>1&&($e.pop(),tt=$e[$e.length-1])),oe[ue]=tt._level):He&J&&(oe[ue]=be.level);else oe[ue]=tt._level,tt._override&&He!==te&&j(ue,tt._override)}for(var st=[],bt=null,xt=be.start;xt<=be.end;xt++){var Nt=Ne[xt];if(!(Nt&u)){var hn=oe[xt],Sn=Nt&a,Yn=Nt===Se;bt&&hn===bt._level?(bt._end=xt,bt._endsWithIsolInit=Sn):st.push(bt={_start:xt,_end:xt,_level:hn,_startsWithPDI:Yn,_endsWithIsolInit:Sn})}}for(var Zi=[],jr=0;jr<st.length;jr++){var pr=st[jr];if(!pr._startsWithPDI||pr._startsWithPDI&&!De.has(pr._start)){for(var mr=[bt=pr],ra=void 0;bt&&bt._endsWithIsolInit&&(ra=De.get(bt._end))!=null;)for(var ei=jr+1;ei<st.length;ei++)if(st[ei]._start===ra){mr.push(bt=st[ei]);break}for(var Hn=[],In=0;In<mr.length;In++)for(var Ri=mr[In],Cr=Ri._start;Cr<=Ri._end;Cr++)Hn.push(Cr);for(var aa=oe[Hn[0]],Gr=be.level,Ya=Hn[0]-1;Ya>=0;Ya--)if(!(Ne[Ya]&u)){Gr=oe[Ya];break}var to=Hn[Hn.length-1],Ka=oe[to],bs=be.level;if(!(Ne[to]&a)){for(var wa=to+1;wa<=be.end;wa++)if(!(Ne[wa]&u)){bs=oe[wa];break}}Zi.push({_seqIndices:Hn,_sosType:Math.max(Gr,aa)%2?z:k,_eosType:Math.max(bs,Ka)%2?z:k})}}for(var Za=0;Za<Zi.length;Za++){var _s=Zi[Za],Dt=_s._seqIndices,$=_s._sosType,we=_s._eosType,Ve=oe[Dt[0]]&1?z:k;if(q.get(de))for(var Le=0;Le<Dt.length;Le++){var Te=Dt[Le];if(Ne[Te]&de){for(var gt=$,Mt=Le-1;Mt>=0;Mt--)if(!(Ne[Dt[Mt]]&u)){gt=Ne[Dt[Mt]];break}j(Te,gt&(a|Se)?X:gt)}}if(q.get(I))for(var dt=0;dt<Dt.length;dt++){var Ct=Dt[dt];if(Ne[Ct]&I)for(var Rt=dt-1;Rt>=-1;Rt--){var Bt=Rt===-1?$:Ne[Dt[Rt]];if(Bt&s){Bt===he&&j(Ct,H);break}}}if(q.get(he))for(var Pt=0;Pt<Dt.length;Pt++){var jt=Dt[Pt];Ne[jt]&he&&j(jt,z)}if(q.get(U)||q.get(Y))for(var pn=1;pn<Dt.length-1;pn++){var Bn=Dt[pn];if(Ne[Bn]&(U|Y)){for(var An=0,Kt=0,_t=pn-1;_t>=0&&(An=Ne[Dt[_t]],!!(An&u));_t--);for(var gn=pn+1;gn<Dt.length&&(Kt=Ne[Dt[gn]],!!(Kt&u));gn++);An===Kt&&(Ne[Bn]===U?An===I:An&(I|H))&&j(Bn,An)}}if(q.get(I))for(var kt=0;kt<Dt.length;kt++){var Pi=Dt[kt];if(Ne[Pi]&I){for(var Hr=kt-1;Hr>=0&&Ne[Dt[Hr]]&(W|u);Hr--)j(Dt[Hr],I);for(kt++;kt<Dt.length&&Ne[Dt[kt]]&(W|u|I);kt++)Ne[Dt[kt]]!==I&&j(Dt[kt],I)}}if(q.get(W)||q.get(U)||q.get(Y))for(var Un=0;Un<Dt.length;Un++){var gr=Dt[Un];if(Ne[gr]&(W|U|Y)){j(gr,X);for(var Mn=Un-1;Mn>=0&&Ne[Dt[Mn]]&u;Mn--)j(Dt[Mn],X);for(var fi=Un+1;fi<Dt.length&&Ne[Dt[fi]]&u;fi++)j(Dt[fi],X)}}if(q.get(I))for(var di=0,zi=$;di<Dt.length;di++){var Fi=Dt[di],no=Ne[Fi];no&I?zi===k&&j(Fi,k):no&s&&(zi=no)}if(q.get(l)){var vr=z|I|H,Fd=vr|k,Zl=[];{for(var Ss=[],Wr=0;Wr<Dt.length;Wr++)if(Ne[Dt[Wr]]&l){var Mo=Z[Dt[Wr]],tc=void 0;if(P(Mo)!==null)if(Ss.length<63)Ss.push({char:Mo,seqIndex:Wr});else break;else if((tc=O(Mo))!==null)for(var $a=Ss.length-1;$a>=0;$a--){var Ms=Ss[$a].char;if(Ms===tc||Ms===O(N(Mo))||P(N(Ms))===Mo){Zl.push([Ss[$a].seqIndex,Wr]),Ss.length=$a;break}}}Zl.sort(function(Rr,Ja){return Rr[0]-Ja[0]})}for(var nc=0;nc<Zl.length;nc++){for(var ic=Zl[nc],$l=ic[0],wo=ic[1],Qa=!1,sa=0,Eo=$l+1;Eo<wo;Eo++){var Xr=Dt[Eo];if(Ne[Xr]&Fd){Qa=!0;var rc=Ne[Xr]&vr?z:k;if(rc===Ve){sa=rc;break}}}if(Qa&&!sa){sa=$;for(var io=$l-1;io>=0;io--){var Ql=Dt[io];if(Ne[Ql]&Fd){var Jl=Ne[Ql]&vr?z:k;Jl!==Ve?sa=Jl:sa=Ve;break}}}if(sa){if(Ne[Dt[$l]]=Ne[Dt[wo]]=sa,sa!==Ve){for(var ws=$l+1;ws<Dt.length;ws++)if(!(Ne[Dt[ws]]&u)){v(Z[Dt[ws]])&de&&(Ne[Dt[ws]]=sa);break}}if(sa!==Ve){for(var eu=wo+1;eu<Dt.length;eu++)if(!(Ne[Dt[eu]]&u)){v(Z[Dt[eu]])&de&&(Ne[Dt[eu]]=sa);break}}}}for(var hi=0;hi<Dt.length;hi++)if(Ne[Dt[hi]]&l){for(var ro=hi,pl=hi,Ao=$,tu=hi-1;tu>=0;tu--)if(Ne[Dt[tu]]&u)ro=tu;else{Ao=Ne[Dt[tu]]&vr?z:k;break}for(var nu=we,To=hi+1;To<Dt.length;To++)if(Ne[Dt[To]]&(l|u))pl=To;else{nu=Ne[Dt[To]]&vr?z:k;break}for(var Co=ro;Co<=pl;Co++)Ne[Dt[Co]]=Ao===nu?Ao:Ve;hi=pl}}}for(var $i=be.start;$i<=be.end;$i++){var Bd=oe[$i],ac=Ne[$i];if(Bd&1?ac&(k|I|H)&&oe[$i]++:ac&z?oe[$i]++:ac&(H|I)&&(oe[$i]+=2),ac&u&&(oe[$i]=$i===0?be.level:oe[$i-1]),$i===be.end||v(Z[$i])&(ie|J))for(var sc=$i;sc>=0&&v(Z[sc])&f;sc--)oe[sc]=be.level}}return{levels:oe,paragraphs:Re};function gf(Rr,Ja){for(var qr=Rr;qr<Z.length;qr++){var ao=Ne[qr];if(ao&(z|he))return 1;if(ao&(J|k)||Ja&&ao===Se)return 0;if(ao&a){var iu=vf(qr);qr=iu===-1?Z.length:iu}}return 0}function vf(Rr){for(var Ja=1,qr=Rr+1;qr<Z.length;qr++){var ao=Ne[qr];if(ao&J)break;if(ao&Se){if(--Ja===0)return qr}else ao&a&&Ja++}return-1}}var Oe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ke;function me(){if(!ke){var Z=w(Oe,!0),at=Z.map,qe=Z.reverseMap;qe.forEach(function(Ne,Ze){at.set(Ze,Ne)}),ke=at}}function ut(Z){return me(),ke.get(Z)||null}function _e(Z,at,qe,Ne){var Ze=Z.length;qe=Math.max(0,qe==null?0:+qe),Ne=Math.min(Ze-1,Ne==null?Ze-1:+Ne);for(var q=new Map,j=qe;j<=Ne;j++)if(at[j]&1){var oe=ut(Z[j]);oe!==null&&q.set(j,oe)}return q}function Ae(Z,at,qe,Ne){var Ze=Z.length;qe=Math.max(0,qe==null?0:+qe),Ne=Math.min(Ze-1,Ne==null?Ze-1:+Ne);var q=[];return at.paragraphs.forEach(function(j){var oe=Math.max(qe,j.start),De=Math.min(Ne,j.end);if(oe<De){for(var Re=at.levels.slice(oe,De+1),be=De;be>=oe&&v(Z[be])&f;be--)Re[be]=j.level;for(var nt=j.level,Je=1/0,pt=0;pt<Re.length;pt++){var St=Re[pt];St>nt&&(nt=St),St<Je&&(Je=St|1)}for(var Xe=nt;Xe>=Je;Xe--)for(var $e=0;$e<Re.length;$e++)if(Re[$e]>=Xe){for(var tt=$e;$e+1<Re.length&&Re[$e+1]>=Xe;)$e++;$e>tt&&q.push([tt+oe,$e+oe])}}}),q}function Me(Z,at,qe,Ne){var Ze=Ge(Z,at,qe,Ne),q=[].concat(Z);return Ze.forEach(function(j,oe){q[oe]=(at.levels[j]&1?ut(Z[j]):null)||Z[j]}),q.join("")}function Ge(Z,at,qe,Ne){for(var Ze=Ae(Z,at,qe,Ne),q=[],j=0;j<Z.length;j++)q[j]=j;return Ze.forEach(function(oe){for(var De=oe[0],Re=oe[1],be=q.slice(De,Re+1),nt=be.length;nt--;)q[Re-nt]=be[nt]}),q}return e.closingToOpeningBracket=O,e.getBidiCharType=v,e.getBidiCharTypeName=y,e.getCanonicalBracket=N,e.getEmbeddingLevels=fe,e.getMirroredCharacter=ut,e.getMirroredCharactersMap=_e,e.getReorderSegments=Ae,e.getReorderedIndices=Ge,e.getReorderedString=Me,e.openingToClosingBracket=P,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return t}const Gj=/\bvoid\s+main\s*\(\s*\)\s*{/g;function J3(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(i,r){let a=fn[r];return a?J3(a):i}return t.replace(e,n)}const ya=[];for(let t=0;t<256;t++)ya[t]=(t<16?"0":"")+t.toString(16);function ave(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ya[t&255]+ya[t>>8&255]+ya[t>>16&255]+ya[t>>24&255]+"-"+ya[e&255]+ya[e>>8&255]+"-"+ya[e>>16&15|64]+ya[e>>24&255]+"-"+ya[n&63|128]+ya[n>>8&255]+"-"+ya[n>>16&255]+ya[n>>24&255]+ya[i&255]+ya[i>>8&255]+ya[i>>16&255]+ya[i>>24&255]).toUpperCase()}const Ih=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},sve=Date.now(),P2=new WeakMap,D2=new Map;let ove=1e10;function eR(t,e){const n=fve(e);let i=P2.get(t);if(i||P2.set(t,i=Object.create(null)),i[n])return new i[n];const r=`_onBeforeCompile${n}`,a=function(f,p){t.onBeforeCompile.call(this,f,p);const g=this.customProgramCacheKey()+"|"+f.vertexShader+"|"+f.fragmentShader;let v=D2[g];if(!v){const y=lve(this,f,e,n);v=D2[g]=y}f.vertexShader=v.vertexShader,f.fragmentShader=v.fragmentShader,Ih(f.uniforms,this.uniforms),e.timeUniform&&(f.uniforms[e.timeUniform]={get value(){return Date.now()-sve}}),this[r]&&this[r](f)},s=function(){return l(e.chained?t:t.clone())},l=function(f){const p=Object.create(f,u);return Object.defineProperty(p,"baseMaterial",{value:t}),Object.defineProperty(p,"id",{value:ove++}),p.uuid=ave(),p.uniforms=Ih({},f.uniforms,e.uniforms),p.defines=Ih({},f.defines,e.defines),p.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",p.extensions=Ih({},f.extensions,e.extensions),p._listeners=void 0,p},u={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:f=>{t.type=f}},isDerivedFrom:{writable:!0,configurable:!0,value:function(f){const p=this.baseMaterial;return f===p||p.isDerivedMaterial&&p.isDerivedFrom(f)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return a},set(f){this[r]=f}},copy:{writable:!0,configurable:!0,value:function(f){return t.copy.call(this,f),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Ih(this.extensions,f.extensions),Ih(this.defines,f.defines),Ih(this.uniforms,Ky.clone(f.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const f=new t.constructor;return l(f).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let f=this._depthMaterial;return f||(f=this._depthMaterial=eR(t.isDerivedMaterial?t.getDepthMaterial():new oE({depthPacking:i8}),e),f.defines.IS_DEPTH_MATERIAL="",f.uniforms=this.uniforms),f}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let f=this._distanceMaterial;return f||(f=this._distanceMaterial=eR(t.isDerivedMaterial?t.getDistanceMaterial():new lE,e),f.defines.IS_DISTANCE_MATERIAL="",f.uniforms=this.uniforms),f}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:f,_distanceMaterial:p}=this;f&&f.dispose(),p&&p.dispose(),t.dispose.call(this)}}};return i[n]=s,new s}function lve(t,{vertexShader:e,fragmentShader:n},i,r){let{vertexDefs:a,vertexMainIntro:s,vertexMainOutro:l,vertexTransform:u,fragmentDefs:f,fragmentMainIntro:p,fragmentMainOutro:g,fragmentColorTransform:v,customRewriter:y,timeUniform:_}=i;if(a=a||"",s=s||"",l=l||"",f=f||"",p=p||"",g=g||"",(u||y)&&(e=J3(e)),(v||y)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=J3(n)),y){let w=y({vertexShader:e,fragmentShader:n});e=w.vertexShader,n=w.fragmentShader}if(v){let w=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,S=>(w.push(S),"")),g=`${v}
${w.join(`
`)}
${g}`}if(_){const w=`
uniform float ${_};
`;a=w+a,f=w+f}return u&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,a=`${a}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,s=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(w,S,M,R)=>/\battribute\s+vec[23]\s+$/.test(R.substr(0,M))?S:`troika_${S}_${r}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=O2(e,r,a,s,l),n=O2(n,r,f,p,g),{vertexShader:e,fragmentShader:n}}function O2(t,e,n,i,r){return(i||r||n)&&(t=t.replace(Gj,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),t}function uve(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let cve=0;const N2=new Map;function fve(t){const e=JSON.stringify(t,uve);let n=N2.get(e);return n==null&&N2.set(e,n=++cve),n}function dve(){return typeof window>"u"&&(self.window=self),(function(t){var e={parse:function(r){var a=e._bin,s=new Uint8Array(r);if(a.readASCII(s,0,4)=="ttcf"){var l=4;a.readUshort(s,l),l+=2,a.readUshort(s,l),l+=2;var u=a.readUint(s,l);l+=4;for(var f=[],p=0;p<u;p++){var g=a.readUint(s,l);l+=4,f.push(e._readFont(s,g))}return f}return[e._readFont(s,0)]},_readFont:function(r,a){var s=e._bin,l=a;s.readFixed(r,a),a+=4;var u=s.readUshort(r,a);a+=2,s.readUshort(r,a),a+=2,s.readUshort(r,a),a+=2,s.readUshort(r,a),a+=2;for(var f=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],p={_data:r,_offset:l},g={},v=0;v<u;v++){var y=s.readASCII(r,a,4);a+=4,s.readUint(r,a),a+=4;var _=s.readUint(r,a);a+=4;var w=s.readUint(r,a);a+=4,g[y]={offset:_,length:w}}for(v=0;v<f.length;v++){var S=f[v];g[S]&&(p[S.trim()]=e[S.trim()].parse(r,g[S].offset,g[S].length,p))}return p},_tabOffset:function(r,a,s){for(var l=e._bin,u=l.readUshort(r,s+4),f=s+12,p=0;p<u;p++){var g=l.readASCII(r,f,4);f+=4,l.readUint(r,f),f+=4;var v=l.readUint(r,f);if(f+=4,l.readUint(r,f),f+=4,g==a)return v}return 0}};e._bin={readFixed:function(r,a){return(r[a]<<8|r[a+1])+(r[a+2]<<8|r[a+3])/65540},readF2dot14:function(r,a){return e._bin.readShort(r,a)/16384},readInt:function(r,a){return e._bin._view(r).getInt32(a)},readInt8:function(r,a){return e._bin._view(r).getInt8(a)},readShort:function(r,a){return e._bin._view(r).getInt16(a)},readUshort:function(r,a){return e._bin._view(r).getUint16(a)},readUshorts:function(r,a,s){for(var l=[],u=0;u<s;u++)l.push(e._bin.readUshort(r,a+2*u));return l},readUint:function(r,a){return e._bin._view(r).getUint32(a)},readUint64:function(r,a){return 4294967296*e._bin.readUint(r,a)+e._bin.readUint(r,a+4)},readASCII:function(r,a,s){for(var l="",u=0;u<s;u++)l+=String.fromCharCode(r[a+u]);return l},readUnicode:function(r,a,s){for(var l="",u=0;u<s;u++){var f=r[a++]<<8|r[a++];l+=String.fromCharCode(f)}return l},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,a,s){var l=e._bin._tdec;return l&&a==0&&s==r.length?l.decode(r):e._bin.readASCII(r,a,s)},readBytes:function(r,a,s){for(var l=[],u=0;u<s;u++)l.push(r[a+u]);return l},readASCIIArray:function(r,a,s){for(var l=[],u=0;u<s;u++)l.push(String.fromCharCode(r[a+u]));return l},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,a,s,l,u){var f=e._bin,p={},g=a;f.readFixed(r,a),a+=4;var v=f.readUshort(r,a);a+=2;var y=f.readUshort(r,a);a+=2;var _=f.readUshort(r,a);return a+=2,p.scriptList=e._lctf.readScriptList(r,g+v),p.featureList=e._lctf.readFeatureList(r,g+y),p.lookupList=e._lctf.readLookupList(r,g+_,u),p},e._lctf.readLookupList=function(r,a,s){var l=e._bin,u=a,f=[],p=l.readUshort(r,a);a+=2;for(var g=0;g<p;g++){var v=l.readUshort(r,a);a+=2;var y=e._lctf.readLookupTable(r,u+v,s);f.push(y)}return f},e._lctf.readLookupTable=function(r,a,s){var l=e._bin,u=a,f={tabs:[]};f.ltype=l.readUshort(r,a),a+=2,f.flag=l.readUshort(r,a),a+=2;var p=l.readUshort(r,a);a+=2;for(var g=f.ltype,v=0;v<p;v++){var y=l.readUshort(r,a);a+=2;var _=s(r,g,u+y,f);f.tabs.push(_)}return f},e._lctf.numOfOnes=function(r){for(var a=0,s=0;s<32;s++)(r>>>s&1)!=0&&a++;return a},e._lctf.readClassDef=function(r,a){var s=e._bin,l=[],u=s.readUshort(r,a);if(a+=2,u==1){var f=s.readUshort(r,a);a+=2;var p=s.readUshort(r,a);a+=2;for(var g=0;g<p;g++)l.push(f+g),l.push(f+g),l.push(s.readUshort(r,a)),a+=2}if(u==2){var v=s.readUshort(r,a);for(a+=2,g=0;g<v;g++)l.push(s.readUshort(r,a)),a+=2,l.push(s.readUshort(r,a)),a+=2,l.push(s.readUshort(r,a)),a+=2}return l},e._lctf.getInterval=function(r,a){for(var s=0;s<r.length;s+=3){var l=r[s],u=r[s+1];if(r[s+2],l<=a&&a<=u)return s}return-1},e._lctf.readCoverage=function(r,a){var s=e._bin,l={};l.fmt=s.readUshort(r,a),a+=2;var u=s.readUshort(r,a);return a+=2,l.fmt==1&&(l.tab=s.readUshorts(r,a,u)),l.fmt==2&&(l.tab=s.readUshorts(r,a,3*u)),l},e._lctf.coverageIndex=function(r,a){var s=r.tab;if(r.fmt==1)return s.indexOf(a);if(r.fmt==2){var l=e._lctf.getInterval(s,a);if(l!=-1)return s[l+2]+(a-s[l])}return-1},e._lctf.readFeatureList=function(r,a){var s=e._bin,l=a,u=[],f=s.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=s.readASCII(r,a,4);a+=4;var v=s.readUshort(r,a);a+=2;var y=e._lctf.readFeatureTable(r,l+v);y.tag=g.trim(),u.push(y)}return u},e._lctf.readFeatureTable=function(r,a){var s=e._bin,l=a,u={},f=s.readUshort(r,a);a+=2,f>0&&(u.featureParams=l+f);var p=s.readUshort(r,a);a+=2,u.tab=[];for(var g=0;g<p;g++)u.tab.push(s.readUshort(r,a+2*g));return u},e._lctf.readScriptList=function(r,a){var s=e._bin,l=a,u={},f=s.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=s.readASCII(r,a,4);a+=4;var v=s.readUshort(r,a);a+=2,u[g.trim()]=e._lctf.readScriptTable(r,l+v)}return u},e._lctf.readScriptTable=function(r,a){var s=e._bin,l=a,u={},f=s.readUshort(r,a);a+=2,f>0&&(u.default=e._lctf.readLangSysTable(r,l+f));var p=s.readUshort(r,a);a+=2;for(var g=0;g<p;g++){var v=s.readASCII(r,a,4);a+=4;var y=s.readUshort(r,a);a+=2,u[v.trim()]=e._lctf.readLangSysTable(r,l+y)}return u},e._lctf.readLangSysTable=function(r,a){var s=e._bin,l={};s.readUshort(r,a),a+=2,l.reqFeature=s.readUshort(r,a),a+=2;var u=s.readUshort(r,a);return a+=2,l.features=s.readUshorts(r,a,u),l},e.CFF={},e.CFF.parse=function(r,a,s){var l=e._bin;(r=new Uint8Array(r.buffer,a,s))[a=0],r[++a],r[++a],r[++a],a++;var u=[];a=e.CFF.readIndex(r,a,u);for(var f=[],p=0;p<u.length-1;p++)f.push(l.readASCII(r,a+u[p],u[p+1]-u[p]));a+=u[u.length-1];var g=[];a=e.CFF.readIndex(r,a,g);var v=[];for(p=0;p<g.length-1;p++)v.push(e.CFF.readDict(r,a+g[p],a+g[p+1]));a+=g[g.length-1];var y=v[0],_=[];a=e.CFF.readIndex(r,a,_);var w=[];for(p=0;p<_.length-1;p++)w.push(l.readASCII(r,a+_[p],_[p+1]-_[p]));if(a+=_[_.length-1],e.CFF.readSubrs(r,a,y),y.CharStrings){a=y.CharStrings,_=[],a=e.CFF.readIndex(r,a,_);var S=[];for(p=0;p<_.length-1;p++)S.push(l.readBytes(r,a+_[p],_[p+1]-_[p]));y.CharStrings=S}if(y.ROS){a=y.FDArray;var M=[];for(a=e.CFF.readIndex(r,a,M),y.FDArray=[],p=0;p<M.length-1;p++){var R=e.CFF.readDict(r,a+M[p],a+M[p+1]);e.CFF._readFDict(r,R,w),y.FDArray.push(R)}a+=M[M.length-1],a=y.FDSelect,y.FDSelect=[];var T=r[a];if(a++,T!=3)throw T;var P=l.readUshort(r,a);for(a+=2,p=0;p<P+1;p++)y.FDSelect.push(l.readUshort(r,a),r[a+2]),a+=3}return y.Encoding&&(y.Encoding=e.CFF.readEncoding(r,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=e.CFF.readCharset(r,y.charset,y.CharStrings.length)),e.CFF._readFDict(r,y,w),y},e.CFF._readFDict=function(r,a,s){var l;for(var u in a.Private&&(l=a.Private[1],a.Private=e.CFF.readDict(r,l,l+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(r,l+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(u)!=-1&&(a[u]=s[a[u]-426+35])},e.CFF.readSubrs=function(r,a,s){var l=e._bin,u=[];a=e.CFF.readIndex(r,a,u);var f,p=u.length;f=p<1240?107:p<33900?1131:32768,s.Bias=f,s.Subrs=[];for(var g=0;g<u.length-1;g++)s.Subrs.push(l.readBytes(r,a+u[g],u[g+1]-u[g]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,a){for(var s=0;s<r.charset.length;s++)if(r.charset[s]==a)return s;return-1},e.CFF.glyphBySE=function(r,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[a])},e.CFF.readEncoding=function(r,a,s){e._bin;var l=[".notdef"],u=r[a];if(a++,u!=0)throw"error: unknown encoding format: "+u;var f=r[a];a++;for(var p=0;p<f;p++)l.push(r[a+p]);return l},e.CFF.readCharset=function(r,a,s){var l=e._bin,u=[".notdef"],f=r[a];if(a++,f==0)for(var p=0;p<s;p++){var g=l.readUshort(r,a);a+=2,u.push(g)}else{if(f!=1&&f!=2)throw"error: format: "+f;for(;u.length<s;){g=l.readUshort(r,a),a+=2;var v=0;for(f==1?(v=r[a],a++):(v=l.readUshort(r,a),a+=2),p=0;p<=v;p++)u.push(g),g++}}return u},e.CFF.readIndex=function(r,a,s){var l=e._bin,u=l.readUshort(r,a)+1,f=r[a+=2];if(a++,f==1)for(var p=0;p<u;p++)s.push(r[a+p]);else if(f==2)for(p=0;p<u;p++)s.push(l.readUshort(r,a+2*p));else if(f==3)for(p=0;p<u;p++)s.push(16777215&l.readUint(r,a+3*p-1));else if(u!=1)throw"unsupported offset size: "+f+", count: "+u;return(a+=u*f)-1},e.CFF.getCharString=function(r,a,s){var l=e._bin,u=r[a],f=r[a+1];r[a+2],r[a+3],r[a+4];var p=1,g=null,v=null;u<=20&&(g=u,p=1),u==12&&(g=100*u+f,p=2),21<=u&&u<=27&&(g=u,p=1),u==28&&(v=l.readShort(r,a+1),p=3),29<=u&&u<=31&&(g=u,p=1),32<=u&&u<=246&&(v=u-139,p=1),247<=u&&u<=250&&(v=256*(u-247)+f+108,p=2),251<=u&&u<=254&&(v=256*-(u-251)-f-108,p=2),u==255&&(v=l.readInt(r,a+1)/65535,p=5),s.val=v??"o"+g,s.size=p},e.CFF.readCharString=function(r,a,s){for(var l=a+s,u=e._bin,f=[];a<l;){var p=r[a],g=r[a+1];r[a+2],r[a+3],r[a+4];var v=1,y=null,_=null;p<=20&&(y=p,v=1),p==12&&(y=100*p+g,v=2),p!=19&&p!=20||(y=p,v=2),21<=p&&p<=27&&(y=p,v=1),p==28&&(_=u.readShort(r,a+1),v=3),29<=p&&p<=31&&(y=p,v=1),32<=p&&p<=246&&(_=p-139,v=1),247<=p&&p<=250&&(_=256*(p-247)+g+108,v=2),251<=p&&p<=254&&(_=256*-(p-251)-g-108,v=2),p==255&&(_=u.readInt(r,a+1)/65535,v=5),f.push(_??"o"+y),a+=v}return f},e.CFF.readDict=function(r,a,s){for(var l=e._bin,u={},f=[];a<s;){var p=r[a],g=r[a+1];r[a+2],r[a+3],r[a+4];var v=1,y=null,_=null;if(p==28&&(_=l.readShort(r,a+1),v=3),p==29&&(_=l.readInt(r,a+1),v=5),32<=p&&p<=246&&(_=p-139,v=1),247<=p&&p<=250&&(_=256*(p-247)+g+108,v=2),251<=p&&p<=254&&(_=256*-(p-251)-g-108,v=2),p==255)throw _=l.readInt(r,a+1)/65535,v=5,"unknown number";if(p==30){var w=[];for(v=1;;){var S=r[a+v];v++;var M=S>>4,R=15&S;if(M!=15&&w.push(M),R!=15&&w.push(R),R==15)break}for(var T="",P=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],O=0;O<w.length;O++)T+=P[w[O]];_=parseFloat(T)}p<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][p],v=1,p==12&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][g],v=2)),y!=null?(u[y]=f.length==1?f[0]:f,f=[]):f.push(_),a+=v}return u},e.cmap={},e.cmap.parse=function(r,a,s){r=new Uint8Array(r.buffer,a,s),a=0;var l=e._bin,u={};l.readUshort(r,a),a+=2;var f=l.readUshort(r,a);a+=2;var p=[];u.tables=[];for(var g=0;g<f;g++){var v=l.readUshort(r,a);a+=2;var y=l.readUshort(r,a);a+=2;var _=l.readUint(r,a);a+=4;var w="p"+v+"e"+y,S=p.indexOf(_);if(S==-1){var M;S=u.tables.length,p.push(_);var R=l.readUshort(r,_);R==0?M=e.cmap.parse0(r,_):R==4?M=e.cmap.parse4(r,_):R==6?M=e.cmap.parse6(r,_):R==12?M=e.cmap.parse12(r,_):console.debug("unknown format: "+R,v,y,_),u.tables.push(M)}if(u[w]!=null)throw"multiple tables for one platform+encoding";u[w]=S}return u},e.cmap.parse0=function(r,a){var s=e._bin,l={};l.format=s.readUshort(r,a),a+=2;var u=s.readUshort(r,a);a+=2,s.readUshort(r,a),a+=2,l.map=[];for(var f=0;f<u-6;f++)l.map.push(r[a+f]);return l},e.cmap.parse4=function(r,a){var s=e._bin,l=a,u={};u.format=s.readUshort(r,a),a+=2;var f=s.readUshort(r,a);a+=2,s.readUshort(r,a),a+=2;var p=s.readUshort(r,a);a+=2;var g=p/2;u.searchRange=s.readUshort(r,a),a+=2,u.entrySelector=s.readUshort(r,a),a+=2,u.rangeShift=s.readUshort(r,a),a+=2,u.endCount=s.readUshorts(r,a,g),a+=2*g,a+=2,u.startCount=s.readUshorts(r,a,g),a+=2*g,u.idDelta=[];for(var v=0;v<g;v++)u.idDelta.push(s.readShort(r,a)),a+=2;for(u.idRangeOffset=s.readUshorts(r,a,g),a+=2*g,u.glyphIdArray=[];a<l+f;)u.glyphIdArray.push(s.readUshort(r,a)),a+=2;return u},e.cmap.parse6=function(r,a){var s=e._bin,l={};l.format=s.readUshort(r,a),a+=2,s.readUshort(r,a),a+=2,s.readUshort(r,a),a+=2,l.firstCode=s.readUshort(r,a),a+=2;var u=s.readUshort(r,a);a+=2,l.glyphIdArray=[];for(var f=0;f<u;f++)l.glyphIdArray.push(s.readUshort(r,a)),a+=2;return l},e.cmap.parse12=function(r,a){var s=e._bin,l={};l.format=s.readUshort(r,a),a+=2,a+=2,s.readUint(r,a),a+=4,s.readUint(r,a),a+=4;var u=s.readUint(r,a);a+=4,l.groups=[];for(var f=0;f<u;f++){var p=a+12*f,g=s.readUint(r,p+0),v=s.readUint(r,p+4),y=s.readUint(r,p+8);l.groups.push([g,v,y])}return l},e.glyf={},e.glyf.parse=function(r,a,s,l){for(var u=[],f=0;f<l.maxp.numGlyphs;f++)u.push(null);return u},e.glyf._parseGlyf=function(r,a){var s=e._bin,l=r._data,u=e._tabOffset(l,"glyf",r._offset)+r.loca[a];if(r.loca[a]==r.loca[a+1])return null;var f={};if(f.noc=s.readShort(l,u),u+=2,f.xMin=s.readShort(l,u),u+=2,f.yMin=s.readShort(l,u),u+=2,f.xMax=s.readShort(l,u),u+=2,f.yMax=s.readShort(l,u),u+=2,f.xMin>=f.xMax||f.yMin>=f.yMax)return null;if(f.noc>0){f.endPts=[];for(var p=0;p<f.noc;p++)f.endPts.push(s.readUshort(l,u)),u+=2;var g=s.readUshort(l,u);if(u+=2,l.length-u<g)return null;f.instructions=s.readBytes(l,u,g),u+=g;var v=f.endPts[f.noc-1]+1;for(f.flags=[],p=0;p<v;p++){var y=l[u];if(u++,f.flags.push(y),(8&y)!=0){var _=l[u];u++;for(var w=0;w<_;w++)f.flags.push(y),p++}}for(f.xs=[],p=0;p<v;p++){var S=(2&f.flags[p])!=0,M=(16&f.flags[p])!=0;S?(f.xs.push(M?l[u]:-l[u]),u++):M?f.xs.push(0):(f.xs.push(s.readShort(l,u)),u+=2)}for(f.ys=[],p=0;p<v;p++)S=(4&f.flags[p])!=0,M=(32&f.flags[p])!=0,S?(f.ys.push(M?l[u]:-l[u]),u++):M?f.ys.push(0):(f.ys.push(s.readShort(l,u)),u+=2);var R=0,T=0;for(p=0;p<v;p++)R+=f.xs[p],T+=f.ys[p],f.xs[p]=R,f.ys[p]=T}else{var P;f.parts=[];do{P=s.readUshort(l,u),u+=2;var O={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(f.parts.push(O),O.glyphIndex=s.readUshort(l,u),u+=2,1&P){var N=s.readShort(l,u);u+=2;var k=s.readShort(l,u);u+=2}else N=s.readInt8(l,u),u++,k=s.readInt8(l,u),u++;2&P?(O.m.tx=N,O.m.ty=k):(O.p1=N,O.p2=k),8&P?(O.m.a=O.m.d=s.readF2dot14(l,u),u+=2):64&P?(O.m.a=s.readF2dot14(l,u),u+=2,O.m.d=s.readF2dot14(l,u),u+=2):128&P&&(O.m.a=s.readF2dot14(l,u),u+=2,O.m.b=s.readF2dot14(l,u),u+=2,O.m.c=s.readF2dot14(l,u),u+=2,O.m.d=s.readF2dot14(l,u),u+=2)}while(32&P);if(256&P){var z=s.readUshort(l,u);for(u+=2,f.instr=[],p=0;p<z;p++)f.instr.push(l[u]),u++}}return f},e.GDEF={},e.GDEF.parse=function(r,a,s,l){var u=a;a+=4;var f=e._bin.readUshort(r,a);return{glyphClassDef:f===0?null:e._lctf.readClassDef(r,u+f)}},e.GPOS={},e.GPOS.parse=function(r,a,s,l){return e._lctf.parse(r,a,s,l,e.GPOS.subt)},e.GPOS.subt=function(r,a,s,l){var u=e._bin,f=s,p={};if(p.fmt=u.readUshort(r,s),s+=2,a==1||a==2||a==3||a==7||a==8&&p.fmt<=2){var g=u.readUshort(r,s);s+=2,p.coverage=e._lctf.readCoverage(r,g+f)}if(a==1&&p.fmt==1){var v=u.readUshort(r,s);s+=2,v!=0&&(p.pos=e.GPOS.readValueRecord(r,s,v))}else if(a==2&&p.fmt>=1&&p.fmt<=2){v=u.readUshort(r,s),s+=2;var y=u.readUshort(r,s);s+=2;var _=e._lctf.numOfOnes(v),w=e._lctf.numOfOnes(y);if(p.fmt==1){p.pairsets=[];var S=u.readUshort(r,s);s+=2;for(var M=0;M<S;M++){var R=f+u.readUshort(r,s);s+=2;var T=u.readUshort(r,R);R+=2;for(var P=[],O=0;O<T;O++){var N=u.readUshort(r,R);R+=2,v!=0&&(H=e.GPOS.readValueRecord(r,R,v),R+=2*_),y!=0&&(Y=e.GPOS.readValueRecord(r,R,y),R+=2*w),P.push({gid2:N,val1:H,val2:Y})}p.pairsets.push(P)}}if(p.fmt==2){var k=u.readUshort(r,s);s+=2;var z=u.readUshort(r,s);s+=2;var I=u.readUshort(r,s);s+=2;var U=u.readUshort(r,s);for(s+=2,p.classDef1=e._lctf.readClassDef(r,f+k),p.classDef2=e._lctf.readClassDef(r,f+z),p.matrix=[],M=0;M<I;M++){var W=[];for(O=0;O<U;O++){var H=null,Y=null;v!=0&&(H=e.GPOS.readValueRecord(r,s,v),s+=2*_),y!=0&&(Y=e.GPOS.readValueRecord(r,s,y),s+=2*w),W.push({val1:H,val2:Y})}p.matrix.push(W)}}}else if(a==4&&p.fmt==1)p.markCoverage=e._lctf.readCoverage(r,u.readUshort(r,s)+f),p.baseCoverage=e._lctf.readCoverage(r,u.readUshort(r,s+2)+f),p.markClassCount=u.readUshort(r,s+4),p.markArray=e.GPOS.readMarkArray(r,u.readUshort(r,s+6)+f),p.baseArray=e.GPOS.readBaseArray(r,u.readUshort(r,s+8)+f,p.markClassCount);else if(a==6&&p.fmt==1)p.mark1Coverage=e._lctf.readCoverage(r,u.readUshort(r,s)+f),p.mark2Coverage=e._lctf.readCoverage(r,u.readUshort(r,s+2)+f),p.markClassCount=u.readUshort(r,s+4),p.mark1Array=e.GPOS.readMarkArray(r,u.readUshort(r,s+6)+f),p.mark2Array=e.GPOS.readBaseArray(r,u.readUshort(r,s+8)+f,p.markClassCount);else{if(a==9&&p.fmt==1){var J=u.readUshort(r,s);s+=2;var ie=u.readUint(r,s);if(s+=4,l.ltype==9)l.ltype=J;else if(l.ltype!=J)throw"invalid extension substitution";return e.GPOS.subt(r,l.ltype,f+ie)}console.debug("unsupported GPOS table LookupType",a,"format",p.fmt)}return p},e.GPOS.readValueRecord=function(r,a,s){var l=e._bin,u=[];return u.push(1&s?l.readShort(r,a):0),a+=1&s?2:0,u.push(2&s?l.readShort(r,a):0),a+=2&s?2:0,u.push(4&s?l.readShort(r,a):0),a+=4&s?2:0,u.push(8&s?l.readShort(r,a):0),a+=8&s?2:0,u},e.GPOS.readBaseArray=function(r,a,s){var l=e._bin,u=[],f=a,p=l.readUshort(r,a);a+=2;for(var g=0;g<p;g++){for(var v=[],y=0;y<s;y++)v.push(e.GPOS.readAnchorRecord(r,f+l.readUshort(r,a))),a+=2;u.push(v)}return u},e.GPOS.readMarkArray=function(r,a){var s=e._bin,l=[],u=a,f=s.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=e.GPOS.readAnchorRecord(r,s.readUshort(r,a+2)+u);g.markClass=s.readUshort(r,a),l.push(g),a+=4}return l},e.GPOS.readAnchorRecord=function(r,a){var s=e._bin,l={};return l.fmt=s.readUshort(r,a),l.x=s.readShort(r,a+2),l.y=s.readShort(r,a+4),l},e.GSUB={},e.GSUB.parse=function(r,a,s,l){return e._lctf.parse(r,a,s,l,e.GSUB.subt)},e.GSUB.subt=function(r,a,s,l){var u=e._bin,f=s,p={};if(p.fmt=u.readUshort(r,s),s+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&p.fmt<=2||a==6&&p.fmt<=2){var g=u.readUshort(r,s);s+=2,p.coverage=e._lctf.readCoverage(r,f+g)}if(a==1&&p.fmt>=1&&p.fmt<=2){if(p.fmt==1)p.delta=u.readShort(r,s),s+=2;else if(p.fmt==2){var v=u.readUshort(r,s);s+=2,p.newg=u.readUshorts(r,s,v),s+=2*p.newg.length}}else if(a==2&&p.fmt==1){v=u.readUshort(r,s),s+=2,p.seqs=[];for(var y=0;y<v;y++){var _=u.readUshort(r,s)+f;s+=2;var w=u.readUshort(r,_);p.seqs.push(u.readUshorts(r,_+2,w))}}else if(a==4)for(p.vals=[],v=u.readUshort(r,s),s+=2,y=0;y<v;y++){var S=u.readUshort(r,s);s+=2,p.vals.push(e.GSUB.readLigatureSet(r,f+S))}else if(a==5&&p.fmt==2){if(p.fmt==2){var M=u.readUshort(r,s);s+=2,p.cDef=e._lctf.readClassDef(r,f+M),p.scset=[];var R=u.readUshort(r,s);for(s+=2,y=0;y<R;y++){var T=u.readUshort(r,s);s+=2,p.scset.push(T==0?null:e.GSUB.readSubClassSet(r,f+T))}}}else if(a==6&&p.fmt==3){if(p.fmt==3){for(y=0;y<3;y++){v=u.readUshort(r,s),s+=2;for(var P=[],O=0;O<v;O++)P.push(e._lctf.readCoverage(r,f+u.readUshort(r,s+2*O)));s+=2*v,y==0&&(p.backCvg=P),y==1&&(p.inptCvg=P),y==2&&(p.ahedCvg=P)}v=u.readUshort(r,s),s+=2,p.lookupRec=e.GSUB.readSubstLookupRecords(r,s,v)}}else{if(a==7&&p.fmt==1){var N=u.readUshort(r,s);s+=2;var k=u.readUint(r,s);if(s+=4,l.ltype==9)l.ltype=N;else if(l.ltype!=N)throw"invalid extension substitution";return e.GSUB.subt(r,l.ltype,f+k)}console.debug("unsupported GSUB table LookupType",a,"format",p.fmt)}return p},e.GSUB.readSubClassSet=function(r,a){var s=e._bin.readUshort,l=a,u=[],f=s(r,a);a+=2;for(var p=0;p<f;p++){var g=s(r,a);a+=2,u.push(e.GSUB.readSubClassRule(r,l+g))}return u},e.GSUB.readSubClassRule=function(r,a){var s=e._bin.readUshort,l={},u=s(r,a),f=s(r,a+=2);a+=2,l.input=[];for(var p=0;p<u-1;p++)l.input.push(s(r,a)),a+=2;return l.substLookupRecords=e.GSUB.readSubstLookupRecords(r,a,f),l},e.GSUB.readSubstLookupRecords=function(r,a,s){for(var l=e._bin.readUshort,u=[],f=0;f<s;f++)u.push(l(r,a),l(r,a+2)),a+=4;return u},e.GSUB.readChainSubClassSet=function(r,a){var s=e._bin,l=a,u=[],f=s.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=s.readUshort(r,a);a+=2,u.push(e.GSUB.readChainSubClassRule(r,l+g))}return u},e.GSUB.readChainSubClassRule=function(r,a){for(var s=e._bin,l={},u=["backtrack","input","lookahead"],f=0;f<u.length;f++){var p=s.readUshort(r,a);a+=2,f==1&&p--,l[u[f]]=s.readUshorts(r,a,p),a+=2*l[u[f]].length}return p=s.readUshort(r,a),a+=2,l.subst=s.readUshorts(r,a,2*p),a+=2*l.subst.length,l},e.GSUB.readLigatureSet=function(r,a){var s=e._bin,l=a,u=[],f=s.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=s.readUshort(r,a);a+=2,u.push(e.GSUB.readLigature(r,l+g))}return u},e.GSUB.readLigature=function(r,a){var s=e._bin,l={chain:[]};l.nglyph=s.readUshort(r,a),a+=2;var u=s.readUshort(r,a);a+=2;for(var f=0;f<u-1;f++)l.chain.push(s.readUshort(r,a)),a+=2;return l},e.head={},e.head.parse=function(r,a,s){var l=e._bin,u={};return l.readFixed(r,a),a+=4,u.fontRevision=l.readFixed(r,a),a+=4,l.readUint(r,a),a+=4,l.readUint(r,a),a+=4,u.flags=l.readUshort(r,a),a+=2,u.unitsPerEm=l.readUshort(r,a),a+=2,u.created=l.readUint64(r,a),a+=8,u.modified=l.readUint64(r,a),a+=8,u.xMin=l.readShort(r,a),a+=2,u.yMin=l.readShort(r,a),a+=2,u.xMax=l.readShort(r,a),a+=2,u.yMax=l.readShort(r,a),a+=2,u.macStyle=l.readUshort(r,a),a+=2,u.lowestRecPPEM=l.readUshort(r,a),a+=2,u.fontDirectionHint=l.readShort(r,a),a+=2,u.indexToLocFormat=l.readShort(r,a),a+=2,u.glyphDataFormat=l.readShort(r,a),a+=2,u},e.hhea={},e.hhea.parse=function(r,a,s){var l=e._bin,u={};return l.readFixed(r,a),a+=4,u.ascender=l.readShort(r,a),a+=2,u.descender=l.readShort(r,a),a+=2,u.lineGap=l.readShort(r,a),a+=2,u.advanceWidthMax=l.readUshort(r,a),a+=2,u.minLeftSideBearing=l.readShort(r,a),a+=2,u.minRightSideBearing=l.readShort(r,a),a+=2,u.xMaxExtent=l.readShort(r,a),a+=2,u.caretSlopeRise=l.readShort(r,a),a+=2,u.caretSlopeRun=l.readShort(r,a),a+=2,u.caretOffset=l.readShort(r,a),a+=2,a+=8,u.metricDataFormat=l.readShort(r,a),a+=2,u.numberOfHMetrics=l.readUshort(r,a),a+=2,u},e.hmtx={},e.hmtx.parse=function(r,a,s,l){for(var u=e._bin,f={aWidth:[],lsBearing:[]},p=0,g=0,v=0;v<l.maxp.numGlyphs;v++)v<l.hhea.numberOfHMetrics&&(p=u.readUshort(r,a),a+=2,g=u.readShort(r,a),a+=2),f.aWidth.push(p),f.lsBearing.push(g);return f},e.kern={},e.kern.parse=function(r,a,s,l){var u=e._bin,f=u.readUshort(r,a);if(a+=2,f==1)return e.kern.parseV1(r,a-2,s,l);var p=u.readUshort(r,a);a+=2;for(var g={glyph1:[],rval:[]},v=0;v<p;v++){a+=2,s=u.readUshort(r,a),a+=2;var y=u.readUshort(r,a);a+=2;var _=y>>>8;if((_&=15)!=0)throw"unknown kern table format: "+_;a=e.kern.readFormat0(r,a,g)}return g},e.kern.parseV1=function(r,a,s,l){var u=e._bin;u.readFixed(r,a),a+=4;var f=u.readUint(r,a);a+=4;for(var p={glyph1:[],rval:[]},g=0;g<f;g++){u.readUint(r,a),a+=4;var v=u.readUshort(r,a);a+=2,u.readUshort(r,a),a+=2;var y=v>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;a=e.kern.readFormat0(r,a,p)}return p},e.kern.readFormat0=function(r,a,s){var l=e._bin,u=-1,f=l.readUshort(r,a);a+=2,l.readUshort(r,a),a+=2,l.readUshort(r,a),a+=2,l.readUshort(r,a),a+=2;for(var p=0;p<f;p++){var g=l.readUshort(r,a);a+=2;var v=l.readUshort(r,a);a+=2;var y=l.readShort(r,a);a+=2,g!=u&&(s.glyph1.push(g),s.rval.push({glyph2:[],vals:[]}));var _=s.rval[s.rval.length-1];_.glyph2.push(v),_.vals.push(y),u=g}return a},e.loca={},e.loca.parse=function(r,a,s,l){var u=e._bin,f=[],p=l.head.indexToLocFormat,g=l.maxp.numGlyphs+1;if(p==0)for(var v=0;v<g;v++)f.push(u.readUshort(r,a+(v<<1))<<1);if(p==1)for(v=0;v<g;v++)f.push(u.readUint(r,a+(v<<2)));return f},e.maxp={},e.maxp.parse=function(r,a,s){var l=e._bin,u={},f=l.readUint(r,a);return a+=4,u.numGlyphs=l.readUshort(r,a),a+=2,f==65536&&(u.maxPoints=l.readUshort(r,a),a+=2,u.maxContours=l.readUshort(r,a),a+=2,u.maxCompositePoints=l.readUshort(r,a),a+=2,u.maxCompositeContours=l.readUshort(r,a),a+=2,u.maxZones=l.readUshort(r,a),a+=2,u.maxTwilightPoints=l.readUshort(r,a),a+=2,u.maxStorage=l.readUshort(r,a),a+=2,u.maxFunctionDefs=l.readUshort(r,a),a+=2,u.maxInstructionDefs=l.readUshort(r,a),a+=2,u.maxStackElements=l.readUshort(r,a),a+=2,u.maxSizeOfInstructions=l.readUshort(r,a),a+=2,u.maxComponentElements=l.readUshort(r,a),a+=2,u.maxComponentDepth=l.readUshort(r,a),a+=2),u},e.name={},e.name.parse=function(r,a,s){var l=e._bin,u={};l.readUshort(r,a),a+=2;var f=l.readUshort(r,a);a+=2,l.readUshort(r,a);for(var p,g=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=a+=2,y=0;y<f;y++){var _=l.readUshort(r,a);a+=2;var w=l.readUshort(r,a);a+=2;var S=l.readUshort(r,a);a+=2;var M=l.readUshort(r,a);a+=2;var R=l.readUshort(r,a);a+=2;var T=l.readUshort(r,a);a+=2;var P,O=g[M],N=v+12*f+T;if(_==0)P=l.readUnicode(r,N,R/2);else if(_==3&&w==0)P=l.readUnicode(r,N,R/2);else if(w==0)P=l.readASCII(r,N,R);else if(w==1)P=l.readUnicode(r,N,R/2);else if(w==3)P=l.readUnicode(r,N,R/2);else{if(_!=1)throw"unknown encoding "+w+", platformID: "+_;P=l.readASCII(r,N,R),console.debug("reading unknown MAC encoding "+w+" as ASCII")}var k="p"+_+","+S.toString(16);u[k]==null&&(u[k]={}),u[k][O!==void 0?O:M]=P,u[k]._lang=S}for(var z in u)if(u[z].postScriptName!=null&&u[z]._lang==1033)return u[z];for(var z in u)if(u[z].postScriptName!=null&&u[z]._lang==0)return u[z];for(var z in u)if(u[z].postScriptName!=null&&u[z]._lang==3084)return u[z];for(var z in u)if(u[z].postScriptName!=null)return u[z];for(var z in u){p=z;break}return console.debug("returning name table with languageID "+u[p]._lang),u[p]},e["OS/2"]={},e["OS/2"].parse=function(r,a,s){var l=e._bin.readUshort(r,a);a+=2;var u={};if(l==0)e["OS/2"].version0(r,a,u);else if(l==1)e["OS/2"].version1(r,a,u);else if(l==2||l==3||l==4)e["OS/2"].version2(r,a,u);else{if(l!=5)throw"unknown OS/2 table version: "+l;e["OS/2"].version5(r,a,u)}return u},e["OS/2"].version0=function(r,a,s){var l=e._bin;return s.xAvgCharWidth=l.readShort(r,a),a+=2,s.usWeightClass=l.readUshort(r,a),a+=2,s.usWidthClass=l.readUshort(r,a),a+=2,s.fsType=l.readUshort(r,a),a+=2,s.ySubscriptXSize=l.readShort(r,a),a+=2,s.ySubscriptYSize=l.readShort(r,a),a+=2,s.ySubscriptXOffset=l.readShort(r,a),a+=2,s.ySubscriptYOffset=l.readShort(r,a),a+=2,s.ySuperscriptXSize=l.readShort(r,a),a+=2,s.ySuperscriptYSize=l.readShort(r,a),a+=2,s.ySuperscriptXOffset=l.readShort(r,a),a+=2,s.ySuperscriptYOffset=l.readShort(r,a),a+=2,s.yStrikeoutSize=l.readShort(r,a),a+=2,s.yStrikeoutPosition=l.readShort(r,a),a+=2,s.sFamilyClass=l.readShort(r,a),a+=2,s.panose=l.readBytes(r,a,10),a+=10,s.ulUnicodeRange1=l.readUint(r,a),a+=4,s.ulUnicodeRange2=l.readUint(r,a),a+=4,s.ulUnicodeRange3=l.readUint(r,a),a+=4,s.ulUnicodeRange4=l.readUint(r,a),a+=4,s.achVendID=[l.readInt8(r,a),l.readInt8(r,a+1),l.readInt8(r,a+2),l.readInt8(r,a+3)],a+=4,s.fsSelection=l.readUshort(r,a),a+=2,s.usFirstCharIndex=l.readUshort(r,a),a+=2,s.usLastCharIndex=l.readUshort(r,a),a+=2,s.sTypoAscender=l.readShort(r,a),a+=2,s.sTypoDescender=l.readShort(r,a),a+=2,s.sTypoLineGap=l.readShort(r,a),a+=2,s.usWinAscent=l.readUshort(r,a),a+=2,s.usWinDescent=l.readUshort(r,a),a+=2},e["OS/2"].version1=function(r,a,s){var l=e._bin;return a=e["OS/2"].version0(r,a,s),s.ulCodePageRange1=l.readUint(r,a),a+=4,s.ulCodePageRange2=l.readUint(r,a),a+=4},e["OS/2"].version2=function(r,a,s){var l=e._bin;return a=e["OS/2"].version1(r,a,s),s.sxHeight=l.readShort(r,a),a+=2,s.sCapHeight=l.readShort(r,a),a+=2,s.usDefault=l.readUshort(r,a),a+=2,s.usBreak=l.readUshort(r,a),a+=2,s.usMaxContext=l.readUshort(r,a),a+=2},e["OS/2"].version5=function(r,a,s){var l=e._bin;return a=e["OS/2"].version2(r,a,s),s.usLowerOpticalPointSize=l.readUshort(r,a),a+=2,s.usUpperOpticalPointSize=l.readUshort(r,a),a+=2},e.post={},e.post.parse=function(r,a,s){var l=e._bin,u={};return u.version=l.readFixed(r,a),a+=4,u.italicAngle=l.readFixed(r,a),a+=4,u.underlinePosition=l.readShort(r,a),a+=2,u.underlineThickness=l.readShort(r,a),a+=2,u},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,a){var s=r.cmap,l=-1;if(s.p0e4!=null?l=s.p0e4:s.p3e1!=null?l=s.p3e1:s.p1e0!=null?l=s.p1e0:s.p0e3!=null&&(l=s.p0e3),l==-1)throw"no familiar platform and encoding!";var u=s.tables[l];if(u.format==0)return a>=u.map.length?0:u.map[a];if(u.format==4){for(var f=-1,p=0;p<u.endCount.length;p++)if(a<=u.endCount[p]){f=p;break}return f==-1||u.startCount[f]>a?0:65535&(u.idRangeOffset[f]!=0?u.glyphIdArray[a-u.startCount[f]+(u.idRangeOffset[f]>>1)-(u.idRangeOffset.length-f)]:a+u.idDelta[f])}if(u.format==12){if(a>u.groups[u.groups.length-1][1])return 0;for(p=0;p<u.groups.length;p++){var g=u.groups[p];if(g[0]<=a&&a<=g[1])return g[2]+(a-g[0])}return 0}throw"unknown cmap table format "+u.format},e.U.glyphToPath=function(r,a){var s={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[a]){var l=r.SVG.entries[a];return l==null?s:(typeof l=="string"&&(l=e.SVG.toPath(l),r.SVG.entries[a]=l),l)}if(r.CFF){var u={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},f=r.CFF,p=r.CFF.Private;if(f.ROS){for(var g=0;f.FDSelect[g+2]<=a;)g+=2;p=f.FDArray[f.FDSelect[g+1]].Private}e.U._drawCFF(r.CFF.CharStrings[a],u,f,p,s)}else r.glyf&&e.U._drawGlyf(a,r,s);return s},e.U._drawGlyf=function(r,a,s){var l=a.glyf[r];l==null&&(l=a.glyf[r]=e.glyf._parseGlyf(a,r)),l!=null&&(l.noc>-1?e.U._simpleGlyph(l,s):e.U._compoGlyph(l,a,s))},e.U._simpleGlyph=function(r,a){for(var s=0;s<r.noc;s++){for(var l=s==0?0:r.endPts[s-1]+1,u=r.endPts[s],f=l;f<=u;f++){var p=f==l?u:f-1,g=f==u?l:f+1,v=1&r.flags[f],y=1&r.flags[p],_=1&r.flags[g],w=r.xs[f],S=r.ys[f];if(f==l)if(v){if(!y){e.U.P.moveTo(a,w,S);continue}e.U.P.moveTo(a,r.xs[p],r.ys[p])}else y?e.U.P.moveTo(a,r.xs[p],r.ys[p]):e.U.P.moveTo(a,(r.xs[p]+w)/2,(r.ys[p]+S)/2);v?y&&e.U.P.lineTo(a,w,S):_?e.U.P.qcurveTo(a,w,S,r.xs[g],r.ys[g]):e.U.P.qcurveTo(a,w,S,(w+r.xs[g])/2,(S+r.ys[g])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(r,a,s){for(var l=0;l<r.parts.length;l++){var u={cmds:[],crds:[]},f=r.parts[l];e.U._drawGlyf(f.glyphIndex,a,u);for(var p=f.m,g=0;g<u.crds.length;g+=2){var v=u.crds[g],y=u.crds[g+1];s.crds.push(v*p.a+y*p.b+p.tx),s.crds.push(v*p.c+y*p.d+p.ty)}for(g=0;g<u.cmds.length;g++)s.cmds.push(u.cmds[g])}},e.U._getGlyphClass=function(r,a){var s=e._lctf.getInterval(a,r);return s==-1?0:a[s+2]},e.U._applySubs=function(r,a,s,l){for(var u=r.length-a-1,f=0;f<s.tabs.length;f++)if(s.tabs[f]!=null){var p,g=s.tabs[f];if(!g.coverage||(p=e._lctf.coverageIndex(g.coverage,r[a]))!=-1){if(s.ltype==1)r[a],g.fmt==1?r[a]=r[a]+g.delta:r[a]=g.newg[p];else if(s.ltype==4)for(var v=g.vals[p],y=0;y<v.length;y++){var _=v[y],w=_.chain.length;if(!(w>u)){for(var S=!0,M=0,R=0;R<w;R++){for(;r[a+M+(1+R)]==-1;)M++;_.chain[R]!=r[a+M+(1+R)]&&(S=!1)}if(S){for(r[a]=_.nglyph,R=0;R<w+M;R++)r[a+R+1]=-1;break}}}else if(s.ltype==5&&g.fmt==2)for(var T=e._lctf.getInterval(g.cDef,r[a]),P=g.cDef[T+2],O=g.scset[P],N=0;N<O.length;N++){var k=O[N],z=k.input;if(!(z.length>u)){for(S=!0,R=0;R<z.length;R++){var I=e._lctf.getInterval(g.cDef,r[a+1+R]);if(T==-1&&g.cDef[I+2]!=z[R]){S=!1;break}}if(S){var U=k.substLookupRecords;for(y=0;y<U.length;y+=2)U[y],U[y+1]}}}else if(s.ltype==6&&g.fmt==3){if(!e.U._glsCovered(r,g.backCvg,a-g.backCvg.length)||!e.U._glsCovered(r,g.inptCvg,a)||!e.U._glsCovered(r,g.ahedCvg,a+g.inptCvg.length))continue;var W=g.lookupRec;for(N=0;N<W.length;N+=2){T=W[N];var H=l[W[N+1]];e.U._applySubs(r,a+T,H,l)}}}}},e.U._glsCovered=function(r,a,s){for(var l=0;l<a.length;l++)if(e._lctf.coverageIndex(a[l],r[s+l])==-1)return!1;return!0},e.U.glyphsToPath=function(r,a,s){for(var l={cmds:[],crds:[]},u=0,f=0;f<a.length;f++){var p=a[f];if(p!=-1){for(var g=f<a.length-1&&a[f+1]!=-1?a[f+1]:0,v=e.U.glyphToPath(r,p),y=0;y<v.crds.length;y+=2)l.crds.push(v.crds[y]+u),l.crds.push(v.crds[y+1]);for(s&&l.cmds.push(s),y=0;y<v.cmds.length;y++)l.cmds.push(v.cmds[y]);s&&l.cmds.push("X"),u+=r.hmtx.aWidth[p],f<a.length-1&&(u+=e.U.getPairAdjustment(r,p,g))}}return l},e.U.P={},e.U.P.moveTo=function(r,a,s){r.cmds.push("M"),r.crds.push(a,s)},e.U.P.lineTo=function(r,a,s){r.cmds.push("L"),r.crds.push(a,s)},e.U.P.curveTo=function(r,a,s,l,u,f,p){r.cmds.push("C"),r.crds.push(a,s,l,u,f,p)},e.U.P.qcurveTo=function(r,a,s,l,u){r.cmds.push("Q"),r.crds.push(a,s,l,u)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,a,s,l,u){for(var f=a.stack,p=a.nStems,g=a.haveWidth,v=a.width,y=a.open,_=0,w=a.x,S=a.y,M=0,R=0,T=0,P=0,O=0,N=0,k=0,z=0,I=0,U=0,W={val:0,size:0};_<r.length;){e.CFF.getCharString(r,_,W);var H=W.val;if(_+=W.size,H=="o1"||H=="o18")f.length%2!=0&&!g&&(v=f.shift()+l.nominalWidthX),p+=f.length>>1,f.length=0,g=!0;else if(H=="o3"||H=="o23")f.length%2!=0&&!g&&(v=f.shift()+l.nominalWidthX),p+=f.length>>1,f.length=0,g=!0;else if(H=="o4")f.length>1&&!g&&(v=f.shift()+l.nominalWidthX,g=!0),y&&e.U.P.closePath(u),S+=f.pop(),e.U.P.moveTo(u,w,S),y=!0;else if(H=="o5")for(;f.length>0;)w+=f.shift(),S+=f.shift(),e.U.P.lineTo(u,w,S);else if(H=="o6"||H=="o7")for(var Y=f.length,J=H=="o6",ie=0;ie<Y;ie++){var X=f.shift();J?w+=X:S+=X,J=!J,e.U.P.lineTo(u,w,S)}else if(H=="o8"||H=="o24"){Y=f.length;for(var te=0;te+6<=Y;)M=w+f.shift(),R=S+f.shift(),T=M+f.shift(),P=R+f.shift(),w=T+f.shift(),S=P+f.shift(),e.U.P.curveTo(u,M,R,T,P,w,S),te+=6;H=="o24"&&(w+=f.shift(),S+=f.shift(),e.U.P.lineTo(u,w,S))}else{if(H=="o11")break;if(H=="o1234"||H=="o1235"||H=="o1236"||H=="o1237")H=="o1234"&&(R=S,T=(M=w+f.shift())+f.shift(),U=P=R+f.shift(),N=P,z=S,w=(k=(O=(I=T+f.shift())+f.shift())+f.shift())+f.shift(),e.U.P.curveTo(u,M,R,T,P,I,U),e.U.P.curveTo(u,O,N,k,z,w,S)),H=="o1235"&&(M=w+f.shift(),R=S+f.shift(),T=M+f.shift(),P=R+f.shift(),I=T+f.shift(),U=P+f.shift(),O=I+f.shift(),N=U+f.shift(),k=O+f.shift(),z=N+f.shift(),w=k+f.shift(),S=z+f.shift(),f.shift(),e.U.P.curveTo(u,M,R,T,P,I,U),e.U.P.curveTo(u,O,N,k,z,w,S)),H=="o1236"&&(M=w+f.shift(),R=S+f.shift(),T=M+f.shift(),U=P=R+f.shift(),N=P,k=(O=(I=T+f.shift())+f.shift())+f.shift(),z=N+f.shift(),w=k+f.shift(),e.U.P.curveTo(u,M,R,T,P,I,U),e.U.P.curveTo(u,O,N,k,z,w,S)),H=="o1237"&&(M=w+f.shift(),R=S+f.shift(),T=M+f.shift(),P=R+f.shift(),I=T+f.shift(),U=P+f.shift(),O=I+f.shift(),N=U+f.shift(),k=O+f.shift(),z=N+f.shift(),Math.abs(k-w)>Math.abs(z-S)?w=k+f.shift():S=z+f.shift(),e.U.P.curveTo(u,M,R,T,P,I,U),e.U.P.curveTo(u,O,N,k,z,w,S));else if(H=="o14"){if(f.length>0&&!g&&(v=f.shift()+s.nominalWidthX,g=!0),f.length==4){var de=f.shift(),he=f.shift(),le=f.shift(),V=f.shift(),ee=e.CFF.glyphBySE(s,le),re=e.CFF.glyphBySE(s,V);e.U._drawCFF(s.CharStrings[ee],a,s,l,u),a.x=de,a.y=he,e.U._drawCFF(s.CharStrings[re],a,s,l,u)}y&&(e.U.P.closePath(u),y=!1)}else if(H=="o19"||H=="o20")f.length%2!=0&&!g&&(v=f.shift()+l.nominalWidthX),p+=f.length>>1,f.length=0,g=!0,_+=p+7>>3;else if(H=="o21")f.length>2&&!g&&(v=f.shift()+l.nominalWidthX,g=!0),S+=f.pop(),w+=f.pop(),y&&e.U.P.closePath(u),e.U.P.moveTo(u,w,S),y=!0;else if(H=="o22")f.length>1&&!g&&(v=f.shift()+l.nominalWidthX,g=!0),w+=f.pop(),y&&e.U.P.closePath(u),e.U.P.moveTo(u,w,S),y=!0;else if(H=="o25"){for(;f.length>6;)w+=f.shift(),S+=f.shift(),e.U.P.lineTo(u,w,S);M=w+f.shift(),R=S+f.shift(),T=M+f.shift(),P=R+f.shift(),w=T+f.shift(),S=P+f.shift(),e.U.P.curveTo(u,M,R,T,P,w,S)}else if(H=="o26")for(f.length%2&&(w+=f.shift());f.length>0;)M=w,R=S+f.shift(),w=T=M+f.shift(),S=(P=R+f.shift())+f.shift(),e.U.P.curveTo(u,M,R,T,P,w,S);else if(H=="o27")for(f.length%2&&(S+=f.shift());f.length>0;)R=S,T=(M=w+f.shift())+f.shift(),P=R+f.shift(),w=T+f.shift(),S=P,e.U.P.curveTo(u,M,R,T,P,w,S);else if(H=="o10"||H=="o29"){var pe=H=="o10"?l:s;if(f.length==0)console.debug("error: empty stack");else{var ye=f.pop(),se=pe.Subrs[ye+pe.Bias];a.x=w,a.y=S,a.nStems=p,a.haveWidth=g,a.width=v,a.open=y,e.U._drawCFF(se,a,s,l,u),w=a.x,S=a.y,p=a.nStems,g=a.haveWidth,v=a.width,y=a.open}}else if(H=="o30"||H=="o31"){var ce=f.length,Se=(te=0,H=="o31");for(te+=ce-(Y=-3&ce);te<Y;)Se?(R=S,T=(M=w+f.shift())+f.shift(),S=(P=R+f.shift())+f.shift(),Y-te==5?(w=T+f.shift(),te++):w=T,Se=!1):(M=w,R=S+f.shift(),T=M+f.shift(),P=R+f.shift(),w=T+f.shift(),Y-te==5?(S=P+f.shift(),te++):S=P,Se=!0),e.U.P.curveTo(u,M,R,T,P,w,S),te+=4}else{if((H+"").charAt(0)=="o")throw console.debug("Unknown operation: "+H,r),H;f.push(H)}}}a.x=w,a.y=S,a.nStems=p,a.haveWidth=g,a.width=v,a.open=y};var n=e,i={Typr:n};return t.Typr=n,t.default=i,Object.defineProperty(t,"__esModule",{value:!0}),t})({}).Typr}function hve(){return(function(t){var e=Uint8Array,n=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(H,Y){for(var J=new n(31),ie=0;ie<31;++ie)J[ie]=Y+=1<<H[ie-1];var X=new i(J[30]);for(ie=1;ie<30;++ie)for(var te=J[ie];te<J[ie+1];++te)X[te]=te-J[ie]<<5|ie;return[J,X]},u=l(r,2),f=u[0],p=u[1];f[28]=258,p[258]=28;for(var g=l(a,0)[0],v=new n(32768),y=0;y<32768;++y){var _=(43690&y)>>>1|(21845&y)<<1;_=(61680&(_=(52428&_)>>>2|(13107&_)<<2))>>>4|(3855&_)<<4,v[y]=((65280&_)>>>8|(255&_)<<8)>>>1}var w=function(H,Y,J){for(var ie=H.length,X=0,te=new n(Y);X<ie;++X)++te[H[X]-1];var de,he=new n(Y);for(X=0;X<Y;++X)he[X]=he[X-1]+te[X-1]<<1;{de=new n(1<<Y);var le=15-Y;for(X=0;X<ie;++X)if(H[X])for(var V=X<<4|H[X],ee=Y-H[X],re=he[H[X]-1]++<<ee,pe=re|(1<<ee)-1;re<=pe;++re)de[v[re]>>>le]=V}return de},S=new e(288);for(y=0;y<144;++y)S[y]=8;for(y=144;y<256;++y)S[y]=9;for(y=256;y<280;++y)S[y]=7;for(y=280;y<288;++y)S[y]=8;var M=new e(32);for(y=0;y<32;++y)M[y]=5;var R=w(S,9),T=w(M,5),P=function(H){for(var Y=H[0],J=1;J<H.length;++J)H[J]>Y&&(Y=H[J]);return Y},O=function(H,Y,J){var ie=Y/8|0;return(H[ie]|H[ie+1]<<8)>>(7&Y)&J},N=function(H,Y){var J=Y/8|0;return(H[J]|H[J+1]<<8|H[J+2]<<16)>>(7&Y)},k=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],z=function(H,Y,J){var ie=new Error(Y||k[H]);if(ie.code=H,Error.captureStackTrace&&Error.captureStackTrace(ie,z),!J)throw ie;return ie},I=function(H,Y,J){var ie=H.length;if(!ie||J&&!J.l&&ie<5)return Y||new e(0);var X=!Y||J,te=!J||J.i;J||(J={}),Y||(Y=new e(3*ie));var de,he=function(tt){var ae=Y.length;if(tt>ae){var Ee=new e(Math.max(2*ae,tt));Ee.set(Y),Y=Ee}},le=J.f||0,V=J.p||0,ee=J.b||0,re=J.l,pe=J.d,ye=J.m,se=J.n,ce=8*ie;do{if(!re){J.f=le=O(H,V,1);var Se=O(H,V+1,3);if(V+=3,!Se){var fe=H[(qe=((de=V)/8|0)+(7&de&&1)+4)-4]|H[qe-3]<<8,Oe=qe+fe;if(Oe>ie){te&&z(0);break}X&&he(ee+fe),Y.set(H.subarray(qe,Oe),ee),J.b=ee+=fe,J.p=V=8*Oe;continue}if(Se==1)re=R,pe=T,ye=9,se=5;else if(Se==2){var ke=O(H,V,31)+257,me=O(H,V+10,15)+4,ut=ke+O(H,V+5,31)+1;V+=14;for(var _e=new e(ut),Ae=new e(19),Me=0;Me<me;++Me)Ae[s[Me]]=O(H,V+3*Me,7);V+=3*me;var Ge=P(Ae),Z=(1<<Ge)-1,at=w(Ae,Ge);for(Me=0;Me<ut;){var qe,Ne=at[O(H,V,Z)];if(V+=15&Ne,(qe=Ne>>>4)<16)_e[Me++]=qe;else{var Ze=0,q=0;for(qe==16?(q=3+O(H,V,3),V+=2,Ze=_e[Me-1]):qe==17?(q=3+O(H,V,7),V+=3):qe==18&&(q=11+O(H,V,127),V+=7);q--;)_e[Me++]=Ze}}var j=_e.subarray(0,ke),oe=_e.subarray(ke);ye=P(j),se=P(oe),re=w(j,ye),pe=w(oe,se)}else z(1);if(V>ce){te&&z(0);break}}X&&he(ee+131072);for(var De=(1<<ye)-1,Re=(1<<se)-1,be=V;;be=V){var nt=(Ze=re[N(H,V)&De])>>>4;if((V+=15&Ze)>ce){te&&z(0);break}if(Ze||z(2),nt<256)Y[ee++]=nt;else{if(nt==256){be=V,re=null;break}var Je=nt-254;if(nt>264){var pt=r[Me=nt-257];Je=O(H,V,(1<<pt)-1)+f[Me],V+=pt}var St=pe[N(H,V)&Re],Xe=St>>>4;if(St||z(3),V+=15&St,oe=g[Xe],Xe>3&&(pt=a[Xe],oe+=N(H,V)&(1<<pt)-1,V+=pt),V>ce){te&&z(0);break}X&&he(ee+131072);for(var $e=ee+Je;ee<$e;ee+=4)Y[ee]=Y[ee-oe],Y[ee+1]=Y[ee+1-oe],Y[ee+2]=Y[ee+2-oe],Y[ee+3]=Y[ee+3-oe];ee=$e}}J.l=re,J.p=be,J.b=ee,re&&(le=1,J.m=ye,J.d=pe,J.n=se)}while(!le);return ee==Y.length?Y:(function(tt,ae,Ee){(Ee==null||Ee>tt.length)&&(Ee=tt.length);var ft=new(tt instanceof n?n:tt instanceof i?i:e)(Ee-ae);return ft.set(tt.subarray(ae,Ee)),ft})(Y,0,ee)},U=new e(0),W=typeof TextDecoder<"u"&&new TextDecoder;try{W.decode(U,{stream:!0})}catch{}return t.convert_streams=function(H){var Y=new DataView(H),J=0;function ie(){var ke=Y.getUint16(J);return J+=2,ke}function X(){var ke=Y.getUint32(J);return J+=4,ke}function te(ke){fe.setUint16(Oe,ke),Oe+=2}function de(ke){fe.setUint32(Oe,ke),Oe+=4}for(var he={signature:X(),flavor:X(),length:X(),numTables:ie(),reserved:ie(),totalSfntSize:X(),majorVersion:ie(),minorVersion:ie(),metaOffset:X(),metaLength:X(),metaOrigLength:X(),privOffset:X(),privLength:X()},le=0;Math.pow(2,le)<=he.numTables;)le++;le--;for(var V=16*Math.pow(2,le),ee=16*he.numTables-V,re=12,pe=[],ye=0;ye<he.numTables;ye++)pe.push({tag:X(),offset:X(),compLength:X(),origLength:X(),origChecksum:X()}),re+=16;var se,ce=new Uint8Array(12+16*pe.length+pe.reduce((function(ke,me){return ke+me.origLength+4}),0)),Se=ce.buffer,fe=new DataView(Se),Oe=0;return de(he.flavor),te(he.numTables),te(V),te(le),te(ee),pe.forEach((function(ke){de(ke.tag),de(ke.origChecksum),de(re),de(ke.origLength),ke.outOffset=re,(re+=ke.origLength)%4!=0&&(re+=4-re%4)})),pe.forEach((function(ke){var me,ut=H.slice(ke.offset,ke.offset+ke.compLength);if(ke.compLength!=ke.origLength){var _e=new Uint8Array(ke.origLength);me=new Uint8Array(ut,2),I(me,_e)}else _e=new Uint8Array(ut);ce.set(_e,ke.outOffset);var Ae=0;(re=ke.outOffset+ke.origLength)%4!=0&&(Ae=4-re%4),ce.set(new Uint8Array(Ae).buffer,ke.outOffset+ke.origLength),se=re+Ae})),Se.slice(0,se)},Object.defineProperty(t,"__esModule",{value:!0}),t})({}).convert_streams}function pve(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,a=2,s=4,l=8,u=16,f=32;let p;function g(k){if(!p){const z={R:a,L:r,D:s,C:u,U:f,T:l};p=new Map;for(let I in i){let U=0;i[I].split(",").forEach(W=>{let[H,Y]=W.split("+");H=parseInt(H,36),Y=Y?parseInt(Y,36):0,p.set(U+=H,z[I]);for(let J=Y;J--;)p.set(++U,z[I])})}}return p.get(k)||f}const v=1,y=2,_=3,w=4,S=[null,"isol","init","fina","medi"];function M(k){const z=new Uint8Array(k.length);let I=f,U=v,W=-1;for(let H=0;H<k.length;H++){const Y=k.codePointAt(H);let J=g(Y)|0,ie=v;J&l||(I&(r|s|u)?J&(a|s|u)?(ie=_,(U===v||U===_)&&z[W]++):J&(r|f)&&(U===y||U===w)&&z[W]--:I&(a|f)&&(U===y||U===w)&&z[W]--,U=z[H]=ie,I=J,W=H,Y>65535&&H++)}return z}function R(k,z){const I=[];for(let W=0;W<z.length;W++){const H=z.codePointAt(W);H>65535&&W++,I.push(t.U.codeToGlyph(k,H))}const U=k.GSUB;if(U){const{lookupList:W,featureList:H}=U;let Y;const J=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ie=[];H.forEach(X=>{if(J.test(X.tag))for(let te=0;te<X.tab.length;te++){if(ie[X.tab[te]])continue;ie[X.tab[te]]=!0;const de=W[X.tab[te]],he=/^(isol|init|fina|medi)$/.test(X.tag);he&&!Y&&(Y=M(z));for(let le=0;le<I.length;le++)(!Y||!he||S[Y[le]]===X.tag)&&t.U._applySubs(I,le,de,W)}})}return I}function T(k,z){const I=new Int16Array(z.length*3);let U=0;for(;U<z.length;U++){const J=z[U];if(J===-1)continue;I[U*3+2]=k.hmtx.aWidth[J];const ie=k.GPOS;if(ie){const X=ie.lookupList;for(let te=0;te<X.length;te++){const de=X[te];for(let he=0;he<de.tabs.length;he++){const le=de.tabs[he];if(de.ltype===1){if(t._lctf.coverageIndex(le.coverage,J)!==-1&&le.pos){Y(le.pos,U);break}}else if(de.ltype===2){let V=null,ee=W();if(ee!==-1){const re=t._lctf.coverageIndex(le.coverage,z[ee]);if(re!==-1){if(le.fmt===1){const pe=le.pairsets[re];for(let ye=0;ye<pe.length;ye++)pe[ye].gid2===J&&(V=pe[ye])}else if(le.fmt===2){const pe=t.U._getGlyphClass(z[ee],le.classDef1),ye=t.U._getGlyphClass(J,le.classDef2);V=le.matrix[pe][ye]}if(V){V.val1&&Y(V.val1,ee),V.val2&&Y(V.val2,U);break}}}}else if(de.ltype===4){const V=t._lctf.coverageIndex(le.markCoverage,J);if(V!==-1){const ee=W(H),re=ee===-1?-1:t._lctf.coverageIndex(le.baseCoverage,z[ee]);if(re!==-1){const pe=le.markArray[V],ye=le.baseArray[re][pe.markClass];I[U*3]=ye.x-pe.x+I[ee*3]-I[ee*3+2],I[U*3+1]=ye.y-pe.y+I[ee*3+1];break}}}else if(de.ltype===6){const V=t._lctf.coverageIndex(le.mark1Coverage,J);if(V!==-1){const ee=W();if(ee!==-1){const re=z[ee];if(P(k,re)===3){const pe=t._lctf.coverageIndex(le.mark2Coverage,re);if(pe!==-1){const ye=le.mark1Array[V],se=le.mark2Array[pe][ye.markClass];I[U*3]=se.x-ye.x+I[ee*3]-I[ee*3+2],I[U*3+1]=se.y-ye.y+I[ee*3+1];break}}}}}}}}else if(k.kern&&!k.cff){const X=W();if(X!==-1){const te=k.kern.glyph1.indexOf(z[X]);if(te!==-1){const de=k.kern.rval[te].glyph2.indexOf(J);de!==-1&&(I[X*3+2]+=k.kern.rval[te].vals[de])}}}}return I;function W(J){for(let ie=U-1;ie>=0;ie--)if(z[ie]!==-1&&(!J||J(z[ie])))return ie;return-1}function H(J){return P(k,J)===1}function Y(J,ie){for(let X=0;X<3;X++)I[ie*3+X]+=J[X]||0}}function P(k,z){const I=k.GDEF&&k.GDEF.glyphClassDef;return I?t.U._getGlyphClass(z,I):0}function O(...k){for(let z=0;z<k.length;z++)if(typeof k[z]=="number")return k[z]}function N(k){const z=Object.create(null),I=k["OS/2"],U=k.hhea,W=k.head.unitsPerEm,H=O(I&&I.sTypoAscender,U&&U.ascender,W),Y={unitsPerEm:W,ascender:H,descender:O(I&&I.sTypoDescender,U&&U.descender,0),capHeight:O(I&&I.sCapHeight,H),xHeight:O(I&&I.sxHeight,H),lineGap:O(I&&I.sTypoLineGap,U&&U.lineGap),supportsCodePoint(J){return t.U.codeToGlyph(k,J)>0},forEachGlyph(J,ie,X,te){let de=0;const he=1/Y.unitsPerEm*ie,le=R(k,J);let V=0;const ee=T(k,le);return le.forEach((re,pe)=>{if(re!==-1){let ye=z[re];if(!ye){const{cmds:se,crds:ce}=t.U.glyphToPath(k,re);let Se="",fe=0;for(let _e=0,Ae=se.length;_e<Ae;_e++){const Me=n[se[_e]];Se+=se[_e];for(let Ge=1;Ge<=Me;Ge++)Se+=(Ge>1?",":"")+ce[fe++]}let Oe,ke,me,ut;if(ce.length){Oe=ke=1/0,me=ut=-1/0;for(let _e=0,Ae=ce.length;_e<Ae;_e+=2){let Me=ce[_e],Ge=ce[_e+1];Me<Oe&&(Oe=Me),Ge<ke&&(ke=Ge),Me>me&&(me=Me),Ge>ut&&(ut=Ge)}}else Oe=me=ke=ut=0;ye=z[re]={index:re,advanceWidth:k.hmtx.aWidth[re],xMin:Oe,yMin:ke,xMax:me,yMax:ut,path:Se}}te.call(null,ye,de+ee[pe*3]*he,ee[pe*3+1]*he,V),de+=ee[pe*3+2]*he,X&&(de+=X*ie)}V+=J.codePointAt(V)>65535?2:1}),de}};return Y}return function(z){const I=new Uint8Array(z,0,4),U=t._bin.readASCII(I,0,4);if(U==="wOFF")z=e(z);else if(U==="wOF2")throw new Error("woff2 fonts not supported");return N(t.parse(z)[0])}}const mve=n0({name:"Typr Font Parser",dependencies:[dve,hve,pve],init(t,e,n){const i=t(),r=e();return n(i,r)}});function gve(){return(function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(T){var P=T>>5;this.buckets.set(P,(this.buckets.get(P)||0)|1<<(31&T))},e.prototype.has=function(T){var P=this.buckets.get(T>>5);return P!==void 0&&(P&1<<(31&T))!=0},e.prototype.serialize=function(){var T=[];return this.buckets.forEach((function(P,O){T.push((+O).toString(36)+":"+P.toString(36))})),T.join(",")},e.prototype.deserialize=function(T){var P=this;this.buckets.clear(),T.split(",").forEach((function(O){var N=O.split(":");P.buckets.set(parseInt(N[0],36),parseInt(N[1],36))}))};var n=Math.pow(2,8),i=n-1,r=~i;function a(T){var P=(function(N){return N&r})(T).toString(16),O=(function(N){return(N&r)+n-1})(T).toString(16);return"codepoint-index/plane"+(T>>16)+"/"+P+"-"+O+".json"}function s(T,P){var O=T&i,N=P.codePointAt(O/6|0);return((N=(N||48)-48)&1<<O%6)!=0}function l(T,P){var O;(O=T,O.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(N){return N.split("-").map((function(k){return parseInt(k.trim(),16)}))}))).forEach((function(N){var k=N[0],z=N[1];z===void 0&&(z=k),P(k,z)}))}function u(T,P){l(T,(function(O,N){for(var k=O;k<=N;k++)P(k)}))}var f={},p={},g=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function y(T){var P=g.get(T);return P||(P=new e,u(T.ranges,(function(O){return P.add(O)})),g.set(T,P)),P}var _,w=new Map;function S(T,P,O){return T[P]?P:T[O]?O:(function(N){for(var k in N)return k})(T)}function M(T,P){var O=P;if(!T.includes(O)){O=1/0;for(var N=0;N<T.length;N++)Math.abs(T[N]-P)<Math.abs(O-P)&&(O=T[N])}return O}function R(T){return _||(_=new Set,u("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(P){_.add(P)}))),_.has(T)}return t.CodePointSet=e,t.clearCache=function(){f={},p={}},t.getFontsForString=function(T,P){P===void 0&&(P={});var O,N=P.lang;N===void 0&&(N=new RegExp("\\p{Script=Hangul}","u").test(O=T)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(O)?"ja":"en");var k=P.category;k===void 0&&(k="sans-serif");var z=P.style;z===void 0&&(z="normal");var I=P.weight;I===void 0&&(I=400);var U=(P.dataUrl||v).replace(/\/$/g,""),W=new Map,H=new Uint8Array(T.length),Y={},J={},ie=new Array(T.length),X=new Map,te=!1;function de(V){var ee=w.get(V);return ee||(ee=fetch(U+"/"+V).then((function(re){if(!re.ok)throw new Error(re.statusText);return re.json().then((function(pe){if(!Array.isArray(pe)||pe[0]!==1)throw new Error("Incorrect schema version; need 1, got "+pe[0]);return pe[1]}))})).catch((function(re){if(U!==v)return te||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+U+'", trying default CDN. '+re.message),te=!0),U=v,w.delete(V),de(V);throw re})),w.set(V,ee)),ee}for(var he=function(V){var ee=T.codePointAt(V),re=a(ee);ie[V]=re,f[re]||X.has(re)||X.set(re,de(re).then((function(pe){f[re]=pe}))),ee>65535&&(V++,le=V)},le=0;le<T.length;le++)he(le);return Promise.all(X.values()).then((function(){X.clear();for(var V=function(re){var pe=T.codePointAt(re),ye=null,se=f[ie[re]],ce=void 0;for(var Se in se){var fe=J[Se];if(fe===void 0&&(fe=J[Se]=new RegExp(Se).test(N||"en")),fe){for(var Oe in ce=Se,se[Se])if(s(pe,se[Se][Oe])){ye=Oe;break}break}}if(!ye){e:for(var ke in se)if(ke!==ce){for(var me in se[ke])if(s(pe,se[ke][me])){ye=me;break e}}}ye||(console.debug("No font coverage for U+"+pe.toString(16)),ye="latin"),ie[re]=ye,p[ye]||X.has(ye)||X.set(ye,de("font-meta/"+ye+".json").then((function(ut){p[ye]=ut}))),pe>65535&&(re++,ee=re)},ee=0;ee<T.length;ee++)V(ee);return Promise.all(X.values())})).then((function(){for(var V,ee=null,re=0;re<T.length;re++){var pe=T.codePointAt(re);if(ee&&(R(pe)||y(ee).has(pe)))H[re]=H[re-1];else{ee=p[ie[re]];var ye=Y[ee.id];if(!ye){var se=ee.typeforms,ce=S(se,k,"sans-serif"),Se=S(se[ce],z,"normal"),fe=M((V=se[ce])===null||V===void 0?void 0:V[Se],I);ye=Y[ee.id]=U+"/font-files/"+ee.id+"/"+ce+"."+Se+"."+fe+".woff"}var Oe=W.get(ye);Oe==null&&(Oe=W.size,W.set(ye,Oe)),H[re]=Oe}pe>65535&&(re++,H[re]=H[re-1])}return{fontUrls:Array.from(W.keys()),chars:H}}))},Object.defineProperty(t,"__esModule",{value:!0}),t})({})}function vve(t,e){const n=Object.create(null),i=Object.create(null);function r(s,l){const u=f=>{console.error(`Failure loading font ${s}`,f)};try{const f=new XMLHttpRequest;f.open("get",s,!0),f.responseType="arraybuffer",f.onload=function(){if(f.status>=400)u(new Error(f.statusText));else if(f.status>0)try{const p=t(f.response);p.src=s,l(p)}catch(p){u(p)}},f.onerror=u,f.send()}catch(f){u(f)}}function a(s,l){let u=n[s];u?l(u):i[s]?i[s].push(l):(i[s]=[l],r(s,f=>{f.src=s,n[s]=f,i[s].forEach(p=>p(f)),delete i[s]}))}return function(s,l,{lang:u,fonts:f=[],style:p="normal",weight:g="normal",unicodeFontsURL:v}={}){const y=new Uint8Array(s.length),_=[];s.length||R();const w=new Map,S=[];if(p!=="italic"&&(p="normal"),typeof g!="number"&&(g=g==="bold"?700:400),f&&!Array.isArray(f)&&(f=[f]),f=f.slice().filter(P=>!P.lang||P.lang.test(u)).reverse(),f.length){let k=0;(function z(I=0){for(let U=I,W=s.length;U<W;U++){const H=s.codePointAt(U);if(k===1&&_[y[U-1]].supportsCodePoint(H)||U>0&&/\s/.test(s[U]))y[U]=y[U-1],k===2&&(S[S.length-1][1]=U);else for(let Y=y[U],J=f.length;Y<=J;Y++)if(Y===J){const ie=k===2?S[S.length-1]:S[S.length]=[U,U];ie[1]=U,k=2}else{y[U]=Y;const{src:ie,unicodeRange:X}=f[Y];if(!X||T(H,X)){const te=n[ie];if(!te){a(ie,()=>{z(U)});return}if(te.supportsCodePoint(H)){let de=w.get(te);typeof de!="number"&&(de=_.length,_.push(te),w.set(te,de)),y[U]=de,k=1;break}}}H>65535&&U+1<W&&(y[U+1]=y[U],U++,k===2&&(S[S.length-1][1]=U))}M()})()}else S.push([0,s.length-1]),M();function M(){if(S.length){const P=S.map(O=>s.substring(O[0],O[1]+1)).join(`
`);e.getFontsForString(P,{lang:u||void 0,style:p,weight:g,dataUrl:v}).then(({fontUrls:O,chars:N})=>{const k=_.length;let z=0;S.forEach(U=>{for(let W=0,H=U[1]-U[0];W<=H;W++)y[U[0]+W]=N[z++]+k;z++});let I=0;O.forEach((U,W)=>{a(U,H=>{_[W+k]=H,++I===O.length&&R()})})})}else R()}function R(){l({chars:y,fonts:_})}function T(P,O){for(let N=0;N<O.length;N++){const[k,z=k]=O[N];if(k<=P&&P<=z)return!0}return!1}}}const yve=n0({name:"FontResolver",dependencies:[vve,mve,gve],init(t,e,n){return t(e,n())}});function xve(t,e){const i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",a=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:_,lang:w,fonts:S,style:M,weight:R,preResolvedFonts:T,unicodeFontsURL:P},O){const N=({chars:k,fonts:z})=>{let I,U;const W=[];for(let H=0;H<k.length;H++)k[H]!==U?(U=k[H],W.push(I={start:H,end:H,fontObj:z[k[H]]})):I.end=H;O(W)};T?N(T):t(_,N,{lang:w,fonts:S,style:M,weight:R,unicodeFontsURL:P})}function l({text:_="",font:w,lang:S,sdfGlyphSize:M=64,fontSize:R=400,fontWeight:T=1,fontStyle:P="normal",letterSpacing:O=0,lineHeight:N="normal",maxWidth:k=1/0,direction:z,textAlign:I="left",textIndent:U=0,whiteSpace:W="normal",overflowWrap:H="normal",anchorX:Y=0,anchorY:J=0,metricsOnly:ie=!1,unicodeFontsURL:X,preResolvedFonts:te=null,includeCaretPositions:de=!1,chunkedBoundsSize:he=8192,colorRanges:le=null},V){const ee=g(),re={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),R=+R,O=+O,k=+k,N=N||"normal",U=+U,s({text:_,lang:S,style:P,weight:T,fonts:typeof w=="string"?[{src:w}]:w,unicodeFontsURL:X,preResolvedFonts:te},pe=>{re.fontLoad=g()-ee;const ye=isFinite(k);let se=null,ce=null,Se=null,fe=null,Oe=null,ke=null,me=null,ut=null,_e=0,Ae=0,Me=W!=="nowrap";const Ge=new Map,Z=g();let at=U,qe=0,Ne=new v;const Ze=[Ne];pe.forEach(Re=>{const{fontObj:be}=Re,{ascender:nt,descender:Je,unitsPerEm:pt,lineGap:St,capHeight:Xe,xHeight:$e}=be;let tt=Ge.get(be);if(!tt){const He=R/pt,Qe=N==="normal"?(nt-Je+St)*He:N*R,mt=(Qe-(nt-Je)*He)/2,et=Math.min(Qe,(nt-Je)*He),ze=(nt+Je)/2*He+et/2;tt={index:Ge.size,src:be.src,fontObj:be,fontSizeMult:He,unitsPerEm:pt,ascender:nt*He,descender:Je*He,capHeight:Xe*He,xHeight:$e*He,lineHeight:Qe,baseline:-mt-nt*He,caretTop:ze,caretBottom:ze-et},Ge.set(be,tt)}const{fontSizeMult:ae}=tt,Ee=_.slice(Re.start,Re.end+1);let ft,ue;be.forEachGlyph(Ee,R,O,(He,Qe,mt,et)=>{Qe+=qe,et+=Re.start,ft=Qe,ue=He;const ze=_.charAt(et),st=He.advanceWidth*ae,bt=Ne.count;let xt;if("isEmpty"in He||(He.isWhitespace=!!ze&&new RegExp(r).test(ze),He.canBreakAfter=!!ze&&a.test(ze),He.isEmpty=He.xMin===He.xMax||He.yMin===He.yMax||i.test(ze)),!He.isWhitespace&&!He.isEmpty&&Ae++,Me&&ye&&!He.isWhitespace&&Qe+st+at>k&&bt){if(Ne.glyphAt(bt-1).glyphObj.canBreakAfter)xt=new v,at=-Qe;else for(let hn=bt;hn--;)if(hn===0&&H==="break-word"){xt=new v,at=-Qe;break}else if(Ne.glyphAt(hn).glyphObj.canBreakAfter){xt=Ne.splitAt(hn+1);const Sn=xt.glyphAt(0).x;at-=Sn;for(let Yn=xt.count;Yn--;)xt.glyphAt(Yn).x-=Sn;break}xt&&(Ne.isSoftWrapped=!0,Ne=xt,Ze.push(Ne),_e=k)}let Nt=Ne.glyphAt(Ne.count);Nt.glyphObj=He,Nt.x=Qe+at,Nt.y=mt,Nt.width=st,Nt.charIndex=et,Nt.fontData=tt,ze===`
`&&(Ne=new v,Ze.push(Ne),at=-(Qe+st+O*R)+U)}),qe=ft+ue.advanceWidth*ae+O*R});let q=0;Ze.forEach(Re=>{let be=!0;for(let nt=Re.count;nt--;){const Je=Re.glyphAt(nt);be&&!Je.glyphObj.isWhitespace&&(Re.width=Je.x+Je.width,Re.width>_e&&(_e=Re.width),be=!1);let{lineHeight:pt,capHeight:St,xHeight:Xe,baseline:$e}=Je.fontData;pt>Re.lineHeight&&(Re.lineHeight=pt);const tt=$e-Re.baseline;tt<0&&(Re.baseline+=tt,Re.cap+=tt,Re.ex+=tt),Re.cap=Math.max(Re.cap,Re.baseline+St),Re.ex=Math.max(Re.ex,Re.baseline+Xe)}Re.baseline-=q,Re.cap-=q,Re.ex-=q,q+=Re.lineHeight});let j=0,oe=0;if(Y&&(typeof Y=="number"?j=-Y:typeof Y=="string"&&(j=-_e*(Y==="left"?0:Y==="center"?.5:Y==="right"?1:f(Y)))),J&&(typeof J=="number"?oe=-J:typeof J=="string"&&(oe=J==="top"?0:J==="top-baseline"?-Ze[0].baseline:J==="top-cap"?-Ze[0].cap:J==="top-ex"?-Ze[0].ex:J==="middle"?q/2:J==="bottom"?q:J==="bottom-baseline"?-Ze[Ze.length-1].baseline:f(J)*q)),!ie){const Re=e.getEmbeddingLevels(_,z);se=new Uint16Array(Ae),ce=new Uint8Array(Ae),Se=new Float32Array(Ae*2),fe={},me=[1/0,1/0,-1/0,-1/0],ut=[],de&&(ke=new Float32Array(_.length*4)),le&&(Oe=new Uint8Array(Ae*3));let be=0,nt=-1,Je=-1,pt,St;if(Ze.forEach((Xe,$e)=>{let{count:tt,width:ae}=Xe;if(tt>0){let Ee=0;for(let et=tt;et--&&Xe.glyphAt(et).glyphObj.isWhitespace;)Ee++;let ft=0,ue=0;if(I==="center")ft=(_e-ae)/2;else if(I==="right")ft=_e-ae;else if(I==="justify"&&Xe.isSoftWrapped){let et=0;for(let ze=tt-Ee;ze--;)Xe.glyphAt(ze).glyphObj.isWhitespace&&et++;ue=(_e-ae)/et}if(ue||ft){let et=0;for(let ze=0;ze<tt;ze++){let st=Xe.glyphAt(ze);const bt=st.glyphObj;st.x+=ft+et,ue!==0&&bt.isWhitespace&&ze<tt-Ee&&(et+=ue,st.width+=ue)}}const He=e.getReorderSegments(_,Re,Xe.glyphAt(0).charIndex,Xe.glyphAt(Xe.count-1).charIndex);for(let et=0;et<He.length;et++){const[ze,st]=He[et];let bt=1/0,xt=-1/0;for(let Nt=0;Nt<tt;Nt++)if(Xe.glyphAt(Nt).charIndex>=ze){let hn=Nt,Sn=Nt;for(;Sn<tt;Sn++){let Yn=Xe.glyphAt(Sn);if(Yn.charIndex>st)break;Sn<tt-Ee&&(bt=Math.min(bt,Yn.x),xt=Math.max(xt,Yn.x+Yn.width))}for(let Yn=hn;Yn<Sn;Yn++){const Zi=Xe.glyphAt(Yn);Zi.x=xt-(Zi.x+Zi.width-bt)}break}}let Qe;const mt=et=>Qe=et;for(let et=0;et<tt;et++){const ze=Xe.glyphAt(et);Qe=ze.glyphObj;const st=Qe.index,bt=Re.levels[ze.charIndex]&1;if(bt){const xt=e.getMirroredCharacter(_[ze.charIndex]);xt&&ze.fontData.fontObj.forEachGlyph(xt,0,0,mt)}if(de){const{charIndex:xt,fontData:Nt}=ze,hn=ze.x+j,Sn=ze.x+ze.width+j;ke[xt*4]=bt?Sn:hn,ke[xt*4+1]=bt?hn:Sn,ke[xt*4+2]=Xe.baseline+Nt.caretBottom+oe,ke[xt*4+3]=Xe.baseline+Nt.caretTop+oe;const Yn=xt-nt;Yn>1&&p(ke,nt,Yn),nt=xt}if(le){const{charIndex:xt}=ze;for(;xt>Je;)Je++,le.hasOwnProperty(Je)&&(St=le[Je])}if(!Qe.isWhitespace&&!Qe.isEmpty){const xt=be++,{fontSizeMult:Nt,src:hn,index:Sn}=ze.fontData,Yn=fe[hn]||(fe[hn]={});Yn[st]||(Yn[st]={path:Qe.path,pathBounds:[Qe.xMin,Qe.yMin,Qe.xMax,Qe.yMax]});const Zi=ze.x+j,jr=ze.y+Xe.baseline+oe;Se[xt*2]=Zi,Se[xt*2+1]=jr;const pr=Zi+Qe.xMin*Nt,mr=jr+Qe.yMin*Nt,ra=Zi+Qe.xMax*Nt,ei=jr+Qe.yMax*Nt;pr<me[0]&&(me[0]=pr),mr<me[1]&&(me[1]=mr),ra>me[2]&&(me[2]=ra),ei>me[3]&&(me[3]=ei),xt%he===0&&(pt={start:xt,end:xt,rect:[1/0,1/0,-1/0,-1/0]},ut.push(pt)),pt.end++;const Hn=pt.rect;if(pr<Hn[0]&&(Hn[0]=pr),mr<Hn[1]&&(Hn[1]=mr),ra>Hn[2]&&(Hn[2]=ra),ei>Hn[3]&&(Hn[3]=ei),se[xt]=st,ce[xt]=Sn,le){const In=xt*3;Oe[In]=St>>16&255,Oe[In+1]=St>>8&255,Oe[In+2]=St&255}}}}}),ke){const Xe=_.length-nt;Xe>1&&p(ke,nt,Xe)}}const De=[];Ge.forEach(({index:Re,src:be,unitsPerEm:nt,ascender:Je,descender:pt,lineHeight:St,capHeight:Xe,xHeight:$e})=>{De[Re]={src:be,unitsPerEm:nt,ascender:Je,descender:pt,lineHeight:St,capHeight:Xe,xHeight:$e}}),re.typesetting=g()-Z,V({glyphIds:se,glyphFontIndices:ce,glyphPositions:Se,glyphData:fe,fontData:De,caretPositions:ke,glyphColors:Oe,chunkedBounds:ut,fontSize:R,topBaseline:oe+Ze[0].baseline,blockBounds:[j,oe-q,j+_e,oe],visibleBounds:me,timings:re})})}function u(_,w){l({..._,metricsOnly:!0},S=>{const[M,R,T,P]=S.blockBounds;w({width:T-M,height:P-R})})}function f(_){let w=_.match(/^([\d.]+)%$/),S=w?parseFloat(w[1]):NaN;return isNaN(S)?0:S/100}function p(_,w,S){const M=_[w*4],R=_[w*4+1],T=_[w*4+2],P=_[w*4+3],O=(R-M)/S;for(let N=0;N<S;N++){const k=(w+N)*4;_[k]=M+O*N,_[k+1]=M+O*(N+1),_[k+2]=T,_[k+3]=P}}function g(){return(self.performance||Date).now()}function v(){this.data=[]}const y=["glyphObj","x","y","width","charIndex","fontData"];return v.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(_){let w=v.flyweight;return w.data=this.data,w.index=_,w},splitAt(_){let w=new v;return w.data=this.data.splice(_*y.length),w}},v.flyweight=y.reduce((_,w,S,M)=>(Object.defineProperty(_,w,{get(){return this.data[this.index*y.length+S]},set(R){this.data[this.index*y.length+S]=R}}),_),{data:null,index:0}),{typeset:l,measure:u}}const ap=()=>(self.performance||Date).now(),pE=jj();let L2;function bve(t,e,n,i,r,a,s,l,u,f,p=!0){return p?Sve(t,e,n,i,r,a,s,l,u,f).then(null,g=>(L2||(console.warn("WebGL SDF generation failed, falling back to JS",g),L2=!0),U2(t,e,n,i,r,a,s,l,u,f))):U2(t,e,n,i,r,a,s,l,u,f)}const K_=[],_ve=5;let tR=0;function Hj(){const t=ap();for(;K_.length&&ap()-t<_ve;)K_.shift()();tR=K_.length?setTimeout(Hj,0):0}const Sve=(...t)=>new Promise((e,n)=>{K_.push(()=>{const i=ap();try{pE.webgl.generateIntoCanvas(...t),e({timing:ap()-i})}catch(r){n(r)}}),tR||(tR=setTimeout(Hj,0))}),Mve=4,wve=2e3,I2={};let Eve=0;function U2(t,e,n,i,r,a,s,l,u,f){const p="TroikaTextSDFGenerator_JS_"+Eve++%Mve;let g=I2[p];return g||(g=I2[p]={workerModule:n0({name:p,workerId:p,dependencies:[jj,ap],init(v,y){const _=v().javascript.generate;return function(...w){const S=y();return{textureData:_(...w),timing:y()-S}}},getTransferables(v){return[v.textureData.buffer]}}),requests:0,idleTimer:null}),g.requests++,clearTimeout(g.idleTimer),g.workerModule(t,e,n,i,r,a).then(({textureData:v,timing:y})=>{const _=ap(),w=new Uint8Array(v.length*4);for(let S=0;S<v.length;S++)w[S*4+f]=v[S];return pE.webglUtils.renderImageData(s,w,l,u,t,e,1<<3-f),y+=ap()-_,--g.requests===0&&(g.idleTimer=setTimeout(()=>{nve(p)},wve)),{timing:y}})}function Ave(t){t._warm||(pE.webgl.isSupported(t),t._warm=!0)}const Tve=pE.webglUtils.resizeWebGLCanvasWithoutClearing,Kv={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Cve=new At;function sg(){return(self.performance||Date).now()}const k2=Object.create(null);function Wj(t,e){t=Dve({},t);const n=sg(),i=[];if(t.font&&i.push({label:"user",src:Ove(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Kv.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Kv.unicodeFontsURL,t.colorRanges!=null){let v={};for(let y in t.colorRanges)if(t.colorRanges.hasOwnProperty(y)){let _=t.colorRanges[y];typeof _!="number"&&(_=Cve.set(_).getHex()),v[y]=_}t.colorRanges=v}Object.freeze(t);const{textureWidth:r,sdfExponent:a}=Kv,{sdfGlyphSize:s}=t,l=r/s*4;let u=k2[s];if(!u){const v=document.createElement("canvas");v.width=r,v.height=s*256/l,u=k2[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:v,sdfTexture:new Ki(v,void 0,void 0,void 0,Jn,Jn),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,Rve(u)}const{sdfTexture:f,sdfCanvas:p}=u;Yj(t).then(v=>{const{glyphIds:y,glyphFontIndices:_,fontData:w,glyphPositions:S,fontSize:M,timings:R}=v,T=[],P=new Float32Array(y.length*4);let O=0,N=0;const k=sg(),z=w.map(Y=>{let J=u.glyphsByFont.get(Y.src);return J||u.glyphsByFont.set(Y.src,J=new Map),J});y.forEach((Y,J)=>{const ie=_[J],{src:X,unitsPerEm:te}=w[ie];let de=z[ie].get(Y);if(!de){const{path:re,pathBounds:pe}=v.glyphData[X][Y],ye=Math.max(pe[2]-pe[0],pe[3]-pe[1])/s*(Kv.sdfMargin*s+.5),se=u.glyphCount++,ce=[pe[0]-ye,pe[1]-ye,pe[2]+ye,pe[3]+ye];z[ie].set(Y,de={path:re,atlasIndex:se,sdfViewBox:ce}),T.push(de)}const{sdfViewBox:he}=de,le=S[N++],V=S[N++],ee=M/te;P[O++]=le+he[0]*ee,P[O++]=V+he[1]*ee,P[O++]=le+he[2]*ee,P[O++]=V+he[3]*ee,y[J]=de.atlasIndex}),R.quads=(R.quads||0)+(sg()-k);const I=sg();R.sdf={};const U=p.height,W=Math.ceil(u.glyphCount/l),H=Math.pow(2,Math.ceil(Math.log2(W*s)));H>U&&(console.info(`Increasing SDF texture size ${U}->${H}`),Tve(p,r,H),f.dispose()),Promise.all(T.map(Y=>Xj(Y,u,t.gpuAccelerateSDF).then(({timing:J})=>{R.sdf[Y.atlasIndex]=J}))).then(()=>{T.length&&!u.contextLost&&(qj(u),f.needsUpdate=!0),R.sdfTotal=sg()-I,R.total=sg()-n,e(Object.freeze({parameters:t,sdfTexture:f,sdfGlyphSize:s,sdfExponent:a,glyphBounds:P,glyphAtlasIndices:y,glyphColors:v.glyphColors,caretPositions:v.caretPositions,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,capHeight:v.capHeight,xHeight:v.xHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings}))})}),Promise.resolve().then(()=>{u.contextLost||Ave(p)})}function Xj({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:i,sdfCanvas:r,contextLost:a},s){if(a)return Promise.resolve({timing:-1});const{textureWidth:l,sdfExponent:u}=Kv,f=Math.max(n[2]-n[0],n[3]-n[1]),p=Math.floor(e/4),g=p%(l/i)*i,v=Math.floor(p/(l/i))*i,y=e%4;return bve(i,i,t,n,f,u,r,g,v,y,s)}function Rve(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const i=[];t.glyphsByFont.forEach(r=>{r.forEach(a=>{i.push(Xj(a,t,!0))})}),Promise.all(i).then(()=>{qj(t),t.sdfTexture.needsUpdate=!0})})}function Pve({font:t,characters:e,sdfGlyphSize:n},i){let r=Array.isArray(e)?e.join(`
`):""+e;Wj({font:t,sdfGlyphSize:n,text:r},i)}function Dve(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let O_;function Ove(t){return O_||(O_=typeof document>"u"?{}:document.createElement("a")),O_.href=t,O_.href}function qj(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:i,height:r}=e,a=t.sdfCanvas.getContext("webgl");let s=n.image.data;(!s||s.length!==i*r*4)&&(s=new Uint8Array(i*r*4),n.image={width:i,height:r,data:s},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,i,r,a.RGBA,a.UNSIGNED_BYTE,s)}}const Nve=n0({name:"Typesetter",dependencies:[xve,yve,rve],init(t,e,n){return t(e,n())}}),Yj=n0({name:"Typesetter",dependencies:[Nve],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});Yj.onMainThread;const z2={};function Lve(t){let e=z2[t];return e||(e=z2[t]=new mf(1,1,t,t).translate(.5,.5,0)),e}const Ive="aTroikaGlyphBounds",F2="aTroikaGlyphIndex",Uve="aTroikaGlyphColor";class kve extends cE{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Tr,this.boundingBox=new hr}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Lve(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=n.attributes[i].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,i,r,a){this.updateAttributeData(Ive,e,4),this.updateAttributeData(F2,n,1),this.updateAttributeData(Uve,a,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:i}=this;if(n){const{PI:r,floor:a,min:s,max:l,sin:u,cos:f}=Math,p=r/2,g=r*2,v=Math.abs(n),y=e[0]/v,_=e[2]/v,w=a((y+p)/g)!==a((_+p)/g)?-v:s(u(y)*v,u(_)*v),S=a((y-p)/g)!==a((_-p)/g)?v:l(u(y)*v,u(_)*v),M=a((y+r)/g)!==a((_+r)/g)?v*2:l(v-f(y)*v,v-f(_)*v);i.min.set(w,e[1],n<0?-M:0),i.max.set(S,e[3],n<0?0:M)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(F2).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){n=i[r].end;let a=i[r].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,i){const r=this.getAttribute(e);n?r&&r.array.length===n.length?(r.array.set(n),r.needsUpdate=!0):(this.setAttribute(e,new vp(n,i)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const zve=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Fve=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Bve=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Vve=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function jve(t){const e=eR(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new rt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Nn(0,0,0,0)},uTroikaClipRect:{value:new Nn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new rt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new At},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new an},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:zve,vertexTransform:Fve,fragmentDefs:Bve,fragmentColorTransform:Vve,customRewriter({vertexShader:n,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(n)||(n=n.replace(Gj,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:i}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const nO=new pf({color:16777215,side:nl,transparent:!0}),B2=8421504,V2=new $t,N_=new ne,SC=new ne,Vv=[],Gve=new ne,MC="+x+y";function j2(t){return Array.isArray(t)?t[0]:t}let Kj=()=>{const t=new ki(new mf(1,1),nO);return Kj=()=>t,t},Zj=()=>{const t=new ki(new mf(1,1,32,1),nO);return Zj=()=>t,t};const Hve={type:"syncstart"},Wve={type:"synccomplete"},$j=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Xve=$j.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Qj=class extends ki{constructor(){const e=new kve;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=B2,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=MC,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Hve),Wj({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(Wve),e&&e()})))}onBeforeRender(e,n,i,r,a,s){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return jve(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=nO.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function i(){n.removeEventListener("dispose",i),e.dispose()})),this.hasOutline()){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return j2(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return j2(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:l,blockBounds:u}=r;i.uTroikaSDFTexture.value=l,i.uTroikaSDFTextureSize.value.set(l.image.width,l.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(u),i.uTroikaUseGlyphColors.value=!n&&!!r.glyphColors;let f=0,p=0,g=0,v,y,_,w=0,S=0;if(n){let{outlineWidth:R,outlineOffsetX:T,outlineOffsetY:P,outlineBlur:O,outlineOpacity:N}=this;f=this._parsePercent(R)||0,p=Math.max(0,this._parsePercent(O)||0),v=N,w=this._parsePercent(T)||0,S=this._parsePercent(P)||0}else g=Math.max(0,this._parsePercent(this.strokeWidth)||0),g&&(_=this.strokeColor,i.uTroikaStrokeColor.value.set(_??B2),y=this.strokeOpacity,y==null&&(y=1)),v=this.fillOpacity;i.uTroikaEdgeOffset.value=f,i.uTroikaPositionOffset.value.set(w,S),i.uTroikaBlurRadius.value=p,i.uTroikaStrokeWidth.value=g,i.uTroikaStrokeOpacity.value=y,i.uTroikaFillOpacity.value=v??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let M=this.clipRect;if(M&&Array.isArray(M)&&M.length===4)i.uTroikaClipRect.value.fromArray(M);else{const R=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(u[0]-R,u[1]-R,u[2]+R,u[3]+R)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=n?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const l=e.hasOwnProperty("color")?e.color:e.color=new At;(a!==l._input||typeof a=="object")&&l.set(l._input=a)}let s=this.orientation||MC;if(s!==e._orientation){let l=i.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let u=s!==MC&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(u){let[,f,p,g,v]=u;N_.set(0,0,0)[p]=f==="-"?1:-1,SC.set(0,0,0)[v]=g==="-"?-1:1,V2.lookAt(Gve,N_.cross(SC),SC),l.setFromMatrix4(V2)}else l.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),i=n?parseFloat(n[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new rt){n.copy(e);const i=this.curveRadius;return i&&(n.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),n}worldPositionToTextCoords(e,n=new rt){return N_.copy(e),this.localPositionToTextCoords(this.worldToLocal(N_),n)}raycast(e,n){const{textRenderInfo:i,curveRadius:r}=this;if(i){const a=i.blockBounds,s=r?Zj():Kj(),l=s.geometry,{position:u,uv:f}=l.attributes;for(let p=0;p<f.count;p++){let g=a[0]+f.getX(p)*(a[2]-a[0]);const v=a[1]+f.getY(p)*(a[3]-a[1]);let y=0;r&&(y=r-Math.cos(g/r)*r,g=Math.sin(g/r)*r),u.setXYZ(p,g,v,y)}l.boundingSphere=this.geometry.boundingSphere,l.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,Vv.length=0,s.raycast(e,Vv);for(let p=0;p<Vv.length;p++)Vv[p].object=this,n.push(Vv[p])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,Xve.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};$j.forEach(t=>{const e="_private_"+t;Object.defineProperty(Qj.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new hr;new At;const G2=F.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:i,fontSize:r=1,children:a,characters:s,onSync:l,...u},f)=>{const p=fs(({invalidate:_})=>_),[g]=F.useState(()=>new Qj),[v,y]=F.useMemo(()=>{const _=[];let w="";return F.Children.forEach(a,S=>{typeof S=="string"||typeof S=="number"?w+=S:_.push(S)}),[_,w]},[a]);return zge(()=>new Promise(_=>Pve({font:i,characters:s},_)),["troika-text",i,s]),F.useLayoutEffect(()=>{g.sync(()=>{p(),l&&l(g)})}),F.useEffect(()=>()=>g.dispose(),[g]),F.createElement("primitive",_p({object:g,ref:f,font:i,text:y,anchorX:e,anchorY:n,fontSize:r,sdfGlyphSize:t},u),v)}),qve=()=>parseInt(Zg.replace(/\D+/g,"")),Yve=qve();function Kve(t,e,n){const i=fs(y=>y.size),r=fs(y=>y.viewport),a=typeof t=="number"?t:i.width*r.dpr,s=i.height*r.dpr,l=(typeof t=="number"?n:t)||{},{samples:u=0,depth:f,...p}=l,g=f??l.depthBuffer,v=F.useMemo(()=>{const y=new Zs(a,s,{minFilter:Jn,magFilter:Jn,type:ql,...p});return g&&(y.depthTexture=new yp(a,s,ja)),y.samples=u,y},[]);return F.useLayoutEffect(()=>{v.setSize(a,s),u&&(v.samples=u)},[u,v,a,s]),F.useEffect(()=>()=>v.dispose(),[]),v}const Zve=t=>typeof t=="function",$ve=F.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:i,children:r,...a},s)=>{const l=fs(({set:S})=>S),u=fs(({camera:S})=>S),f=fs(({size:S})=>S),p=F.useRef(null);F.useImperativeHandle(s,()=>p.current,[]);const g=F.useRef(null),v=Kve(e);F.useLayoutEffect(()=>{a.manual||(p.current.aspect=f.width/f.height)},[f,a]),F.useLayoutEffect(()=>{p.current.updateProjectionMatrix()});let y=0,_=null;const w=Zve(r);return t0(S=>{w&&(n===1/0||y<n)&&(g.current.visible=!1,S.gl.setRenderTarget(v),_=S.scene.background,t&&(S.scene.background=t),S.gl.render(S.scene,p.current),S.scene.background=_,S.gl.setRenderTarget(null),g.current.visible=!0,y++)}),F.useLayoutEffect(()=>{if(i){const S=u;return l(()=>({camera:p.current})),()=>l(()=>({camera:S}))}},[p,i,l]),F.createElement(F.Fragment,null,F.createElement("perspectiveCamera",_p({ref:p},a),!w&&r),F.createElement("group",{ref:g},w&&r(v.texture)))}),Qve=F.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:s,onStart:l,onEnd:u,...f},p)=>{const g=fs(N=>N.invalidate),v=fs(N=>N.camera),y=fs(N=>N.gl),_=fs(N=>N.events),w=fs(N=>N.setEvents),S=fs(N=>N.set),M=fs(N=>N.get),R=fs(N=>N.performance),T=e||v,P=i||_.connected||y.domElement,O=F.useMemo(()=>new q0e(T),[T]);return t0(()=>{O.enabled&&O.update()},-1),F.useEffect(()=>(a&&O.connect(a===!0?P:a),O.connect(P),()=>{O.dispose()}),[a,P,n,O,g]),F.useEffect(()=>{const N=I=>{g(),n&&R.regress(),s&&s(I)},k=I=>{l&&l(I)},z=I=>{u&&u(I)};return O.addEventListener("change",N),O.addEventListener("start",k),O.addEventListener("end",z),()=>{O.removeEventListener("start",k),O.removeEventListener("end",z),O.removeEventListener("change",N)}},[s,l,u,O,g,w]),F.useEffect(()=>{if(t){const N=M().controls;return S({controls:O}),()=>S({controls:N})}},[t,O]),F.createElement("primitive",_p({ref:p,object:O,enableDamping:r},f))}),Jve="modulepreload",eye=function(t){return"/testproject/"+t},H2={},Op=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");r=u(n.map(f=>{if(f=eye(f),f in H2)return;H2[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Jve,p||(v.as="script"),v.crossOrigin="",v.href=f,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((y,_)=>{v.addEventListener("load",y),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},tye=F.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:a=[-.1,.1],autoInvalidate:s=!1,...l},u)=>{const f=F.useRef(null);F.useImperativeHandle(u,()=>f.current,[]);const p=F.useRef(Math.random()*1e4);return t0(g=>{var v,y;if(!e||n===0)return;s&&g.invalidate();const _=p.current+g.clock.elapsedTime;f.current.rotation.x=Math.cos(_/4*n)/8*i,f.current.rotation.y=Math.sin(_/4*n)/8*i,f.current.rotation.z=Math.sin(_/4*n)/20*i;let w=Math.sin(_/4*n)/10;w=_D.mapLinear(w,-.1,.1,(v=a?.[0])!==null&&v!==void 0?v:-.1,(y=a?.[1])!==null&&y!==void 0?y:.1),f.current.position.y=w*r,f.current.updateMatrix()}),F.createElement("group",l,F.createElement("group",{ref:f,matrixAutoUpdate:!1},t))});class nye extends Qs{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Yve>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const iye=t=>new ne().setFromSpherical(new IM(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),rye=F.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:i=0,factor:r=4,fade:a=!1,speed:s=1},l)=>{const u=F.useRef(null),[f,p,g]=F.useMemo(()=>{const y=[],_=[],w=Array.from({length:n},()=>(.5+.5*Math.random())*r),S=new At;let M=t+e;const R=e/n;for(let T=0;T<n;T++)M-=R*Math.random(),y.push(...iye(M).toArray()),S.setHSL(T/n,i,.9),_.push(S.r,S.g,S.b);return[new Float32Array(y),new Float32Array(_),new Float32Array(w)]},[n,e,r,t,i]);t0(y=>u.current&&(u.current.uniforms.time.value=y.clock.elapsedTime*s));const[v]=F.useState(()=>new nye);return F.createElement("points",{ref:l},F.createElement("bufferGeometry",null,F.createElement("bufferAttribute",{attach:"attributes-position",args:[f,3]}),F.createElement("bufferAttribute",{attach:"attributes-color",args:[p,3]}),F.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]})),F.createElement("primitive",{ref:u,object:v,attach:"material",blending:zy,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),W2=6,jc=[{name:"Science",color:ku.Science,angle:0},{name:"Technology",color:ku.Technology,angle:60},{name:"Economics",color:ku.Economics,angle:120},{name:"Society",color:ku.Society,angle:180},{name:"Politics",color:ku.Politics,angle:240},{name:"Art",color:ku.Art,angle:300}],py=t=>{const e=t*Math.PI/180;return new ne(Math.cos(e)*W2,0,Math.sin(e)*W2)},aye=(t,e)=>{if(!Array.isArray(t))return 0;const n=t.find(i=>i.name===e);return n?Math.min(n.activeUnits/500,1):0},sye=({position:t,color:e,label:n,load:i})=>{const r=Math.round(i*100),a=Math.max(.1,i*4);return G.jsxs("group",{position:t,children:[G.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[G.jsx("ringGeometry",{args:[1,1.05,64]}),G.jsx("meshBasicMaterial",{color:e,transparent:!0,opacity:.5,side:nl})]}),G.jsxs(tye,{speed:2,rotationIntensity:.2,floatIntensity:.5,children:[G.jsxs("mesh",{position:[0,a/2,0],children:[G.jsx("boxGeometry",{args:[.8,a,.8]}),G.jsx("meshPhysicalMaterial",{color:e,transparent:!0,roughness:.1,metalness:.1,transmission:.9,thickness:1,emissive:e,emissiveIntensity:.2})]}),G.jsxs("mesh",{position:[0,a/2,0],children:[G.jsx("boxGeometry",{args:[.4,a*.8,.4]}),G.jsx("meshStandardMaterial",{color:"white",emissive:e,emissiveIntensity:2})]}),G.jsxs("mesh",{position:[0,2.5,0],children:[G.jsx("cylinderGeometry",{args:[.02,.02,5,8]}),G.jsx("meshBasicMaterial",{color:e,transparent:!0,opacity:.2,blending:zy})]})]}),G.jsxs("group",{position:[0,4.5,0],children:[G.jsx(G2,{fontSize:.4,color:"white",anchorX:"center",anchorY:"bottom",outlineWidth:.02,outlineColor:"black",children:Wl[n]||n}),r>0&&G.jsxs(G2,{position:[0,-.3,0],fontSize:.25,color:e,anchorX:"center",anchorY:"top",children:[r,"% LOAD"]})]})]})},oye=({start:t,end:e,weight:n,color:i})=>{const r=F.useMemo(()=>{const s=new ne().addVectors(t,e).multiplyScalar(.5);return s.y+=3+n*4,new $w(t,s,e).getPoints(20)},[t,e,n]),a=F.useRef(null);return t0(()=>{a.current&&(a.current.material.dashOffset-=.01*(1+n))}),G.jsx($0e,{ref:a,points:r,color:i,lineWidth:Math.max(1,n*3),dashed:!0,dashScale:2,dashSize:.5,dashOffset:0,opacity:.6+n*.4,transparent:!0})},lye=({start:t,end:e,color:n})=>{const i=F.useRef(null),r=.5+Math.random()*.5,a=Math.random()*100;return t0(s=>{if(!i.current)return;const u=(s.clock.getElapsedTime()*r+a)%1,f=new ne().lerpVectors(t,e,u);f.y+=Math.sin(u*Math.PI)*3,i.current.position.copy(f);const p=Math.sin(u*Math.PI)*1.5;i.current.scale.setScalar(p)}),G.jsxs("mesh",{ref:i,children:[G.jsx("sphereGeometry",{args:[.08,8,8]}),G.jsx("meshBasicMaterial",{color:n,toneMapped:!1})]})},uye=()=>{const t=F.useMemo(()=>Array.from({length:20}).map((e,n)=>{const i=jc[Math.floor(Math.random()*jc.length)];let r=jc[Math.floor(Math.random()*jc.length)];for(;i===r;)r=jc[Math.floor(Math.random()*jc.length)];return{id:n,start:py(i.angle),end:py(r.angle),color:i.color}}),[]);return G.jsx("group",{children:t.map(e=>G.jsx(lye,{...e},e.id))})},cye=({clusterMetrics:t=[],graphStats:e})=>G.jsxs("div",{className:"w-full h-full relative",children:[G.jsxs(F0e,{gl:{antialias:!0,toneMapping:Aw},dpr:[1,2],children:[G.jsx($ve,{makeDefault:!0,position:[10,12,14],fov:45}),G.jsx(Qve,{enablePan:!1,autoRotate:!0,autoRotateSpeed:.5,minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/2.1}),G.jsx("ambientLight",{intensity:.5}),G.jsx("pointLight",{position:[10,10,10],intensity:2,color:"#4f46e5"}),G.jsx("pointLight",{position:[-10,10,-10],intensity:2,color:"#ec4899"}),G.jsx(rye,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),G.jsx(F.Suspense,{fallback:null,children:G.jsxs("group",{position:[0,-1,0],children:[jc.map(n=>G.jsx(sye,{position:py(n.angle),color:n.color,label:n.name,load:aye(t,n.name)},n.name)),e?.edges?.map((n,i)=>{const r=jc.find(s=>s.name===n.source),a=jc.find(s=>s.name===n.target);return!r||!a?null:G.jsx(oye,{start:py(r.angle),end:py(a.angle),weight:n.weight,color:r.color},`edge-${i}`)}),G.jsx(uye,{}),G.jsx("gridHelper",{args:[40,40,"#222","#050505"],position:[0,-.01,0]}),G.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.02,0],children:[G.jsx("circleGeometry",{args:[20]}),G.jsx("meshBasicMaterial",{color:"#000000",opacity:.8,transparent:!0})]})]})})]}),G.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)]"})]}),Jj=()=>G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-t-2 border-l-2 border-blue-500/40 z-10"}),G.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t-2 border-r-2 border-blue-500/40 z-10"}),G.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b-2 border-l-2 border-blue-500/40 z-10"}),G.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b-2 border-r-2 border-blue-500/40 z-10"})]}),fye=({user:t,selectedRow:e,stats:n,insights:i})=>{const[r,a]=F.useState("0x"+Math.random().toString(16).substr(2,8).toUpperCase());return So.useEffect(()=>{const s=setInterval(()=>{a("0x"+Math.random().toString(16).substr(2,8).toUpperCase())},5e3);return()=>clearInterval(s)},[]),t?G.jsxs("div",{className:"space-y-6",children:[G.jsxs("div",{className:"glass-card-2 p-5 relative overflow-hidden group/card shadow-[0_0_30px_rgba(0,0,0,0.6)] flex flex-col gap-4",children:[G.jsx("div",{className:"absolute inset-0 bg-hex-pattern opacity-10 pointer-events-none"}),G.jsx("div",{className:"absolute inset-0 bg-grain opacity-0 group-hover/card:opacity-10 transition-opacity pointer-events-none"}),G.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 border-t-2 border-r-2 border-blue-500/50 z-20 opacity-60 group-hover/card:opacity-100 transition-opacity"}),G.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 border-b-2 border-l-2 border-blue-500/50 z-20 opacity-60 group-hover/card:opacity-100 transition-opacity"}),G.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[G.jsxs("div",{className:"flex flex-col gap-1",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 animate-pulse shadow-[0_0_8px_#3b82f6]"}),G.jsx("span",{className:"text-[9px] font-mono text-blue-500/60 uppercase tracking-widest",children:e?" ":"-"})]}),G.jsx("h4",{className:"text-[16px] font-black text-white truncate drop-shadow-[0_0_5px_rgba(59,130,246,0.5)]",children:t.name}),G.jsxs("span",{className:"px-2 py-0.5 bg-blue-500/10 border border-blue-500/20 text-[9px] text-blue-400 uppercase tracking-widest font-black rounded w-fit",children:[t.role," // ",t.age," "]})]}),G.jsxs("div",{className:"text-right shrink-0 bg-black/40 p-2 rounded border border-white/5",children:[G.jsx("div",{className:"text-[7px] font-mono text-white/30 uppercase mb-1 border-b border-white/5 pb-1",children:" "}),G.jsx("div",{className:"text-[9px] font-mono text-blue-300/80",children:r})]})]}),G.jsxs("div",{className:"h-[140px] w-full flex justify-center items-center overflow-hidden relative z-10 -mx-2 mt-2 bg-blue-500/[0.02] rounded-lg border border-white/5",children:[G.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(59,130,246,0.1),transparent_70%)] opacity-50"}),G.jsx("div",{className:"w-[300px] h-[160px] shrink-0 relative z-20",children:G.jsxs(Koe,{cx:"50%",cy:"50%",outerRadius:"70%",data:n,width:300,height:160,children:[G.jsx(sV,{stroke:"#ffffff15"}),G.jsx(lV,{dataKey:"subject",tick:{fill:"#ffffff60",fontSize:9,fontWeight:700}}),G.jsx(pV,{name:"Stats",dataKey:"A",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.4})]})})]})]}),G.jsxs("div",{className:"space-y-3 relative z-10 w-full overflow-hidden",children:[G.jsxs("div",{className:"text-[9px] font-black text-white/40 uppercase tracking-[0.2em] flex items-center justify-between mb-2",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx(iS,{size:10,className:"text-blue-500 animate-pulse"})," "]}),G.jsxs("div",{className:"text-[8px] font-mono text-blue-400/60",children:[": ",(80+Math.random()*19).toFixed(1),"%"]})]}),G.jsxs("div",{className:"h-[24px] w-full bg-black/40 border border-blue-500/20 mb-2 relative overflow-hidden",children:[G.jsx("svg",{className:"w-full h-full",preserveAspectRatio:"none",children:G.jsx("path",{d:"M0,12 Q20,24 40,12 T80,12 T120,12 T160,12 T200,12 T240,12 T280,12 T320,12",fill:"none",stroke:"#3b82f6",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke",className:"drop-shadow-[0_0_4px_#3b82f6] animate-[shiver_0.5s_infinite_linear]",children:G.jsx("animate",{attributeName:"d",values:`
                                    M0,12 Q20,24 40,12 T80,12 T120,12 T160,12 T200,12 T240,12 T280,12 T320,12;
                                    M0,12 Q20,0 40,12 T80,12 T120,12 T160,12 T200,12 T240,12 T280,12 T320,12;
                                    M0,12 Q20,24 40,12 T80,12 T120,12 T160,12 T200,12 T240,12 T280,12 T320,12
                                `,dur:"2s",repeatCount:"indefinite"})})}),G.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent,rgba(0,0,0,0.8))]"})]}),G.jsx("div",{className:"flex flex-col gap-3",children:i.length>0?i.slice(0,4).map((s,l)=>G.jsxs("div",{className:"glass-card-2 relative p-4 overflow-hidden group hover:border-blue-400/30 transition-all duration-300 animate-laser-sweep",style:{animationDelay:`${l*.1}s`,borderLeft:`2px solid ${s.color.replace("text-","").replace("-400","-500")}`},children:[G.jsx("div",{className:"absolute inset-0 bg-hex-pattern opacity-5 pointer-events-none"}),G.jsx("div",{className:"absolute inset-0 bg-grain opacity-0 group-hover:opacity-10 transition-opacity pointer-events-none"}),G.jsxs("div",{className:"flex items-center justify-between mb-2 relative z-10",children:[G.jsx("div",{className:"text-[9px] font-mono text-white/40 uppercase tracking-[0.1em] group-hover:text-blue-400/80 transition-colors",children:"[ _ ]"}),G.jsx("div",{className:"flex items-center gap-1.5",children:G.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${s.id==="instigator"?"bg-red-500 shadow-[0_0_6px_#ef4444]":"bg-cyan-400 shadow-[0_0_6px_#22d3ee]"}`})})]}),G.jsxs("div",{className:"relative z-10",children:[G.jsx("div",{className:"text-[13px] font-medium leading-tight text-white group-hover:text-glow-blue transition-all duration-300 font-inter",children:s.label}),G.jsx("div",{className:"text-[10px] text-white/50 mt-1 font-mono hover:text-white/70",children:s.description}),G.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 opacity-20 group-hover:opacity-40 transition-opacity pointer-events-none w-16 h-8",children:G.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 60 20",children:G.jsx("polyline",{points:"0,10 10,10 15,2 20,18 25,10 35,10 40,5 45,15 50,10 60,10",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:s.color})})})]}),G.jsxs("div",{className:"mt-3 flex items-center gap-3 relative z-10 border-t border-white/5 pt-2",children:[G.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-white/30 font-mono",children:[G.jsx("div",{className:"w-1 h-1 bg-current rounded-full"}),G.jsx("span",{children:""})]}),G.jsx("div",{className:"text-white/20 text-[8px]",children:">"}),G.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-white/30 font-mono",children:[G.jsx("div",{className:"w-1 h-1 bg-current rounded-full"}),G.jsx("span",{children:""})]})]}),G.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-blue-500/50 opacity-50 group-hover:opacity-100 transition-opacity"}),G.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-blue-500/50 opacity-50 group-hover:opacity-100 transition-opacity"})]},s.id)):G.jsx("div",{className:"glass-card-2 p-4 text-center border-dashed border-white/10",children:G.jsx("div",{className:"text-[10px] text-white/20 italic uppercase font-mono animate-pulse",children:"  ..."})})})]})]}):null},dye=({logs:t})=>G.jsxs("div",{className:"pt-6 border-t border-white/10",children:[G.jsxs("div",{className:"text-[10px] font-black text-white/40 uppercase tracking-[0.3em] mb-4 flex items-center gap-2",children:[G.jsx(LF,{size:10,className:"text-blue-500"})," "]}),G.jsx("div",{className:"space-y-3",children:Object.entries(ku).filter(([e])=>["Science","Technology","Economics","Society","Politics","Art"].includes(e)).map(([e,n])=>{const i=t.filter(l=>l.cluster===e).length,r=Math.max(...Object.keys(ku).map(l=>t.filter(u=>u.cluster===l).length),1),a=i/r*100,s=Math.random()*20+10;return G.jsxs("div",{className:"group cursor-default",children:[G.jsxs("div",{className:"flex items-center justify-between mb-1",children:[G.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[G.jsx("div",{className:"w-1.5 h-1.5 rounded-full shadow-[0_0_8px_currentColor] shrink-0",style:{backgroundColor:n,color:n}}),G.jsxs("div",{className:"flex flex-col",children:[G.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider transition-colors truncate leading-none",style:{color:n},children:Wl[e]||e}),G.jsx("div",{className:"h-[2px] bg-white/10 w-full mt-0.5 relative overflow-hidden",children:G.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-current opacity-50",style:{width:`${s}%`,color:n}})})]})]}),G.jsx("span",{className:"text-[11px] font-black text-white tabular-nums min-w-[30px] text-right ml-2 font-mono",children:i.toString().padStart(2,"0")})]}),G.jsxs("div",{className:"h-[3px] w-full bg-white/5 rounded-full overflow-hidden relative",children:[G.jsx("div",{className:"absolute top-0 bottom-0 left-[80%] w-[1px] bg-red-500/50 z-10"}),G.jsx(Va.div,{className:"h-full opacity-60",style:{backgroundColor:n},initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut"}})]})]},e)})})]}),hye=({recentLogs:t,selectedRowId:e,onSelect:n})=>G.jsxs("div",{className:"relative overflow-hidden flex flex-col group min-h-0 min-w-0 flex-1 border-r border-blue-500/10 h-full",children:[G.jsx(Jj,{}),G.jsxs("div",{className:"grid grid-cols-[80px_100px_100px_180px_1fr] gap-2 px-4 h-10 items-center border-b border-white/20 bg-white/5 text-[9px] font-black uppercase tracking-[0.2em] text-white/60 shrink-0",children:[G.jsx("div",{children:""}),G.jsx("div",{children:""}),G.jsx("div",{children:""}),G.jsx("div",{children:""}),G.jsx("div",{children:""})]}),G.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar scroll-smooth relative min-h-0",children:[G.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.15)_50%),linear-gradient(90deg,rgba(0,0,255,0.02),rgba(0,255,0,0.01),rgba(0,0,255,0.02))] bg-[length:100%_2px,3px_100%] opacity-10"}),G.jsx("div",{className:"flex flex-col min-h-0",children:t.map((i,r)=>{const a=e===i.id,s=Math.max(1-r*.08,.4);return G.jsxs("div",{onClick:()=>n(i.id),className:Br("grid grid-cols-[80px_100px_100px_180px_1fr] gap-2 px-4 h-10 border-b border-white/5 items-center cursor-pointer transition-all relative overflow-hidden shrink-0 group",a?"bg-blue-500/15":"hover:bg-blue-500/5"),style:{opacity:a?1:s},children:[G.jsx("div",{className:"text-[10px] tabular-nums text-blue-500/60 font-mono",children:new Date(i.timestamp).toLocaleTimeString([],{hour12:!1})}),G.jsx("div",{className:"font-bold text-white group-hover:text-blue-400 transition-colors truncate text-[10px]",children:i.userId.split(" ")[0]}),G.jsx("div",{className:"min-w-0",children:G.jsx("span",{className:"px-1.5 py-0.5 text-[8px] font-black uppercase rounded-[1px] text-black",style:{backgroundColor:ku[i.cluster]},children:Wl[i.cluster]?.slice(0,10)||i.cluster})}),G.jsx("div",{className:"text-blue-200/90 font-black uppercase text-[9px] truncate",children:i.action}),G.jsx("div",{className:"text-white/40 italic text-[9px] truncate group-hover:text-white/60 transition-colors",children:i.zone}),a&&G.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-blue-500 shadow-[0_0_10px_#3b82f6]"})]},i.id)})})]})]}),wC=({active:t,onClick:e,icon:n,label:i,layoutId:r="tab-bg"})=>G.jsxs("button",{onClick:e,className:Br("group relative flex items-center gap-2 px-5 py-2 rounded-full transition-all duration-300 text-[11px] font-mono font-bold tracking-[0.1em] uppercase",t?"text-white":"text-white/40 hover:text-white"),children:[t&&G.jsx(Va.div,{layoutId:r,className:"absolute inset-0 bg-white/10 rounded-full border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",transition:{type:"spring",bounce:.2,duration:.6}}),G.jsx("span",{className:"relative z-10 group-hover:-translate-y-0.5 transition-transform duration-300",children:n}),G.jsx("span",{className:"relative z-10",children:i})]}),iO=({currentView:t,onChangeView:e})=>G.jsxs("div",{className:"flex-none h-[60px] bg-[#0A0A0B]/95 backdrop-blur-xl border-b border-white/10 flex items-center justify-between px-8 z-50",children:[G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse shadow-[0_0_8px_#3b82f6]"}),G.jsx("h1",{className:"font-mono font-black text-white tracking-[0.15em] text-xl uppercase",children:""})]}),G.jsxs("nav",{className:"flex items-center gap-1 bg-black/30 px-2 py-1.5 rounded-full border border-white/5",children:[G.jsx(wC,{active:t==="physical",onClick:()=>e("physical"),icon:G.jsx(JX,{size:14}),label:"",layoutId:"app-header-tab-bg"}),G.jsx(wC,{active:t==="admin",onClick:()=>e("admin"),icon:G.jsx(iS,{size:14}),label:"",layoutId:"app-header-tab-bg"}),G.jsx(wC,{active:t==="user",onClick:()=>e("user"),icon:G.jsx(dq,{size:14}),label:"",layoutId:"app-header-tab-bg"})]}),G.jsx("div",{className:"flex items-center gap-4",children:G.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white/5 border border-white/5 rounded-full",children:[G.jsx("span",{className:"text-[8px] font-mono text-white/40 uppercase tracking-widest",children:": "}),G.jsxs("div",{className:"flex gap-1.5",children:[G.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-[pulse_0.5s_ease-in-out_infinite] shadow-[0_0_4px_#10b981]",title:"RX"}),G.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-[pulse_0.8s_ease-in-out_infinite] shadow-[0_0_4px_#3b82f6]",title:"TX"})]})]})})]}),pye=({currentView:t,onChangeView:e})=>{const{logs:n,isPlaying:i,toggleSimulation:r,stepSimulation:a,simulationSpeed:s,setSimulationSpeed:l,selectableUsers:u,clusterMetrics:f,qualitativeInsights:p,graphStats:g}=Sp(),[v,y]=F.useState(null),_=F.useMemo(()=>n.slice(0,15),[n]),w=F.useMemo(()=>n.find(P=>P.id===v),[n,v]),S=F.useMemo(()=>w||_[0]||n[0],[w,_,n]),M=F.useMemo(()=>u.find(P=>P.name===S?.userId)||u[0],[u,S]),R=F.useMemo(()=>M?Zoe(M,n,f):[],[M,n,f]),T=F.useMemo(()=>M?[{subject:"INT",A:M.stats.Science/10+20},{subject:"STR",A:M.stats.Technology/10+20},{subject:"AGI",A:M.stats.Society/10+20},{subject:"SPI",A:M.stats.Art/10+20},{subject:"END",A:M.stats.Economics/10+20},{subject:"LUK",A:M.stats.Politics/10+20}]:[],[M]);return G.jsxs("div",{className:"w-full h-screen relative bg-[#020202] overflow-hidden crt-container font-sans selection:bg-blue-500/30 flex flex-col",children:[G.jsx("div",{className:"absolute inset-0 z-0 bg-tech-grid opacity-10 pointer-events-none"}),G.jsx("div",{className:"absolute inset-0 z-0 scanlines opacity-20 pointer-events-none"}),G.jsx("div",{className:"absolute inset-0 z-0 bg-grain pointer-events-none"}),G.jsx("div",{className:"h-[60px] shrink-0 relative z-50",children:G.jsx(iO,{currentView:t,onChangeView:e})}),G.jsxs("div",{className:"flex-1 grid grid-cols-[300px_1fr_280px] grid-rows-[1fr_220px] gap-4 p-4 z-10 overflow-hidden min-h-0",children:[G.jsxs("div",{className:"row-span-2 flex flex-col gap-4 overflow-hidden border-r border-blue-500/10 pr-4",children:[G.jsxs("div",{className:"text-[10px] font-black text-blue-500/50 uppercase tracking-[0.2em] mb-1 px-1 flex items-center gap-2 shrink-0",children:[G.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 animate-pulse"})," "]}),G.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative",children:G.jsx(fye,{user:M,selectedRow:w,stats:T,insights:R})})]}),G.jsxs("div",{className:"relative bg-black/40 border border-blue-500/20 rounded-sm overflow-hidden group",children:[G.jsx(Jj,{}),G.jsx("div",{className:"absolute top-4 left-6 z-20 flex items-center gap-6 pointer-events-none",children:G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 shadow-[0_0_10px_#3b82f6]"}),G.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-white/40",children:" "})]})}),G.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-30 flex items-center gap-4 bg-black/80 backdrop-blur-md px-6 py-2 border border-blue-500/30 rounded-full shadow-2xl opacity-0 group-hover:opacity-100 transition-opacity",children:[G.jsx("div",{className:"flex items-center gap-1 border-r border-white/10 pr-4",children:[.5,1,2,4,6].map(P=>G.jsxs("button",{onClick:()=>l(P),className:Br("w-8 h-5 flex items-center justify-center text-[9px] font-black transition-all",s===P?"text-blue-400":"text-white/20 hover:text-white/40"),children:[P,"X"]},P))}),G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsx("button",{onClick:a,className:"text-white/40 hover:text-white",children:G.jsx(gL,{size:14})}),G.jsx("button",{onClick:r,className:"text-blue-500",children:i?G.jsx(iq,{size:16,fill:"currentColor"}):G.jsx(aq,{size:16,fill:"currentColor"})})]})]}),G.jsx(F.Suspense,{fallback:G.jsx("div",{className:"w-full h-full flex items-center justify-center text-blue-500/50 text-xs shadow-white drop-shadow-md",children:" ..."}),children:G.jsx(cye,{activeCluster:null,clusterMetrics:f,graphStats:g})}),G.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10 p-4",children:[G.jsxs("svg",{className:"absolute inset-4 w-[calc(100%-32px)] h-[calc(100%-32px)]",xmlns:"http://www.w3.org/2000/svg",children:[G.jsxs("defs",{children:[G.jsx("pattern",{id:"ruler-x",x:"0",y:"0",width:"20",height:"10",patternUnits:"userSpaceOnUse",children:G.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"5",stroke:"#3b82f6",strokeWidth:"1",opacity:"0.3"})}),G.jsx("pattern",{id:"ruler-y",x:"0",y:"0",width:"10",height:"20",patternUnits:"userSpaceOnUse",children:G.jsx("line",{x1:"0",y1:"0",x2:"5",y2:"0",stroke:"#3b82f6",strokeWidth:"1",opacity:"0.3"})})]}),G.jsx("path",{d:"M 20 0 L 0 0 L 0 20",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 2"}),G.jsx("path",{d:"M calc(100% - 20px) 0 L 100% 0 L 100% 20",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 2"}),G.jsx("path",{d:"M 0 calc(100% - 20px) L 0 100% L 20 100%",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 2"}),G.jsx("path",{d:"M calc(100% - 20px) 100% L 100% 100% L 100% calc(100% - 20px)",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 2"}),G.jsx("rect",{x:"20",y:"0",width:"calc(100% - 40px)",height:"10",fill:"url(#ruler-x)",opacity:"0.5"}),G.jsx("rect",{x:"0",y:"20",width:"10",height:"calc(100% - 40px)",fill:"url(#ruler-y)",opacity:"0.5"})]}),G.jsxs("div",{className:"absolute top-6 right-6 text-[8px] font-mono text-blue-500/40 text-right flex flex-col gap-0.5",children:[G.jsx("span",{children:"COORD_SYS: CARTESIAN"}),G.jsx("span",{children:"RENDER_TYPE: POINT_CLOUD"}),G.jsx("span",{children:"FOV: 45.00"})]}),G.jsxs("div",{className:"absolute bottom-6 left-6 text-[8px] font-mono text-blue-500/40 flex flex-col gap-0.5",children:[G.jsx("span",{children:"GRID_SIZE: 40x40"}),G.jsx("span",{children:"SCALE_FACTOR: 1.0"})]})]})]}),G.jsxs("div",{className:"row-span-2 flex flex-col gap-6 overflow-hidden border-l border-blue-500/10 pl-4",children:[G.jsxs("div",{className:"space-y-4 shrink-0",children:[G.jsx("div",{className:"text-[10px] font-black text-blue-500/50 uppercase tracking-[0.2em] px-1",children:" "}),G.jsx(dye,{logs:n})]}),G.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-hidden mt-4",children:[G.jsx("div",{className:"text-[10px] font-black text-blue-500/50 uppercase tracking-[0.2em] px-1 shrink-0",children:" "}),G.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar space-y-2 pr-1",children:G.jsx(sp,{mode:"popLayout",children:p.filter(P=>P.type==="hub").map((P,O)=>G.jsxs(Va.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"relative group glass-card-2 p-3 overflow-hidden flex flex-col gap-2 hover:border-blue-500/50 transition-all duration-300",style:{borderLeft:"2px solid rgba(59, 130, 246, 0.8)"},children:[G.jsx("div",{className:"absolute inset-0 bg-grain opacity-0 group-hover:opacity-10 pointer-events-none transition-opacity"}),G.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center bg-blue-500/10 border border-blue-500/20 text-blue-400",children:P.text.includes("")||P.text.includes("")?G.jsx(LF,{size:12}):P.text.includes("")?G.jsx(iS,{size:12}):G.jsx(gL,{size:12})}),G.jsxs("div",{className:"flex flex-col",children:[G.jsxs("span",{className:"text-[9px] font-mono text-blue-500/60 uppercase tracking-widest",children:["CAM_",10+O,"REC"]}),G.jsx("span",{className:"text-[7px] text-white/30 uppercase",children:"LIVE FEED"})]})]}),G.jsxs("div",{className:"flex items-center gap-1.5 bg-red-500/10 px-1.5 py-0.5 rounded border border-red-500/20",children:[G.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-[pulse_1s_ease-in-out_infinite]"}),G.jsx("span",{className:"text-[6px] font-black text-red-400 tracking-widest uppercase",children:"REC"})]})]}),G.jsx("div",{className:"relative z-10 mt-1",children:G.jsx("span",{className:"text-[11px] font-medium text-white leading-tight block group-hover:text-glow-blue transition-all",children:P.text})}),G.jsxs("div",{className:"flex items-center justify-between border-t border-white/5 pt-2 mt-1 relative z-10",children:[G.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4].map(N=>G.jsx("div",{className:"w-0.5 h-2 bg-blue-500/20",style:{height:Math.random()*8+4}},N))}),G.jsxs("span",{className:"text-[7px] font-mono text-white/20",children:["ZONE_ID: ",100+O]})]}),G.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-blue-500/30 opacity-50 group-hover:opacity-100 transition-opacity"}),G.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-blue-500/30 opacity-50 group-hover:opacity-100 transition-opacity"})]},`hub-${O}`))})})]})]}),G.jsx("div",{className:"bg-black/20 shrink-0 border-t border-blue-500/10 pt-4",children:G.jsx(hye,{recentLogs:_,selectedRowId:v,onSelect:y})})]}),G.jsx("div",{className:"fixed top-20 left-4 w-4 h-4 border-t-2 border-l-2 border-blue-500/20 z-50 pointer-events-none"}),G.jsx("div",{className:"fixed top-20 right-4 w-4 h-4 border-t-2 border-r-2 border-blue-500/20 z-50 pointer-events-none"}),G.jsx("div",{className:"fixed bottom-4 left-4 w-4 h-4 border-b-2 border-l-2 border-blue-500/20 z-50 pointer-events-none"}),G.jsx("div",{className:"fixed bottom-4 right-4 w-4 h-4 border-b-2 border-r-2 border-blue-500/20 z-50 pointer-events-none"}),G.jsxs("div",{className:"h-[30px] bg-black/80 border-t border-blue-500/20 flex items-center justify-between px-6 z-50",children:[G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsx(iS,{size:12,className:"text-emerald-500 animate-pulse"}),G.jsx("span",{className:"text-[9px] font-mono text-white/40 tracking-widest uppercase",children:"System Integrity: 99.9% // Monitoring Stream Active"})]}),G.jsx("div",{className:"text-[9px] font-mono text-blue-500/50",children:"GATEWAY_PHYSICAL_ACCESS_V5"})]})]})},mye=()=>{const{logs:t,currentUser:e}=Sp(),n=F.useMemo(()=>{const i=t.filter(a=>a.userId===e.id||a.userId===e.name),r={};return i.forEach(a=>{const s=a.cluster;r[s]||(r[s]={count:0,recentAction:"",lastTime:0}),r[s].count++,a.timestamp>r[s].lastTime&&(r[s].recentAction=a.action,r[s].lastTime=a.timestamp)}),Object.entries(r).map(([a,s])=>({cluster:a,count:s.count,recentAction:s.recentAction,lastTime:s.lastTime,color:my(a),label:Wl[a]||a})).sort((a,s)=>s.count-a.count).slice(0,8)},[t,e]);return n.length===0?G.jsx("div",{className:"text-center py-6 text-[10px] text-gray-700 font-mono animate-pulse",children:"  ..."}):G.jsx("div",{className:"grid grid-cols-3 gap-2",children:G.jsx(sp,{children:n.map((i,r)=>G.jsxs(Va.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:r*.05},className:"relative p-3 rounded-sm border border-white/10 bg-black/30 group hover:border-white/20 transition-all overflow-hidden",style:{boxShadow:`inset 0 0 20px ${i.color}10, 0 0 8px ${i.color}15`},children:[G.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{background:`radial-gradient(circle at 50% 100%, ${i.color}40, transparent 70%)`}}),G.jsx("div",{className:"absolute top-2 right-2",children:G.jsx(Va.div,{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:i.color},animate:{scale:[1,1.3,1],opacity:[.5,1,.5]},transition:{repeat:1/0,duration:2}})}),G.jsx("div",{className:"text-[9px] font-bold uppercase tracking-wider mb-1",style:{color:i.color},children:i.label}),G.jsx(Va.div,{className:"text-xl font-black text-white tabular-nums",initial:{scale:1.2},animate:{scale:1},children:i.count},i.count),G.jsx("div",{className:"text-[7px] font-mono text-gray-500 truncate mt-1 uppercase",children:i.recentAction})]},i.cluster))})})},gye=()=>{const{logs:t,selectableUsers:e}=Sp(),[n,i]=F.useState(null),[r,a]=F.useState(!1),s=F.useMemo(()=>{const l=t.slice().sort((u,f)=>f.timestamp-u.timestamp).slice(0,30);return n?l.filter(u=>u.userId===n||e.find(f=>f.id===n)?.name===u.userId):l},[t,n,e]);return G.jsxs("div",{className:"flex flex-col gap-2",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx(oq,{size:10,className:"text-green-400 animate-pulse"}),G.jsx("h3",{className:"text-[9px] font-mono font-bold uppercase tracking-widest text-gray-400",children:" "})]}),G.jsxs("div",{className:"relative",children:[G.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-1 px-2 py-1 bg-white/5 border border-white/10 rounded text-[8px] font-mono text-gray-300 hover:bg-white/10 transition-colors",children:[n?e.find(l=>l.id===n)?.name.split(" ")[0]||"":" ",G.jsx(qX,{size:10,className:`transition-transform ${r?"rotate-180":""}`})]}),G.jsx(sp,{children:r&&G.jsxs(Va.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"absolute right-0 top-full mt-1 bg-black/95 border border-white/10 rounded shadow-lg z-50 min-w-[120px]",children:[G.jsx("button",{onClick:()=>{i(null),a(!1)},className:"w-full px-3 py-1.5 text-left text-[8px] font-mono text-gray-300 hover:bg-white/10 transition-colors",children:" "}),e.map(l=>G.jsxs("button",{onClick:()=>{i(l.id),a(!1)},className:"w-full px-3 py-1.5 text-left text-[8px] font-mono text-gray-300 hover:bg-white/10 transition-colors flex items-center gap-2",children:[G.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:my(Object.entries(l.stats).sort((u,f)=>f[1]-u[1])[0]?.[0]||"Science")}}),l.name.split(" ")[0]]},l.id))]})})]})]}),G.jsxs("div",{className:"relative border-l-2 border-white/5 ml-3 pl-4 space-y-4 max-h-[450px] overflow-y-auto custom-scrollbar pt-2 pb-10",children:[G.jsx("div",{className:"absolute left-[-1px] top-0 bottom-0 w-[2px] bg-gradient-to-b from-transparent via-blue-500/20 to-transparent"}),G.jsx(sp,{initial:!1,children:s.map((l,u)=>{const f=my(l.cluster),p=typeof l.userId=="string"?l.userId.split(" ")[0]:"Unknown",g=u*.05;return G.jsxs(Va.div,{initial:{opacity:0,x:-10,scale:.95},animate:{opacity:1,x:0,scale:1},transition:{duration:.3,delay:g},className:"relative group/log",children:[G.jsx("div",{className:"absolute left-[-21px] top-1.5 w-2.5 h-2.5 rounded-full border-2 border-[#030303] shadow-[0_0_10px_currentColor] z-10 transition-transform group-hover/log:scale-125",style:{backgroundColor:f,color:f}}),G.jsx("div",{className:"absolute left-[-16px] top-2.5 w-4 h-[1px] bg-white/10 group-hover/log:bg-white/30 transition-colors"}),G.jsxs("div",{className:"bg-white/[0.03] border border-white/5 rounded-r-lg rounded-bl-lg p-2 hover:bg-white/[0.06] transition-all hover:border-white/10 hover:translate-x-1 cursor-default",children:[G.jsxs("div",{className:"flex justify-between items-start mb-1",children:[G.jsx("span",{className:"text-[9px] font-bold text-white/90 uppercase tracking-wide",children:l.action}),G.jsx("span",{className:"text-[8px] font-mono text-white/30 shrink-0",children:new Date(l.timestamp).toLocaleTimeString([],{hour12:!1,minute:"2-digit",second:"2-digit"})})]}),G.jsxs("div",{className:"flex items-center gap-2 text-[8px] font-mono",children:[G.jsxs("span",{className:"text-blue-400 font-bold",children:["@",p]}),G.jsx("span",{className:"text-white/20",children:"::"}),G.jsx("span",{style:{color:f},className:"uppercase font-bold tracking-tight truncate max-w-[120px]",children:Wl[l.cluster]||l.cluster})]})]})]},`${l.timestamp}-${l.id}`)})}),s.length===0&&G.jsx("div",{className:"text-left pl-2 text-[9px] font-mono text-gray-600 animate-pulse italic",children:"//   ..."})]})]})},vye=({children:t,className:e,width:n="w-72",...i})=>G.jsxs(Va.div,{className:Br(n,"overflow-hidden bg-[#050505]/90 backdrop-blur-md border-l-2 border-blue-500 shadow-[0_0_30px_rgba(59,130,246,0.2)]",e),style:{clipPath:"polygon(0 0, 100% 0, 100% 85%, 92% 100%, 0 100%)",...i.style},...i,children:[G.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(0deg, transparent 24%, rgba(59, 130, 246, .3) 25%, rgba(59, 130, 246, .3) 26%, transparent 27%, transparent 74%, rgba(59, 130, 246, .3) 75%, rgba(59, 130, 246, .3) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(59, 130, 246, .3) 25%, rgba(59, 130, 246, .3) 26%, transparent 27%, transparent 74%, rgba(59, 130, 246, .3) 75%, rgba(59, 130, 246, .3) 76%, transparent 77%, transparent)",backgroundSize:"30px 30px"}}),G.jsx("div",{className:"p-5 relative",children:t}),G.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-blue-500/20 clip-path-triangle"})]}),yye=({event:t,onClose:e})=>G.jsx(sp,{children:t&&G.jsxs(vye,{initial:{opacity:0,x:-20,filter:"blur(10px)"},animate:{opacity:1,x:0,filter:"blur(0px)"},exit:{opacity:0,x:-20,filter:"blur(10px)"},transition:{type:"spring",stiffness:400,damping:30},className:"absolute top-24 left-8 z-[100]",children:[G.jsxs("div",{className:"flex justify-between items-start mb-4",children:[G.jsxs("span",{className:"text-[10px] font-mono text-blue-400 uppercase tracking-widest border border-blue-500/30 px-2 py-0.5 rounded-sm bg-blue-500/10",children:[" :: ",t.type]}),G.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors",children:G.jsx(gq,{size:14})})]}),G.jsx("h3",{className:"text-lg font-bold text-white mb-2 leading-tight tracking-tight font-sans",children:t.title}),G.jsx("p",{className:"text-[11px] text-gray-400 mb-5 leading-relaxed font-mono border-l border-white/10 pl-3",children:t.description||"  .  : .    ."}),G.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-2 text-[10px] font-mono text-gray-300 mb-5",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx(WX,{size:10,className:"text-blue-500"}),G.jsx("span",{children:t.date})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx(KX,{size:10,className:"text-blue-500"}),G.jsx("span",{children:t.time})]}),G.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-gray-400",children:[G.jsx(tq,{size:10,className:"text-blue-500"}),G.jsx("span",{className:"truncate",children:" 7G, - 04"})]})]}),G.jsxs("button",{className:"w-full py-2 bg-blue-600 hover:bg-blue-500 text-white text-[10px] font-bold uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2 group",children:[G.jsx("span",{children:""}),G.jsx("div",{className:"w-1 h-1 bg-white rounded-full group-hover:animate-ping"})]})]})}),xye=t=>{const e=Object.entries(t);return e.length===0?"Science":e.sort(([,i],[,r])=>r-i)[0][0]},bye=({themeColor:t})=>{const{selectableUsers:e,currentUser:n,switchUser:i}=Sp();return G.jsxs("div",{className:"flex flex-col gap-3",children:[G.jsxs("div",{className:"flex items-center gap-2 px-1",children:[G.jsx(pq,{size:12,style:{color:t}}),G.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white/50",children:""})]}),G.jsxs("div",{className:"relative w-full min-h-[60px] h-auto bg-black/20 rounded-lg border border-white/5 overflow-hidden group/roster transition-all duration-300",children:[G.jsx("div",{className:"absolute inset-0 bg-hex-pattern opacity-10 pointer-events-none"}),G.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-20",children:[G.jsx("defs",{children:G.jsxs("linearGradient",{id:"lineGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[G.jsx("stop",{offset:"0%",stopColor:"transparent"}),G.jsx("stop",{offset:"50%",stopColor:"#3b82f6"}),G.jsx("stop",{offset:"100%",stopColor:"transparent"})]})}),G.jsx("path",{d:"M40,20 L120,40 L200,20 L280,40",stroke:"url(#lineGrad)",strokeWidth:"1",fill:"none",className:"animate-pulse"}),G.jsx("path",{d:"M40,60 L120,40 L200,60 L280,40",stroke:"url(#lineGrad)",strokeWidth:"1",fill:"none",className:"animate-pulse",style:{animationDelay:"1s"}})]}),G.jsx("div",{className:"grid grid-cols-4 gap-4 p-4 relative z-10",children:e.map((r,a)=>{const s=n.id===r.id,l=a*.1;return G.jsxs("button",{onClick:()=>i(r.id),className:`
                                     relative flex flex-col items-center justify-center gap-2 transition-all duration-500 group/node
                                     ${s?"scale-110":"scale-100 hover:scale-105 opacity-60 hover:opacity-100"}
                                 `,style:{animationDelay:`${l}s`},children:[G.jsxs("div",{className:`
                                    w-10 h-10 rounded-full flex items-center justify-center relative
                                    ${s?"bg-blue-500/20 shadow-[0_0_15px_#3b82f6] border border-blue-400":"bg-white/5 border border-white/10 hover:border-white/30"}
                                    transition-all duration-300
                                `,children:[s&&G.jsx("div",{className:"absolute inset-[-4px] rounded-full border border-blue-500/30 border-t-transparent animate-spin"}),G.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-blue-400 animate-pulse":"bg-gray-500"}`}),G.jsx("span",{className:`absolute text-[10px] font-black ${s?"text-white":"text-transparent group-hover/node:text-white/50"}`,children:r.name.charAt(0)})]}),G.jsx("span",{className:`
                                    text-[7px] font-mono tracking-widest uppercase transition-colors
                                    ${s?"text-blue-400 font-bold":"text-gray-500 group-hover/node:text-gray-300"}
                                `,children:r.name.split(" ")[0]})]},r.id)})})]})]})},_ye=()=>{const{logs:t,currentUser:e}=Sp(),n=F.useMemo(()=>{const r=t.filter(g=>g.userId===e.name).sort((g,v)=>v.timestamp-g.timestamp);if(r.length<5)return[];const a=r.slice(0,10),s=r.slice(10,20),l=g=>{const v={};return g.forEach(y=>{v[y.cluster]=(v[y.cluster]||0)+1}),v},u=l(a),f=l(s);return Array.from(new Set([...Object.keys(u),...Object.keys(f)])).map(g=>{const v=u[g]||0,y=f[g]||0,_=v-y,w=v+y;return{cluster:g,velocity:_,recent:v,previous:y,total:w}}).sort((g,v)=>v.velocity-g.velocity).slice(0,6)},[t,e.name]),i=Math.max(...n.map(r=>r.total),1);return G.jsxs("div",{className:"flex flex-col gap-2",children:[G.jsxs("div",{className:"items-center gap-2 flex",children:[G.jsx(yq,{size:9,className:"text-yellow-500"}),G.jsx("h3",{className:"text-[9px] font-mono font-bold uppercase tracking-widest text-gray-400",children:" "})]}),G.jsx("div",{className:"flex gap-1.5 items-end h-16 border border-white/5 bg-black/20 p-2 rounded-sm",children:n.length===0?G.jsx("div",{className:"w-full text-[9px] font-mono text-gray-600 text-center py-4",children:"    "}):n.map(r=>{const a=Math.max(r.total/i*100,15),s=my(r.cluster),l=r.velocity>0,u=r.velocity<0;return G.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group",children:[G.jsxs("span",{className:`text-[8px] font-mono font-bold ${l?"text-green-400":u?"text-red-400":"text-gray-500"}`,children:[l&&"+",r.velocity]}),G.jsx("div",{className:"w-full h-full flex items-end justify-center",children:G.jsx(Va.div,{className:"w-3 rounded-t-sm relative",style:{backgroundColor:s,boxShadow:`0 0 12px ${s}60, 0 0 24px ${s}30`},initial:{height:0},animate:{height:`${a}%`},transition:{duration:.8,ease:"easeOut"},children:G.jsx("div",{className:"absolute inset-0 rounded-t-sm opacity-50",style:{background:`linear-gradient(to top, ${s}00, ${s}80)`}})})}),G.jsx("span",{className:"text-[7px] font-mono text-center uppercase truncate w-full opacity-60 group-hover:opacity-100 transition-opacity",style:{color:s},title:Wl[r.cluster]||r.cluster,children:(Wl[r.cluster]||r.cluster).slice(0,4)})]},r.cluster)})})]})},Sye=So.memo(_ye),Mye=So.lazy(()=>Op(()=>import("./PersonalKnowledgeGraph-D9cqWY-d.js"),[]).then(t=>({default:t.PersonalKnowledgeGraph}))),wye=So.lazy(()=>Op(()=>import("./SpiderChart-BQvhrh_E.js"),[]).then(t=>({default:t.SpiderChart}))),Eye=({currentView:t,onChangeView:e})=>{const{currentUser:n}=Sp(),[i,r]=F.useState(null),[a,s]=F.useState(!1),l=xye(n.stats),u=my(l),f=F.useMemo(()=>{const g=n.stats,y=Object.entries(g).sort((R,T)=>T[1]-R[1])[0]?.[0]||"Science",_=Wl[y]||y,w=R=>({Science:" ",Technology:" ",Economics:" ",Society:" ",Politics:" ",Art:"",Biology:" ",Psychology:" ",Philosophy:" ",Security:" ",Logistics:" ",Ecology:" ",Information:" ",Health:"",Exploration:" ",Education:" ",Justice:" ",Communication:" ",Infrastructure:" "})[R]||R.toLowerCase(),S=n.id.length+n.eventsAttended,M=[`       "${_}"`,`     ${n.eventsAttended} ,  ${w(y)}`,`    "${_}"  `];return M[S%M.length]},[n.stats,n.eventsAttended,n.id]);F.useEffect(()=>{if((n.stats.Science||0)+(n.stats.Technology||0)>800&&!n.skillsUnlocked.includes("Quantum Biophysics")){const v=setTimeout(()=>{s(!0)},0);return()=>clearTimeout(v)}},[n.stats,n.skillsUnlocked]);const p=F.useCallback(g=>{(g.group==="topic"||g.group==="event")&&r({id:g.id,title:g.title||g.name||g.id,type:g.group==="event"?"":"",date:"2026-05-12",time:"14:00"})},[]);return G.jsxs(xF,{children:[G.jsxs("div",{className:"w-full h-screen flex flex-col bg-[#020202] overflow-hidden font-sans text-slate-200 selection:bg-blue-500/30",children:[G.jsx(iO,{currentView:t,onChangeView:e}),G.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[G.jsxs("div",{className:"w-[60%] h-full relative border-r border-blue-900/20 z-10 bg-grain",children:[G.jsx(F.Suspense,{fallback:G.jsx(C3,{}),children:G.jsx(Mye,{onNodeClick:p})}),G.jsx(sp,{children:i&&G.jsx(yye,{event:i,onClose:()=>r(null)})})]}),G.jsxs("div",{className:"w-[40%] h-full relative overflow-hidden bg-[#030303]/40 flex flex-col",children:[G.jsx("div",{className:"absolute inset-0 bg-[#050505]/60 backdrop-blur-[40px] z-0"}),G.jsx("div",{className:"absolute inset-0 bg-hex-pattern opacity-5 pointer-events-none z-0"}),G.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-[1px] bg-white/10 z-20"}),G.jsx("div",{className:"absolute top-10 bottom-10 left-[-1px] w-[3px] bg-blue-500/50 blur-[2px] z-20"}),G.jsxs("div",{className:"flex-none pt-6 px-6 pb-2 border-b border-white/5 z-10 relative bg-white/[0.01]",children:[G.jsx("div",{className:"flex justify-between items-start mb-2",children:G.jsxs("div",{className:"flex flex-col gap-0.5",children:[G.jsx("h2",{className:"text-xl font-bold text-white uppercase tracking-wider leading-none filter drop-shadow-[0_0_10px_rgba(255,255,255,0.1)]",children:n.name}),G.jsxs("div",{className:"flex items-center gap-3 text-[9px] font-mono text-blue-300/40 uppercase tracking-widest mt-1",children:[G.jsxs("span",{children:["ID: ",n.id.slice(0,8)]}),G.jsx("span",{className:"text-white/10",children:"|"}),G.jsxs("span",{children:[": ",Math.floor(n.eventsAttended/10)+1]})]}),G.jsxs("div",{className:"mt-2 text-[10px] font-medium text-white/40 italic border-l border-blue-500/20 pl-2",children:['"',f,'"']})]})}),G.jsx(bye,{themeColor:u})]}),G.jsxs("div",{className:"flex-none relative p-6 border-b border-white/5 z-10",children:[G.jsx("div",{className:"absolute top-0 left-0 w-20 h-[1px] bg-gradient-to-r from-blue-500/50 to-transparent"}),G.jsxs("div",{className:"flex items-center justify-between mb-4",children:[G.jsxs("h3",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/40 flex items-center gap-2",children:[G.jsx($X,{size:10,className:"text-blue-500"})," "]}),G.jsx("div",{className:"text-[8px] font-mono text-white/20",children:""})]}),G.jsxs("div",{className:"w-full h-[200px] relative rounded-lg border border-white/5 bg-black/40 overflow-hidden group/chart",children:[G.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(59,130,246,0.05),transparent_70%)]"}),G.jsx(F.Suspense,{fallback:G.jsx(C3,{}),children:G.jsx(wye,{themeColor:u})}),G.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 border-t border-r border-white/20"}),G.jsx("div",{className:"absolute bottom-2 left-2 w-2 h-2 border-b border-l border-white/20"})]})]}),G.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative z-10",children:[G.jsxs("section",{className:"p-6",children:[G.jsx("div",{className:"mb-4 sticky top-0 bg-[#030303]/0 backdrop-blur-none z-20 flex justify-between items-center",children:G.jsxs("h3",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/40 flex items-center gap-2",children:[G.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse shadow-[0_0_5px_#ef4444]"}),"-"]})}),G.jsx(mye,{}),G.jsx("div",{className:"mt-6 pt-6 border-t border-white/5 border-dashed",children:G.jsx(gye,{})})]}),G.jsx("section",{className:"p-6 pt-0 opacity-60 hover:opacity-100 transition-opacity duration-500",children:G.jsx(Sye,{})})]})]})]})]}),G.jsx(sp,{children:a&&G.jsx(Va.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm pointer-events-auto bg-grain",onClick:()=>s(!1),children:G.jsx(Va.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},className:"bg-[#121212] border border-yellow-500/30 p-8 rounded-2xl max-w-md w-full relative overflow-hidden shadow-[0_0_100px_rgba(234,179,8,0.2)] text-glow-orange",onClick:g=>g.stopPropagation(),children:G.jsxs("div",{className:"flex flex-col items-center text-center",children:[G.jsx("div",{className:"w-20 h-20 bg-yellow-500/10 rounded-full flex items-center justify-center mb-6 border border-yellow-500/20 animate-pulse",children:G.jsx(cq,{size:40,className:"text-yellow-400 fill-yellow-400"})}),G.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-glow-orange",children:"  "}),G.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"   .   ."}),G.jsx("button",{onClick:()=>s(!1),className:"w-full py-3 bg-yellow-600 hover:bg-yellow-500 text-black font-bold rounded-xl transition-colors text-sm uppercase tracking-wide box-glow-orange",children:""})]})})})})]})},Aye=So.lazy(()=>Op(()=>import("./StrategicVoronoiMap-DiihlbLa.js"),[]).then(t=>({default:t.StrategicVoronoiMap}))),Tye=So.lazy(()=>Op(()=>import("./KPIBento-CuIHXj3w.js"),__vite__mapDeps([0,1])).then(t=>({default:t.KPIBento}))),Cye=So.lazy(()=>Op(()=>import("./AnomalyEngine-BZVp4Jr7.js"),[]).then(t=>({default:t.AnomalyEngine}))),Rye=So.lazy(()=>Op(()=>import("./LiveOccupancy-BRbqrC45.js"),[]).then(t=>({default:t.LiveOccupancy}))),Pye=So.lazy(()=>Op(()=>import("./DemographicMatrix-Dwv-f3ZD.js"),__vite__mapDeps([2,1])).then(t=>({default:t.DemographicMatrix}))),Dye=({currentView:t,onChangeView:e})=>{const{clusterMetrics:n}=Sp(),[i]=F.useState("Science"),[r,a]=F.useState(!1),s=n.find(l=>l.name===i);return G.jsx(xF,{children:G.jsxs("div",{className:"w-full h-screen flex flex-col relative bg-[#050505] overflow-hidden font-['JetBrains_Mono',monospace]",children:[G.jsx("div",{className:"absolute inset-0 pointer-events-none z-[60] opacity-[0.03] bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(0,0,255,0.02),rgba(0,255,0,0.01),rgba(0,0,255,0.02))] bg-[length:100%_2px,3px_100%] pointer-events-none"}),G.jsx(iO,{currentView:t,onChangeView:e}),G.jsx(F.Suspense,{fallback:G.jsx(C3,{}),children:G.jsxs("div",{className:`flex-1 w-full p-6 grid grid-cols-[1fr_1fr_400px] grid-rows-3 gap-6 ${r?"border-[4px] border-red-900/50":""} transition-all duration-500 relative z-10 overflow-hidden`,children:[G.jsx(Va.div,{layout:!0,className:"col-span-2 row-span-2 relative",children:G.jsx(Aye,{})}),G.jsxs("div",{className:"col-span-1 row-span-3 flex flex-col gap-6 backdrop-blur-md bg-white/[0.02] p-6 rounded-2xl border border-white/5 shadow-2xl overflow-hidden relative",children:[G.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/5 blur-[120px] pointer-events-none"}),G.jsx(Va.div,{layout:!0,className:"h-[280px]",children:G.jsx(Rye,{})}),G.jsx(Va.div,{layout:!0,className:"h-[220px]",children:G.jsx(Cye,{metrics:s,showAnomalies:r,onToggle:()=>a(!r)})}),G.jsx("div",{className:"flex-1 min-h-0 mt-2",children:G.jsx(Pye,{})})]}),G.jsx(Va.div,{layout:!0,className:"col-span-2 row-span-1",children:G.jsx(Tye,{})})]})})]})})};function Oye(){const[t,e]=F.useState("physical");return G.jsx(KG,{children:G.jsxs(ZG,{currentView:t,onChangeView:e,children:[t==="physical"&&G.jsx(pye,{currentView:t,onChangeView:e}),t==="user"&&G.jsx(Eye,{currentView:t,onChangeView:e})," ",t==="admin"&&G.jsx(Dye,{currentView:t,onChangeView:e})]})})}GG.createRoot(document.getElementById("root")).render(G.jsx(F.StrictMode,{children:G.jsx(Oye,{})}));export{tj as $,Jn as A,sn as B,Pfe as C,Ga as D,Nn as E,Ww as F,vg as G,ql as H,Qg as I,vs as J,sf as K,Cd as L,Fh as M,ol as N,nl as O,Vc as P,$w as Q,So as R,Ux as S,Bh as T,Lle as U,rt as V,go as W,J8 as X,ej as Y,nj as Z,Q8 as _,uj as a,GS as a$,$8 as a0,ij as a1,oD as a2,Aw as a3,lD as a4,Tw as a5,cD as a6,fD as a7,Ju as a8,Wue as a9,h8 as aA,d8 as aB,Rw as aC,jy as aD,Ks as aE,Vy as aF,ju as aG,iy as aH,mg as aI,dD as aJ,dr as aK,u8 as aL,l8 as aM,kw as aN,o8 as aO,Uw as aP,s8 as aQ,c8 as aR,a8 as aS,Wy as aT,Gc as aU,ja as aV,V3 as aW,LV as aX,NV as aY,jV as aZ,HV as a_,yp as aa,Zc as ab,qa as ac,fr as ad,aj as ae,mf as af,ds as ag,Pg as ah,fl as ai,gd as aj,Zu as ak,pf as al,OV as am,dd as an,kV as ao,Ha as ap,W_ as aq,Fy as ar,By as as,$g as at,Ele as au,$n as av,Bw as aw,an as ax,Zg as ay,Dg as az,ne as b,xM as b$,BV as b0,VV as b1,GV as b2,WV as b3,jS as b4,FV as b5,zV as b6,RV as b7,R3 as b8,PV as b9,Lw as bA,ry as bB,ay as bC,sy as bD,oy as bE,$S as bF,QS as bG,JS as bH,eM as bI,tM as bJ,nM as bK,iM as bL,rM as bM,aM as bN,sM as bO,oM as bP,lM as bQ,uM as bR,cM as bS,fM as bT,dM as bU,hM as bV,pM as bW,mM as bX,gM as bY,vM as bZ,yM as b_,Xu as ba,D3 as bb,P3 as bc,zy as bd,tp as be,ZS as bf,KS as bg,YS as bh,qS as bi,mp as bj,XS as bk,WS as bl,HS as bm,Pw as bn,Dw as bo,mD as bp,gD as bq,hD as br,pD as bs,Rg as bt,vD as bu,yD as bv,Ow as bw,Dx as bx,gp as by,Nw as bz,$t as c,r8 as c$,bM as c0,_M as c1,SM as c2,EM as c3,AM as c4,TM as c5,CM as c6,Hl as c7,B8 as c8,zD as c9,hle as cA,vle as cB,dle as cC,fle as cD,Vh as cE,UV as cF,IV as cG,wue as cH,nle as cI,$V as cJ,ZV as cK,Px as cL,_D as cM,ZD as cN,ED as cO,Rp as cP,v8 as cQ,DV as cR,T8 as cS,ule as cT,qh as cU,Tr as cV,Ku as cW,Ed as cX,Ud as cY,lle as cZ,cle as c_,F8 as ca,V8 as cb,j8 as cc,H8 as cd,W8 as ce,RD as cf,TD as cg,z8 as ch,Ot as ci,Ng as cj,Ox as ck,Ki as cl,wD as cm,MD as cn,f8 as co,Mle as cp,Sle as cq,wle as cr,ble as cs,_le as ct,xle as cu,N3 as cv,yle as cw,gle as cx,mle as cy,ple as cz,ki as d,Gye as d$,Cw as d0,_o as d1,LM as d2,vp as d3,zw as d4,Xy as d5,Ad as d6,vo as d7,Gw as d8,Yy as d9,F0e as dA,Qve as dB,Nye as dC,tye as dD,ip as dE,G2 as dF,Br as dG,Ma as dH,_1 as dI,Dq as dJ,WR as dK,XF as dL,ll as dM,si as dN,WF as dO,xi as dP,zn as dQ,Nd as dR,Ld as dS,xee as dT,_ee as dU,jae as dV,kF as dW,txe as dX,Ie as dY,li as dZ,jye as d_,IM as da,Cp as db,Qs as dc,Ky as dd,Zs as de,XD as df,_p as dg,Nce as dh,yj as di,x8 as dj,Yue as dk,Sp as dl,my as dm,g1 as dn,G as dp,Wl as dq,zye as dr,Koe as ds,sV as dt,lV as du,pV as dv,fs as dw,GG as dx,t0 as dy,ku as dz,At as e,Wye as e0,Hye as e1,q5 as e2,uf as e3,lI as e4,Eee as e5,Dee as e6,Jse as e7,Pd as e8,$u as e9,doe as eA,Ese as eB,poe as eC,moe as eD,koe as eE,jne as eF,iS as eG,Va as eH,sp as eI,yq as eJ,pq as eK,Yl as ea,gae as eb,Jye as ec,exe as ed,Uye as ee,RB as ef,cae as eg,Mp as eh,Kye as ei,uae as ej,Tp as ek,Md as el,Yae as em,kr as en,kye as eo,o$ as ep,Fye as eq,s$ as er,S1 as es,Wa as et,Qc as eu,pre as ev,fre as ew,rl as ex,Lae as ey,KR as ez,G8 as f,lf as g,oi as h,Nx as i,hr as j,D8 as k,xs as l,Lx as m,sE as n,BI as o,FI as p,$R as q,F as r,Fa as s,_g as t,AD as u,Og as v,Et as w,Vt as x,Dn as y,SD as z};
